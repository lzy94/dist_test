(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{"n+IE":function(e,a,t){"use strict";t.r(a);var n,l=t("pVnL"),r=t.n(l),i=(t("IzEo"),t("bx4M")),o=(t("14J3"),t("BMrR")),s=(t("jCWc"),t("kPKH")),c=(t("5NDa"),t("5rEg")),d=t("MVZn"),m=t.n(d),u=(t("/zsF"),t("PArb")),p=(t("+L6B"),t("2/Rp")),f=(t("+BJd"),t("mr32")),E=(t("5Dmo"),t("3S7+")),h=t("lwsE"),g=t.n(h),b=t("W8MJ"),y=t.n(b),v=t("a1gu"),w=t.n(v),I=t("Nsbk"),S=t.n(I),M=t("7W2i"),V=t.n(M),L=(t("2qtc"),t("kLXV")),T=(t("Pwec"),t("CtXQ")),k=(t("bP8k"),t("gFTJ")),B=(t("y8nQ"),t("Vl3Y")),C=t("q1tI"),F=t.n(C),N=t("MuoO"),x=t("CkN6"),z=t("mf+E"),J=t("+n12"),O=t("9zHi"),q=t.n(O),P=t("ZP6J"),R=t.n(P),j=["/lawenfor/train"],D=B.a.Item,U=["未开始","已结束"],H=B.a.create()(function(e){var a=e.modalVisible,t=e.handleModalVisible,n=e.detail,l=function(e){if(e){var a=e.split(",");return[a[0],a[1]]}return[]},r=F.a.createElement("div",{className:R.a.modalHeader},F.a.createElement("div",{className:R.a.title},F.a.createElement("span",{className:R.a.value},"培训详情")));return F.a.createElement(L.a,{destroyOnClose:!0,title:r,visible:a,className:R.a.myModal+" "+R.a.modalbody,onCancel:function(){return t()},footer:null,width:600},F.a.createElement("div",{className:R.a.detailMsg},F.a.createElement("div",{style:{padding:20}},F.a.createElement(k.a,{size:"small",column:1,bordered:!0},F.a.createElement(k.a.Item,{label:"培训主题"},n.trainTitle),F.a.createElement(k.a.Item,{label:"培训内容"},n.trainContent),F.a.createElement(k.a.Item,{label:"培训时间"},l(n.trainTime)[0]+" ~ "+l(n.trainTime)[1]),F.a.createElement(k.a.Item,{label:"培训地点"},n.trainSite),F.a.createElement(k.a.Item,{label:"参与人员"},n.participants),F.a.createElement(k.a.Item,{label:"状态"},U[n.status]),F.a.createElement(k.a.Item,{label:"培训文件"},F.a.createElement("a",{href:J.q+n.trainImg,target:"_blank"},F.a.createElement(T.a,{type:"download"})," 文件下载"))))))}),W=Object(N.connect)(function(e){return{system:e.system,LawenforTrain:e.LawenforTrain,loading:e.loading.models.LawenforTrain}})(n=B.a.create()(n=function(e){function a(){var e,t;g()(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=w()(this,(e=S()(a)).call.apply(e,[this].concat(l)))).state={updateModalVisible:!1,formValues:[],detail:{},pageBean:{page:1,pageSize:10,showTotal:!0}},t.columns=[{title:"培训主题",dataIndex:"trainTitle"},{title:"培训内容",dataIndex:"trainContent",render:function(e){return F.a.createElement(E.a,{title:e},F.a.createElement("a",null,e.length>30?e.substr(0,30)+"......":e))}},{title:"培训地点",dataIndex:"trainSite",render:function(e){return F.a.createElement(E.a,{title:e},F.a.createElement("a",null,e.length>30?e.substr(0,30)+"......":e))}},{title:"培训时间",dataIndex:"trainTime",width:310,render:function(e){if(e){var a=e.split(",");return a[0]+" ~ "+a[1]}return""}},{title:"参与人员",dataIndex:"participants",render:function(e){return F.a.createElement(E.a,{title:e},F.a.createElement("a",null,e.length>30?e.substr(0,30)+"......":e))}},{title:"培训文件",dataIndex:"trainImg",render:function(e){return F.a.createElement(f.a,{color:"#87d068"},F.a.createElement(T.a,{type:"download"})," ",F.a.createElement("a",{href:J.q+e,target:"_blank"},"文件下载"))}},{title:"状态",dataIndex:"status",render:function(e){return U[parseInt(e)]}},{title:"操作",width:70,render:function(e,a){return F.a.createElement(C.Fragment,null,F.a.createElement(E.a,{placement:"left",title:"详情"},F.a.createElement(p.a,{onClick:function(){return t.showUpdateModal(a)},type:"primary",shape:"circle",icon:"eye",size:"small"})),F.a.createElement(u.a,{type:"vertical"}))}}],t.getList=function(e){(0,t.props.dispatch)({type:"LawenforTrain/fetch",payload:e})},t.showUpdateModal=function(e){t.setState({detail:e},function(){t.handleUpdateModalVisible(!0)})},t.handleStandardTableChange=function(e,a,n){var l=t.state.formValues,r={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:l};t.getList(r)},t.handleFormReset=function(){var e=t.props.form,a=t.state.pageBean;e.resetFields(),t.setState({formValues:[]}),t.getList({pageBean:a})},t.handleSearch=function(e){e.preventDefault(),t.props.form.validateFields(function(e,a){if(!e){var n=t.state.pageBean,l=m()({},a),r=Object.keys(l).map(function(e){return l[e]?{property:e,value:l[e],group:"main",operation:"LIKE",relation:"OR"}:""}).filter(function(e){return e});t.setState({formValues:r}),t.getList({pageBean:n,querys:r})}})},t.handleUpdateModalVisible=function(e){t.setState({updateModalVisible:!!e}),e||t.setState({detail:{}})},t}return V()(a,e),y()(a,[{key:"componentDidMount",value:function(){if(Object(J.b)(j[0])){var e=this.state.pageBean;this.getList({pageBean:e})}}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return F.a.createElement(B.a,{onSubmit:this.handleSearch,layout:"inline"},F.a.createElement(o.a,{gutter:{md:8,lg:16,xl:32}},F.a.createElement(s.a,{md:5,sm:24},F.a.createElement(D,null,e("trainTitle")(F.a.createElement(c.a,{addonBefore:"培训主题",placeholder:"请输入"})))),F.a.createElement(s.a,{md:5,sm:24},F.a.createElement(D,null,e("trainContent")(F.a.createElement(c.a,{addonBefore:"培训内容",placeholder:"请输入"})))),F.a.createElement(s.a,{md:5,sm:24},F.a.createElement("span",{className:q.a.submitButtons},F.a.createElement(p.a,{type:"primary",htmlType:"submit"},"查询"),F.a.createElement(p.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this.props,a=e.LawenforTrain.data,t=e.loading,n=this.state,l=n.updateModalVisible,o=n.detail,s={detail:o,handleModalVisible:this.handleUpdateModalVisible};return F.a.createElement(C.Fragment,null,Object(J.b)(j[0])?null:F.a.createElement(z.a,{to:"/exception/403"}),F.a.createElement(i.a,{bordered:!1},F.a.createElement("div",{className:q.a.tableList},F.a.createElement("div",{className:q.a.tableListForm},this.renderSimpleForm()),F.a.createElement(x.a,{size:"middle",selectedRows:0,rowSelection:null,loading:t,data:a,columns:this.columns,onChange:this.handleStandardTableChange}))),l&&"{}"!==JSON.stringify(o)?F.a.createElement(H,r()({},s,{modalVisible:l})):null)}}]),a}(C.PureComponent))||n)||n;a.default=W}}]);