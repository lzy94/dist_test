(window.webpackJsonp=window.webpackJsonp||[]).push([[150],{"n+IE":function(e,t,a){"use strict";a.r(t);var n,l=a("pVnL"),r=a.n(l),i=(a("IzEo"),a("bx4M")),c=(a("14J3"),a("BMrR")),o=(a("jCWc"),a("kPKH")),s=(a("5NDa"),a("5rEg")),d=a("MVZn"),m=a.n(d),u=(a("/zsF"),a("PArb")),p=(a("+L6B"),a("2/Rp")),f=(a("+BJd"),a("mr32")),E=(a("5Dmo"),a("3S7+")),h=a("lwsE"),g=a.n(h),b=a("W8MJ"),y=a.n(b),v=a("a1gu"),w=a.n(v),I=a("Nsbk"),S=a.n(I),M=a("7W2i"),V=a.n(M),L=(a("2qtc"),a("kLXV")),T=(a("Pwec"),a("CtXQ")),k=(a("bP8k"),a("gFTJ")),B=(a("y8nQ"),a("Vl3Y")),C=a("q1tI"),F=a.n(C),N=a("MuoO"),x=a("CkN6"),z=a("mf+E"),J=a("+n12"),O=a("9zHi"),P=a.n(O),R=a("ZP6J"),j=a.n(R),D=["/lawenfor/train"],U=B.a.Item,q=["未开始","已结束"],A=B.a.create()(function(e){var t=e.modalVisible,a=e.handleModalVisible,n=e.detail,l=function(e){if(e){var t=e.split(",");return[t[0],t[1]]}return[]},r=F.a.createElement("div",{className:j.a.modalHeader},F.a.createElement("div",{className:j.a.title},F.a.createElement("span",{className:j.a.value},"培训详情")));return F.a.createElement(L.a,{destroyOnClose:!0,title:r,visible:t,className:"".concat(j.a.myModal," ").concat(j.a.modalbody),onCancel:function(){return a()},footer:null,width:600},F.a.createElement("div",{className:j.a.detailMsg},F.a.createElement("div",{style:{padding:20}},F.a.createElement(k.a,{size:"small",column:1,bordered:!0},F.a.createElement(k.a.Item,{label:"培训主题"},n.trainTitle),F.a.createElement(k.a.Item,{label:"培训内容"},n.trainContent),F.a.createElement(k.a.Item,{label:"培训时间"},"".concat(l(n.trainTime)[0]," ~ ").concat(l(n.trainTime)[1])),F.a.createElement(k.a.Item,{label:"培训地点"},n.trainSite),F.a.createElement(k.a.Item,{label:"参与人员"},n.participants),F.a.createElement(k.a.Item,{label:"状态"},q[n.status]),F.a.createElement(k.a.Item,{label:"培训文件"},F.a.createElement("a",{href:J.t+n.trainImg,target:"_blank"},F.a.createElement(T.a,{type:"download"})," 文件下载"))))))}),H=Object(N.connect)(function(e){return{system:e.system,LawenforTrain:e.LawenforTrain,loading:e.loading.models.LawenforTrain}})(n=B.a.create()(n=function(e){function t(){var e,a;g()(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=w()(this,(e=S()(t)).call.apply(e,[this].concat(l)))).state={updateModalVisible:!1,formValues:[],detail:{},pageBean:{page:1,pageSize:10,showTotal:!0}},a.columns=[{title:"培训主题",dataIndex:"trainTitle"},{title:"培训内容",dataIndex:"trainContent",render:function(e){return F.a.createElement(E.a,{title:e},F.a.createElement("a",null,e.length>30?"".concat(e.substr(0,30),"......"):e))}},{title:"培训地点",dataIndex:"trainSite",render:function(e){return F.a.createElement(E.a,{title:e},F.a.createElement("a",null,e.length>30?"".concat(e.substr(0,30),"......"):e))}},{title:"培训时间",dataIndex:"trainTime",width:310,render:function(e){if(e){var t=e.split(",");return"".concat(t[0]," ~ ").concat(t[1])}return""}},{title:"参与人员",dataIndex:"participants",render:function(e){return F.a.createElement(E.a,{title:e},F.a.createElement("a",null,e.length>30?"".concat(e.substr(0,30),"......"):e))}},{title:"培训文件",dataIndex:"trainImg",render:function(e){return F.a.createElement(f.a,{color:"#87d068"},F.a.createElement(T.a,{type:"download"}),F.a.createElement("a",{href:J.t+e,target:"_blank"},"文件下载"))}},{title:"状态",dataIndex:"status",render:function(e){return q[parseInt(e,10)]}},{title:"操作",width:70,render:function(e,t){return F.a.createElement(C.Fragment,null,F.a.createElement(E.a,{placement:"left",title:"详情"},F.a.createElement(p.a,{onClick:function(){return a.showUpdateModal(t)},type:"primary",shape:"circle",icon:"eye",size:"small"})),F.a.createElement(u.a,{type:"vertical"}))}}],a.getList=function(e){(0,a.props.dispatch)({type:"LawenforTrain/fetch",payload:e})},a.showUpdateModal=function(e){a.setState({detail:e},function(){a.handleUpdateModalVisible(!0)})},a.handleStandardTableChange=function(e){var t=a.state.formValues,n={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:t};a.getList(n)},a.handleFormReset=function(){var e=a.props.form,t=a.state.pageBean;e.resetFields(),a.setState({formValues:[]}),a.getList({pageBean:t})},a.handleSearch=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var n=a.state.pageBean,l=m()({},t),r=Object.keys(l).map(function(e){return l[e]?{property:e,value:l[e],group:"main",operation:"LIKE",relation:"OR"}:""}).filter(function(e){return e});a.setState({formValues:r}),a.getList({pageBean:n,querys:r})}})},a.handleUpdateModalVisible=function(e){a.setState({updateModalVisible:!!e}),e||a.setState({detail:{}})},a}return V()(t,e),y()(t,[{key:"componentDidMount",value:function(){if(Object(J.c)(D[0])){var e=this.state.pageBean;this.getList({pageBean:e})}}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return F.a.createElement(B.a,{onSubmit:this.handleSearch,layout:"inline"},F.a.createElement(c.a,{gutter:{md:8,lg:16,xl:16}},F.a.createElement(o.a,{md:5,sm:24},F.a.createElement(U,null,e("trainTitle")(F.a.createElement(s.a,{addonBefore:"培训主题",placeholder:"请输入"})))),F.a.createElement(o.a,{md:5,sm:24},F.a.createElement(U,null,e("trainContent")(F.a.createElement(s.a,{addonBefore:"培训内容",placeholder:"请输入"})))),F.a.createElement(o.a,{md:5,sm:24},F.a.createElement("span",{className:P.a.submitButtons},F.a.createElement(p.a,{type:"primary",htmlType:"submit"},"查询"),F.a.createElement(p.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this.props,t=e.LawenforTrain.data,a=e.loading,n=this.state,l=n.updateModalVisible,c=n.detail,o={detail:c,handleModalVisible:this.handleUpdateModalVisible};return F.a.createElement(C.Fragment,null,Object(J.c)(D[0])?null:F.a.createElement(z.a,{to:"/exception/403"}),F.a.createElement(i.a,{bordered:!1},F.a.createElement("div",{className:P.a.tableList},F.a.createElement("div",{className:P.a.tableListForm},this.renderSimpleForm()),F.a.createElement(x.a,{size:"middle",selectedRows:0,rowSelection:null,loading:a,data:t,tableAlert:!1,columns:this.columns,onChange:this.handleStandardTableChange}))),l&&"{}"!==JSON.stringify(c)?F.a.createElement(A,r()({},o,{modalVisible:l})):null)}}]),t}(C.PureComponent))||n)||n;t.default=H}}]);