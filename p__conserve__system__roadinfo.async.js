(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{rP3M:function(e,a,t){"use strict";t.r(a);t("IzEo");var n,l,r,o,i,s,d=t("bx4M"),c=(t("14J3"),t("BMrR")),m=(t("jCWc"),t("kPKH")),u=(t("5NDa"),t("5rEg")),g=t("pVnL"),p=t.n(g),f=t("MVZn"),h=t.n(f),E=(t("2qtc"),t("kLXV")),y=(t("miYZ"),t("tsqr")),b=(t("P2fV"),t("NJEC")),k=(t("/zsF"),t("PArb")),v=(t("5Dmo"),t("3S7+")),M=(t("+L6B"),t("2/Rp")),C=t("lwsE"),S=t.n(C),V=t("W8MJ"),I=t.n(V),D=t("a1gu"),N=t.n(D),F=t("Nsbk"),T=t.n(F),A=t("PJYZ"),O=t.n(A),R=t("7W2i"),x=t.n(R),w=(t("OaEy"),t("2fM7")),q=(t("ozfa"),t("MJZm")),L=(t("y8nQ"),t("Vl3Y")),J=t("q1tI"),j=t.n(J),B=t("MuoO"),P=(t("7Kak"),t("9yH6")),K=(t("giR+"),t("fyUT")),z=(t("nRaC"),t("5RzL")),H=t("lTPH"),W=t("ZP6J"),_=t.n(W),U=t("+n12"),Z=t("H9P5"),G=L.a.Item,Y=w.a.Option,Q=Object(B.connect)(function(e){return{system:e.system,RoadInfo:e.RoadInfo,loading:e.loading.models.RoadInfo}})(n=L.a.create()(n=function(e){function a(e){var t;return S()(this,a),(t=N()(this,T()(a).call(this,e))).state={roadMileage:0,startAddr:"",endAddr:"",startlongla:"",endlongla:""},t.getMapData=function(e){var a=e.line,n=e.distance,l=e.startAddr,r=e.endAddr,o=e.sn_lnglat;t.paths=a,t.setState({roadMileage:n/1e3,startAddr:l,endAddr:r,startlongla:o[0].join(),endlongla:o[1].join()})},t.save=function(){var e=t.props.form;e.validateFields(function(a,n){if(!a){var l=t.state,r=l.roadMileage,o=l.startAddr,i=l.endAddr,s=l.startlongla,d=l.endlongla,c=h()({},n,{startAddr:o,endAddr:i,startlongla:s,endlongla:d});c.organName=t.organName,c.roadMileage=r,c.longitudeandlatitude=JSON.stringify(t.paths);var m=t.props,u=m.dispatch,g=m.handleModalVisible,p=m.modalSuccess;u({type:"RoadInfo/add",payload:c,callback:function(){e.resetFields(),y.a.success("添加成功"),g(),p()}})}})},t.treeChange=function(e,a){t.organName=a.length?a[0]:""},t.paths=[],t.organName="",t}return x()(a,e),I()(a,[{key:"componentWillUnmount",value:function(){this.setState({roadMileage:0,startAddr:"",endAddr:"",startlongla:"",endlongla:""})}},{key:"render",value:function(){var e=this.props,a=e.system.treeList,t=e.modalVisible,n=e.handleModalVisible,l=e.form,r=e.loading;return j.a.createElement(E.a,{destroyOnClose:!0,title:"新建公路信息",className:_.a.formModal,visible:t,width:800,onCancel:function(){return n()},footer:[j.a.createElement(M.a,{key:"back",onClick:function(){return n()}},"取消"),j.a.createElement(M.a,{key:"submit",type:"primary",loading:r,onClick:this.save},"确定")]},j.a.createElement("div",{className:_.a.formModalBody},j.a.createElement(c.a,{gutter:40},j.a.createElement(m.a,{md:12,sm:24},j.a.createElement(G,{label:"公路类型"},l.getFieldDecorator("roadType",{rules:[{required:!0,message:"请选择公路类型！"}]})(j.a.createElement(w.a,{style:{width:"100%"},placeholder:"请选择"},H.w.map(function(e,a){return j.a.createElement(Y,{value:a+1,key:"".concat(a,"_road_type")},e)}))))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement(G,{label:"公路编号"},l.getFieldDecorator("roadCode",{rules:[{required:!0,message:"请输入公路编号！"}]})(j.a.createElement(u.a,{placeholder:"请输入"})))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement(G,{label:"公路名称"},l.getFieldDecorator("roadName",{rules:[{required:!0,message:"请输入公路名称！"}]})(j.a.createElement(u.a,{placeholder:"请输入"})))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement(G,{label:"行政区域"},l.getFieldDecorator("organCode",{rules:[{required:!0,message:"请选择行政区域！"}]})(j.a.createElement(z.a,{treeData:a,style:{width:"100%"},placeholder:"请选择",onChange:this.treeChange})))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement(G,{label:"路长"},l.getFieldDecorator("roadElder",{rules:[{required:!0,message:"请输入路长！"}]})(j.a.createElement(u.a,{placeholder:"请输入"})))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement(G,{label:"职务"},l.getFieldDecorator("jobTitle",{rules:[{required:!0,message:"请输入职务！"}]})(j.a.createElement(u.a,{placeholder:"请输入"}))))),j.a.createElement(Z.a,{getMapData:this.getMapData}),j.a.createElement(c.a,{gutter:40},j.a.createElement(m.a,{md:12,sm:24},j.a.createElement(G,{label:"里程（km）"},l.getFieldDecorator("roadMileage",{initialValue:this.state.roadMileage,rules:[{required:!0,message:"请输入里程！"}]})(j.a.createElement(K.a,{readOnly:!0,style:{width:"100%"},placeholder:"请输入"})))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement(G,{label:"是否重点路段"},l.getFieldDecorator("focus",{rules:[{required:!0,message:"请选择！"}]})(j.a.createElement(P.a.Group,null,j.a.createElement(P.a,{value:1},"是"),j.a.createElement(P.a,{value:0},"否"))))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement(G,{label:"负责人"},l.getFieldDecorator("leadingCadre",{rules:[{required:!0,message:"请输入负责人！"}]})(j.a.createElement(u.a,{placeholder:"请输入"})))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement(G,{label:"联系方式"},l.getFieldDecorator("leadingTel",{rules:[{required:!0,validator:U.j}]})(j.a.createElement(u.a,{placeholder:"请输入"})))))))}}]),a}(J.PureComponent))||n)||n,X=(t("T2oS"),t("W9HT")),$=L.a.Item,ee=w.a.Option,ae=Object(B.connect)(function(e){return{system:e.system,RoadInfo:e.RoadInfo,loading:e.loading.models.RoadInfo}})(l=L.a.create()(l=function(e){function a(e){var t;return S()(this,a),(t=N()(this,T()(a).call(this,e))).state={roadMileage:0,detail:{},startAddr:"",endAddr:"",startlongla:"",endlongla:""},t.getMapData=function(e){var a=e.line,n=e.distance,l=e.startAddr,r=e.endAddr,o=e.sn_lnglat;t.paths=a,t.setState({roadMileage:n/1e3,startAddr:l,endAddr:r,startlongla:o[0].join(),endlongla:o[1].join()})},t.save=function(){var e=t.props,a=e.form,n=e.dispatch,l=e.handleModalVisible,r=e.modalSuccess;a.validateFields(function(e,o){if(!e)if(t.paths.length){var i=t.state,s=i.detail,d=i.startAddr,c=i.endAddr,m=i.startlongla,u=i.endlongla,g=JSON.parse(JSON.stringify(s)),p=h()({},o,{startAddr:d,endAddr:c,startlongla:m,endlongla:u});for(var f in p.organCode="object"==typeof p.organCode?p.organCode[0]:p.organCode,p.organName=t.organName,p.longitudeandlatitude=JSON.stringify(t.paths),p)g[f]=p[f];t.setState({detail:g}),n({type:"RoadInfo/update",payload:g,callback:function(){a.resetFields(),l(),r(),y.a.success("编辑成功")}})}else y.a.error("请选择道路")})},t.treeChange=function(e,a){t.organName=a.length?a[0]:""},t.paths=[],t.organName="",t}return x()(a,e),I()(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props;(0,a.dispatch)({type:"RoadInfo/detail",payload:a.id,callback:function(a){var t=a.longitudeandlatitude,n=a.roadMileage,l=a.startAddr,r=a.endAddr;e.paths=JSON.parse(t||"[]"),e.organName=a.organName,e.setState({detail:a,roadMileage:n,startAddr:l,endAddr:r})}})}},{key:"componentWillUnmount",value:function(){this.setState({roadMileage:0,startAddr:"",endAddr:"",startlongla:"",endlongla:""})}},{key:"render",value:function(){var e=this.props,a=e.system.treeList,t=e.modalVisible,n=e.handleModalVisible,l=e.form,r=e.loading,o=this.state.detail;return j.a.createElement(E.a,{destroyOnClose:!0,title:"修改公路信息",className:_.a.formModal,visible:t,width:800,onCancel:function(){return n()},footer:[j.a.createElement(M.a,{key:"back",onClick:function(){return n()}},"取消"),j.a.createElement(M.a,{key:"submit",type:"primary",loading:r,onClick:this.save},"确定")]},j.a.createElement(X.a,{spinning:r},j.a.createElement("div",{className:_.a.formModalBody},j.a.createElement(c.a,{gutter:40},j.a.createElement(m.a,{md:12,sm:24},j.a.createElement($,{label:"公路类型"},l.getFieldDecorator("roadType",{initialValue:o.roadType,rules:[{required:!0,message:"请选择公路类型！"}]})(j.a.createElement(w.a,{style:{width:"100%"},placeholder:"请选择"},H.w.map(function(e,a){return j.a.createElement(ee,{value:a+1,key:"".concat(a,"_road_type")},e)}))))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement($,{label:"公路编号"},l.getFieldDecorator("roadCode",{initialValue:o.roadCode,rules:[{required:!0,message:"请输入公路编号！"}]})(j.a.createElement(u.a,{placeholder:"请输入"})))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement($,{label:"公路名称"},l.getFieldDecorator("roadName",{initialValue:o.roadName,rules:[{required:!0,message:"请输入公路名称！"}]})(j.a.createElement(u.a,{placeholder:"请输入"})))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement($,{label:"行政区域"},l.getFieldDecorator("organCode",{initialValue:[o.organCode],rules:[{required:!0,message:"请选择行政区域！"}]})(j.a.createElement(z.a,{treeData:a,style:{width:"100%"},placeholder:"请选择",onChange:this.treeChange})))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement($,{label:"路长"},l.getFieldDecorator("roadElder",{initialValue:o.roadElder,rules:[{required:!0,message:"请输入路长！"}]})(j.a.createElement(u.a,{placeholder:"请输入"})))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement($,{label:"职务"},l.getFieldDecorator("jobTitle",{initialValue:o.jobTitle,rules:[{required:!0,message:"请输入职务！"}]})(j.a.createElement(u.a,{placeholder:"请输入"}))))),"{}"===JSON.stringify(o)?null:j.a.createElement(Z.a,{getMapData:this.getMapData,startAddr:o.startAddr,endAddr:o.endAddr,line:JSON.parse(o.longitudeandlatitude||"[]")}),j.a.createElement(c.a,{gutter:40},j.a.createElement(m.a,{md:12,sm:24},j.a.createElement($,{label:"里程（km）"},l.getFieldDecorator("roadMileage",{initialValue:this.state.roadMileage?this.state.roadMileage:o.roadMileage,rules:[{required:!0,message:"请输入里程！"}]})(j.a.createElement(K.a,{readOnly:!0,style:{width:"100%"},placeholder:"请输入"})))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement($,{label:"是否重点路段"},l.getFieldDecorator("focus",{initialValue:o.focus,rules:[{required:!0,message:"请选择！"}]})(j.a.createElement(P.a.Group,null,j.a.createElement(P.a,{value:1},"是"),j.a.createElement(P.a,{value:0},"否"))))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement($,{label:"负责人"},l.getFieldDecorator("leadingCadre",{initialValue:o.leadingCadre,rules:[{required:!0,message:"请输入负责人！"}]})(j.a.createElement(u.a,{placeholder:"请输入"})))),j.a.createElement(m.a,{md:12,sm:24},j.a.createElement($,{label:"联系方式"},l.getFieldDecorator("leadingTel",{initialValue:o.leadingTel,rules:[{required:!0,validator:U.j}]})(j.a.createElement(u.a,{placeholder:"请输入"}))))))))}}]),a}(J.PureComponent))||l)||l,te=t("RIqP"),ne=t.n(te),le=t("7DBZ"),re=t("zT9C"),oe=t.n(re),ie=t("5PMe"),se=L.a.Item,de=L.a.create()(function(e){var a=e.modalVisible,t=e.handleModalVisible,n=e.form,l=e.focusMessage,r=e.handleAdd;return j.a.createElement(E.a,{destroyOnClose:!0,className:_.a.formModal,title:"坐标点描述",visible:a,onOk:function(){n.validateFields(function(e,a){e||(n.resetFields(),r(a),t())})},onCancel:function(){return t()}},j.a.createElement(se,{label:"描述"},n.getFieldDecorator("focusMessage",{initialValue:l,rules:[{required:!0,message:"请输入坐标描述！"}]})(j.a.createElement(u.a.TextArea,{placeholder:"请输入"}))))}),ce=Object(B.connect)(function(e){return{RoadInfo:e.RoadInfo,loading:e.loading.models.RoadInfo}})(r=L.a.create()((i=o=function(e){function a(e){var t;return S()(this,a),(t=N()(this,T()(a).call(this,e))).state={center:null,markers:[],focusMessage:"",markersIndex:0,markersModalVisible:!1,longitudeandlatitude:""},t.handleMarkersModalVisible=function(e){t.setState({markersModalVisible:!!e}),e||t.setState({focusMessage:"",markersIndex:0})},t.addMarkers=function(e){var a=oe()(t.state.markers);t.setState({markers:[].concat(ne()(a),[{position:{longitude:e.lng,latitude:e.lat},focusMessage:"",draggable:!0,index:a.length}])})},t.amapEvents=function(){return{click:function(e){var a=e.lnglat;t.addMarkers(a)}}},t.markersEvent=function(){return{dragend:function(e){var a=oe()(t.state.markers),n=e.target.getExtData().index,l=e.lnglat,r=a.map(function(e){return e.index===n?(e.position={longitude:l.lng,latitude:l.lat},e):e});t.setState({markers:r})},click:function(e,a){clearTimeout(t.markerClickTImeOut),t.markerClickTImeOut=setTimeout(function(){var e=a.getExtData(),n=e.index,l=e.focusMessage;t.setState({markersIndex:n,focusMessage:l}),t.handleMarkersModalVisible(!0)},300)},dblclick:function(e){clearTimeout(t.markerClickTImeOut);var a=oe()(t.state.markers),n=e.target.getExtData().index;a.splice(n,1);var l=a.map(function(e,a){return e.index=a,e});t.setState({markers:l})}}},t.polylineEvent=function(){return{click:function(e){var a=e.lnglat;t.addMarkers(a)}}},t.handleAdd=function(e){var a=t.state,n=a.markersIndex,l=a.markers,r=oe()(l),o=e.focusMessage,i=r.map(function(e){return e.index===n?(e.focusMessage=o,e):e});t.setState({markers:i})},t.save=function(){var e=t.props,a=e.dispatch,n=e.id,l=e.handleModalVisible,r=t.state.markers.map(function(e){return{focusPoint:"".concat(e.position.longitude,",").concat(e.position.latitude),focusMessage:e.focusMessage}});a({type:"RoadInfo/addFocus",payload:{id:n,focusInfo:JSON.stringify(r)},callback:function(){y.a.success("添加成功"),l()}})},t.markerClickTImeOut=null,t}return x()(a,e),I()(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props;(0,a.dispatch)({type:"RoadInfo/detail",payload:a.id,callback:function(a){var t=a.startlongla?a.startlongla.split(","):null,n=JSON.parse(a.focusInfo||"[]").map(function(e,a){var t=e.focusPoint.split(",");return{position:{longitude:t[0],latitude:t[1]},focusMessage:e.focusMessage,draggable:!0,index:a}});e.setState({longitudeandlatitude:a.longitudeandlatitude,markers:n,center:t?{longitude:t[0],latitude:t[1]}:null})}})}},{key:"componentWillUnmount",value:function(){this.markerClickTImeOut&&clearTimeout(this.markerClickTImeOut)}},{key:"render",value:function(){var e=this,a=this.props,t=a.modalVisible,n=a.handleModalVisible,l=a.loading,r=this.state,o=r.longitudeandlatitude,i=r.center,s=r.markers,d=r.markersModalVisible,c=r.focusMessage,m=o?j.a.createElement(le.Polyline,{path:JSON.parse(o),events:this.polylineEvent(),key:"polylineDom",style:{isOutline:!0,outlineColor:"#ffeeee",borderWeight:2,strokeWeight:6,strokeColor:"#0091ff",lineJoin:"round",showDir:!0}}):null,u=j.a.createElement(le.Markers,{key:"markersDom",markers:s,events:this.markersEvent()});return j.a.createElement(j.a.Fragment,null,j.a.createElement(E.a,{destroyOnClose:!0,title:"添加关注点",className:_.a.formModal,visible:t,width:700,onCancel:function(){return n()},footer:[j.a.createElement(M.a,{key:"back",onClick:function(){return n()}},"取消"),j.a.createElement(M.a,{key:"submit",type:"primary",loading:l,onClick:function(){return e.save()}},"确定")]},j.a.createElement("div",{className:_.a.formModalBody},j.a.createElement("div",{style:{height:400}},j.a.createElement(ie.a,{amapEvents:this.amapEvents(),center:i,children:[m,u]})))),d?j.a.createElement(de,{modalVisible:d,focusMessage:c,handleAdd:this.handleAdd,handleModalVisible:this.handleMarkersModalVisible}):null)}}]),a}(J.PureComponent),o.defaultProps={modalVisible:!1,handleModalVisible:function(){}},r=i))||r)||r,me=t("CkN6"),ue=t("9zHi"),ge=t.n(ue),pe=t("ns75"),fe=t.n(pe),he=L.a.Item,Ee=q.a.TreeNode,ye=w.a.Option,be=Object(B.connect)(function(e){return{system:e.system,RoadInfo:e.RoadInfo,loading:e.loading.models.RoadInfo}})(s=L.a.create()(s=function(e){function a(){var e,t;S()(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=N()(this,(e=T()(a)).call.apply(e,[this].concat(l)))).state={modalVisible:!1,updateModalVisible:!1,focusVisible:!1,selectedRows:[],formValues:[],expandCheckKeys:[],selectedKeys:[],treeFormValue:{},detailID:0,organCode:"",pageBean:{page:1,pageSize:10,showTotal:!0},baseOrgan:[]},t.columns=[{title:"公路名称",dataIndex:"roadName"},{title:"公路编号",dataIndex:"roadCode"},{title:"路长",dataIndex:"roadElder"},{title:"职务",dataIndex:"jobTitle"},{title:"公路类型",dataIndex:"roadType",render:function(e){return H.w[e-1]}},{title:"里程（km）",dataIndex:"roadMileage"},{title:"起始地",dataIndex:"startAddr"},{title:"结束地",dataIndex:"endAddr"},{title:"操作",width:130,render:function(e,a){return j.a.createElement(J.Fragment,null,j.a.createElement(v.a,{placement:"left",title:"添加关注点"},j.a.createElement(M.a,{onClick:function(){return t.addFocusModal(a.id)},type:"primary",shape:"circle",icon:"environment",size:"small"})),j.a.createElement(k.a,{type:"vertical"}),j.a.createElement(v.a,{placement:"left",title:"编辑"},j.a.createElement(M.a,{onClick:function(){return t.editData(a)},type:"primary",shape:"circle",icon:"edit",size:"small"})),j.a.createElement(k.a,{type:"vertical"}),j.a.createElement(b.a,{title:"是否删除数据?",onConfirm:function(){return t.dataDel(a.id)},okText:"确定",cancelText:"取消"},j.a.createElement(v.a,{placement:"left",title:"删除"},j.a.createElement(M.a,{type:"danger",shape:"circle",icon:"delete",size:"small"}))))}}],t.getList=function(e){(0,t.props.dispatch)({type:"RoadInfo/fetch",payload:e})},t.addFocusModal=function(e){t.setState({detailID:e},function(){return t.handleFocusVisible(!0)})},t.editData=function(e){t.setState({detailID:e.id},function(){return t.handleUpdateModalVisible(!0)})},t.dataDel=function(e){(0,t.props.dispatch)({type:"RoadInfo/remove",payload:{ids:e},callback:function(){y.a.success("删除成功"),t.modalSuccess(),t.setState({selectedRows:[]})}})},t.delBatch=function(){var e=t.state.selectedRows;if(e){var a=O()(t);E.a.confirm({title:"提示",content:"您确定要批量删除吗?",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){a.dataDel(e.map(function(e){return e.id}).join())}})}},t.handleStandardTableChange=function(e,a,n){var l=t.state.formValues,r={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:l};t.getList(r)},t.handleFormReset=function(){t.props.form.resetFields(),t.setState({formValues:[],selectedRows:[],selectedKeys:[],treeFormValue:{}}),t.modalSuccess()},t.handleSelectRows=function(e){t.setState({selectedRows:e})},t.treeSelectChange=function(e,a){t.setState({organCode:e})},t.handleSearch=function(e){e.preventDefault();var a=t.props.form,n=t.state,l=n.pageBean,r=(n.organCode,n.treeFormValue);a.validateFields(function(e,a){if(!e){var n=h()({},a),o=Object.keys(n),i=Object(U.z)("organId").toString();delete n.name;var s=o.map(function(e){return n[e]?{property:e,value:n[e],group:"main",operation:"roadType"===e?"EQUAL":"LIKE",relation:"AND"}:""}),d=s.filter(function(e){return e});t.setState({formValues:d}),Object.keys(r).length?s.unshift(r):s.unshift({property:"organCode",value:i,group:"main",operation:"RIGHT_LIKE",relation:"AND"}),t.getList({pageBean:l,querys:d})}})},t.handleModalVisible=function(e){t.setState({modalVisible:!!e})},t.handleUpdateModalVisible=function(e){t.setState({updateModalVisible:!!e}),e||t.setState({detailID:0})},t.handleFocusVisible=function(e){t.setState({focusVisible:!!e}),e||t.setState({detailID:0})},t.modalSuccess=function(){var e=t.state,a=e.pageBean,n=e.baseOrgan;t.getList({pageBean:a,querys:n})},t.renderTree=function(){var e=t.props.system.treeList;return t.renderTreeNodes(e)},t.renderTreeNodes=function(e){return e.map(function(e){return e.children.length?j.a.createElement(Ee,{title:e.title,key:e.key,dataRef:e},t.renderTreeNodes(e.children)):j.a.createElement(Ee,p()({},e,{key:e.key}))})},t.expandCheck=function(e){t.setState({expandCheckKeys:e})},t.onSelect=function(e,a){if(e[0]){var n=t.state,l=n.formValues,r=n.pageBean,o=JSON.parse(JSON.stringify(l)),i={property:"organCode",value:e[0],group:"main",operation:"RIGHT_LIKE",relation:"AND"};t.setState({selectedKeys:e,treeFormValue:i}),o.unshift(i),t.getList({pageBean:r,querys:o})}},t}return x()(a,e),I()(a,[{key:"componentDidMount",value:function(){var e=this.state.pageBean,a=[{property:"organCode",value:localStorage.getItem("organId"),group:"main",operation:"RIGHT_LIKE",relation:"AND"}];this.setState({baseOrgan:a}),this.getList({pageBean:e,querys:a})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return j.a.createElement(L.a,{onSubmit:this.handleSearch,layout:"inline"},j.a.createElement(c.a,{gutter:{md:8,lg:16,xl:16}},j.a.createElement(m.a,{md:6,sm:24},j.a.createElement(he,null,e("roadName")(j.a.createElement(u.a,{addonBefore:"公路名称",placeholder:"请输入"})))),j.a.createElement(m.a,{md:6,sm:24},j.a.createElement(he,null,e("roadCode")(j.a.createElement(u.a,{addonBefore:"公路编号",placeholder:"请输入"})))),j.a.createElement(m.a,{md:6,sm:24},j.a.createElement("div",{className:fe.a.inputMain},j.a.createElement("span",{style:{width:"80px",lineHeight:"30px",height:"32px"},className:"ant-input-group-addon"},"公路类型"),j.a.createElement(he,{style:{flex:1}},e("roadType")(j.a.createElement(w.a,{placeholder:"请选择",style:{width:"100%"}},H.w.map(function(e,a){return j.a.createElement(ye,{value:a+1,key:a},e)})))))),j.a.createElement(m.a,{md:6,sm:24},j.a.createElement(M.a,{type:"primary",htmlType:"submit"},"查询"),j.a.createElement(M.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置"))))}},{key:"render",value:function(){var e=this,a=this.props,t=a.RoadInfo.data,n=a.system.treeList,l=a.loading,r=this.state,o=r.focusVisible,i=r.selectedRows,s=r.modalVisible,c=r.updateModalVisible,m=r.detailID,u=r.selectedKeys,g=r.expandCheckKeys,f={modalSuccess:this.modalSuccess,handleModalVisible:this.handleModalVisible},h={id:m,modalSuccess:this.modalSuccess,handleModalVisible:this.handleUpdateModalVisible},E={id:m,handleModalVisible:this.handleFocusVisible};return j.a.createElement(J.Fragment,null,j.a.createElement("div",{className:ge.a.tableMain},j.a.createElement("div",{className:ge.a.treeLeft},j.a.createElement(q.a,{selectedKeys:u,showLine:!0,onSelect:this.onSelect,expandedKeys:g[0]?g:[n[0]?n[0].key:""],onExpand:this.expandCheck},this.renderTree())),j.a.createElement("div",{className:ge.a.rightTable},j.a.createElement(d.a,{bordered:!1,style:{height:"100%"}},j.a.createElement("div",{className:ge.a.tableList},j.a.createElement("div",{className:ge.a.tableListForm},this.renderSimpleForm()),j.a.createElement("div",{className:ge.a.tableListOperator},j.a.createElement(M.a,{icon:"plus",type:"primary",onClick:function(){return e.handleModalVisible(!0)}},"新建"),i.length>0&&j.a.createElement(M.a,{type:"danger",onClick:this.delBatch},"批量删除")),j.a.createElement(me.a,{size:"middle",tableAlert:!0,selectedRows:i,loading:l,data:t,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))))),j.a.createElement(Q,p()({modalVisible:s},f)),c&&m?j.a.createElement(ae,p()({modalVisible:c},h)):null,o&&m?j.a.createElement(ce,p()({modalVisible:o},E)):null)}}]),a}(J.PureComponent))||s)||s;a.default=be}}]);