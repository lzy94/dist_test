(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"8d9P":function(e,t,a){"use strict";a.r(t);a("IzEo");var n,r=a("bx4M"),i=(a("14J3"),a("BMrR")),l=(a("+L6B"),a("2/Rp")),o=(a("jCWc"),a("kPKH")),s=(a("iQDF"),a("+eQT")),m=a("lwsE"),c=a.n(m),d=a("W8MJ"),u=a.n(d),p=a("a1gu"),f=a.n(p),y=a("Nsbk"),Y=a.n(y),h=a("7W2i"),g=a.n(h),M=(a("y8nQ"),a("Vl3Y")),D=a("q1tI"),b=a.n(D),v=a("wd/R"),w=a.n(v),E=a("MuoO"),x=a("cVA7"),R=a.n(x),L=a("CkN6"),S=a("YP4+"),T=a("ns75"),k=a.n(T),N=a("9zHi"),B=a.n(N),F=a("GOYV"),C=a.n(F),A=M.a.Item,P=Object(E.connect)(function(e){return{BuildSafetyRaw:e.BuildSafetyRaw,loading:e.loading.models.BuildSafetyRaw}})(n=M.a.create()(n=function(e){function t(){var e,a;c()(this,t);for(var n=arguments.length,r=new Array(n),m=0;m<n;m++)r[m]=arguments[m];return(a=f()(this,(e=Y()(t)).call.apply(e,[this].concat(r)))).state={},a.getList=function(e){(0,a.props.dispatch)({type:"BuildSafetyRaw/rawmaterails",payload:e})},a.handleFormReset=function(){a.props.form.resetFields(),a.getList({startTime:w()().format("YYYY-MM-DD"),endTime:w()().add(1,"days").format("YYYY-MM-DD")})},a.handleSearch=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){var n=t.time?{startTime:w()(t.time[0]).format("YYYY-MM-DD"),endTime:w()(t.time[1]).format("YYYY-MM-DD")}:{startTime:w()().format("YYYY-MM-DD"),endTime:w()().add(1,"days").format("YYYY-MM-DD")};a.getList(n)})},a.renderChart=function(e){var t=Object.keys(e[2]||{}),n={color:["#2498E4"],grid:{top:"8%",left:"0",right:"3%",bottom:"5%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{bottom:10,left:"center",data:["合格率"],itemWidth:14},xAxis:{type:"category",axisLabel:{interval:0,rotate:45},data:S.f[0]},yAxis:{type:"value",axisLabel:{formatter:"{value} %"},splitLine:{show:!1,lineStyle:{color:"#48A2B3"}}},series:[{name:"合格率",data:t.map(function(t){return e[2][t]}).slice(2),type:"bar",barMaxWidth:50,label:{show:!0,position:"top",color:"#333"}}]};return b.a.createElement(R.a,{style:{height:"100%"},ref:a.myChart,option:n})},a.renderForm=function(){var e=a.props.form.getFieldDecorator;return b.a.createElement(M.a,{onSubmit:a.handleSearch,layout:"inline"},b.a.createElement(i.a,{gutter:16},b.a.createElement(o.a,{md:8,sm:24},b.a.createElement("div",{className:k.a.inputMain},b.a.createElement("span",{style:{width:"80px",lineHeight:"30px",height:"32px"},className:"ant-input-group-addon"},"检测时间"),b.a.createElement(A,{style:{flex:1,marginBottom:0}},e("time")(b.a.createElement(s.a.RangePicker,{className:k.a.inputGroupLeftRadius,style:{width:"100%"},format:"YYYY-MM-DD"}))))),b.a.createElement("div",{style:{overflow:"hidden"}},b.a.createElement("div",{style:{float:"right"}},b.a.createElement(l.a,{type:"primary",htmlType:"submit"},"查询"),b.a.createElement(l.a,{style:{marginLeft:8},onClick:a.handleFormReset},"重置")))))},a}return g()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.getList({startTime:w()().format("YYYY-MM-DD"),endTime:w()().add(1,"days").format("YYYY-MM-DD")})}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.BuildSafetyRaw.data;return b.a.createElement("div",{className:C.a.main},b.a.createElement(r.a,{bordered:!1},b.a.createElement("div",{className:B.a.tableListForm},this.renderForm())),b.a.createElement(r.a,{bordered:!1,className:C.a.content,bodyStyle:{height:"100%",display:"flex",flexDirection:"column"}},b.a.createElement("div",{className:C.a.myChart},this.renderChart(a.list)),b.a.createElement("div",{className:C.a.myTable},b.a.createElement(L.a,{tableAlert:!1,selectedRows:0,rowSelection:null,loading:t,data:{list:a.list},size:"middle",columns:a.columns,pagination:!1,scroll:{x:"120%"}}))))}}]),t}(D.PureComponent))||n)||n;t.default=P}}]);