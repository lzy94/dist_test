(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{"450s":function(e,a,t){"use strict";t.r(a);var n,l=t("pVnL"),i=t.n(l),r=(t("IzEo"),t("bx4M")),o=(t("14J3"),t("BMrR")),c=(t("jCWc"),t("kPKH")),s=(t("miYZ"),t("tsqr")),d=(t("P2fV"),t("NJEC")),m=(t("5Dmo"),t("3S7+")),u=t("lwsE"),p=t.n(u),f=t("W8MJ"),h=t.n(f),g=t("a1gu"),E=t.n(g),b=t("Nsbk"),y=t.n(b),v=t("7W2i"),M=t.n(v),k=(t("2qtc"),t("kLXV")),V=(t("5NDa"),t("5rEg")),D=(t("+L6B"),t("2/Rp")),C=(t("y8nQ"),t("Vl3Y")),F=t("q1tI"),L=t.n(F),N=t("MuoO"),w=t("CkN6"),S=t("9zHi"),B=t.n(S),A=t("ZP6J"),J=t.n(A),x=C.a.Item,R=C.a.create()(function(e){var a=e.modalVisible,t=e.form,n=e.handleAdd,l=e.handleModalVisible,i=e.loading;return L.a.createElement(k.a,{destroyOnClose:!0,title:"添加分类",className:J.a.formModal,visible:a,onCancel:function(){return l()},footer:[L.a.createElement(D.a,{key:"back",onClick:function(){return l()}},"取消"),L.a.createElement(D.a,{key:"submit",type:"primary",loading:i,onClick:function(){t.validateFields(function(e,a){e||n(a,function(){return t.resetFields()})})}},"确定")]},L.a.createElement("div",{className:J.a.formModalBody},L.a.createElement(x,{label:"分类名称"},t.getFieldDecorator("categoryName",{rules:[{required:!0,message:"请输入分类名称"}]})(L.a.createElement(V.a,{placeholder:"请输入"})))))}),q=Object(N.connect)(function(e){return{MaritimeDevice:e.MaritimeDevice,loading:e.loading.models.MaritimeDevice}})(n=C.a.create()(n=function(e){function a(){var e,t;p()(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(t=E()(this,(e=y()(a)).call.apply(e,[this].concat(l)))).state={modalVisible:!1,formValues:[]},t.columns=[{title:"分类名称",dataIndex:"categoryName"},{title:"操作",width:80,render:function(e,a){return L.a.createElement(F.Fragment,null,L.a.createElement(d.a,{title:"是否删除数据?",onConfirm:function(){return t.dataDel(a.id_)},okText:"确定",cancelText:"取消"},L.a.createElement(m.a,{placement:"left",title:"删除"},L.a.createElement(D.a,{type:"danger",shape:"circle",icon:"delete",size:"small"}))))}}],t.getList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,t.props.dispatch)({type:"MaritimeDevice/fetchCate",payload:e})},t.dataDel=function(e){(0,t.props.dispatch)({type:"MaritimeDevice/removeCate",payload:{id:e},callback:function(){s.a.success("删除成功"),t.getList({pageBean:t.state.pageBean})}})},t.handleFormReset=function(){t.props.form.resetFields(),t.setState({formValues:[]}),t.getList()},t.handleSearch=function(e){e.preventDefault(),t.props.form.validateFields(function(e,a){if(!e){var n={categoryName:a.name};t.setState({formValues:n}),t.getList(n)}})},t.handleModalVisible=function(e){t.setState({modalVisible:!!e})},t.handleAdd=function(e,a){(0,t.props.dispatch)({type:"MaritimeDevice/addCate",payload:e,callback:function(){s.a.success("添加成功"),t.handleModalVisible(),t.getList(),a()}})},t}return M()(a,e),h()(a,[{key:"componentDidMount",value:function(){this.getList()}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return L.a.createElement(C.a,{onSubmit:this.handleSearch,layout:"inline"},L.a.createElement(o.a,{gutter:{md:8,lg:16,xl:32}},L.a.createElement(c.a,{md:6,sm:24},L.a.createElement(x,null,e("name")(L.a.createElement(V.a,{addonBefore:"分类名称",placeholder:"请输入"})))),L.a.createElement(c.a,{md:4,sm:24},L.a.createElement("span",{className:B.a.submitButtons},L.a.createElement(D.a,{type:"primary",htmlType:"submit"},"查询"),L.a.createElement(D.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this,a=this.props,t=a.MaritimeDevice.cateData,n=a.loading,l=this.state.modalVisible,o={handleAdd:this.handleAdd,handleModalVisible:this.handleModalVisible};return L.a.createElement(F.Fragment,null,L.a.createElement(r.a,{bordered:!1},L.a.createElement("div",{className:B.a.tableList},L.a.createElement("div",{className:B.a.tableListForm},this.renderSimpleForm()),L.a.createElement("div",{className:B.a.tableListOperator},L.a.createElement(D.a,{icon:"plus",type:"primary",onClick:function(){return e.handleModalVisible(!0)}},"新建")),L.a.createElement(w.a,{rowKey:"id_",size:"middle",tableAlert:!1,selectedRows:0,rowSelection:null,loading:n,data:t,columns:this.columns,pagination:!1}))),L.a.createElement(R,i()({},o,{modalVisible:l})))}}]),a}(F.PureComponent))||n)||n;a.default=q}}]);