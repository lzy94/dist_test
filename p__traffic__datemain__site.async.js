(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{FDAk:function(e,a,t){"use strict";t.r(a);t("IzEo");var l,r,n,i,d,s,o,c,m,u,p,h,E,g=t("bx4M"),b=(t("T2oS"),t("W9HT")),f=(t("ozfa"),t("MJZm")),y=(t("/zsF"),t("PArb")),F=(t("+BJd"),t("mr32")),v=(t("5Dmo"),t("3S7+")),V=t("lwsE"),D=t.n(V),S=t("W8MJ"),k=t.n(S),w=t("a1gu"),M=t.n(w),C=t("Nsbk"),N=t.n(C),L=t("7W2i"),I=t.n(L),T=t("MVZn"),q=t.n(T),O=(t("2qtc"),t("kLXV")),B=(t("DZo9"),t("8z0m")),R=t("pVnL"),x=t.n(R),U=(t("+L6B"),t("2/Rp")),Y=(t("Pwec"),t("CtXQ")),A=(t("14J3"),t("BMrR")),j=(t("7Kak"),t("9yH6")),z=(t("nRaC"),t("5RzL")),P=(t("5NDa"),t("5rEg")),J=(t("miYZ"),t("tsqr")),G=(t("jCWc"),t("kPKH")),Q=(t("giR+"),t("fyUT")),H=(t("iQDF"),t("+eQT")),K=(t("OaEy"),t("2fM7")),_=(t("y8nQ"),t("Vl3Y")),Z=t("q1tI"),X=t.n(Z),W=t("MuoO"),$=t("wd/R"),ee=t.n($),ae=t("CkN6"),te=t("mf+E"),le=t("+n12"),re=(t("P2fV"),t("NJEC")),ne=t("9zHi"),ie=t.n(ne),de=t("PJYZ"),se=t.n(de),oe=t("ZP6J"),ce=t.n(oe),me=_.a.Item,ue=K.a.Option,pe=["身份证","驾驶证","营运证","其他"],he=["未处理","转运","变卖"],Ee=_.a.create()(function(e){var a=e.modalVisible,t=e.form,l=e.handleAdd,r=e.handleModalVisible;return X.a.createElement(O.a,{destroyOnClose:!0,title:"添加货物",className:ce.a.formModal,visible:a,onOk:function(){t.validateFields(function(e,a){e||(t.resetFields(),l(a))})},width:800,onCancel:function(){return r()}},X.a.createElement("div",{className:ce.a.formModalBody},X.a.createElement(A.a,{gutter:40},X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"货物名称"},t.getFieldDecorator("goodsName",{rules:[{required:!0,message:"请输入货物名称！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"货物数量"},t.getFieldDecorator("goodsNum",{rules:[{required:!0,message:"请输入货物数量！"}]})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"单位"},t.getFieldDecorator("unit",{rules:[{required:!0,message:"请输入单位！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"卸货车车牌"},t.getFieldDecorator("unloadCar",{rules:[{required:!0,message:"请输入卸货车车牌！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"卸货时间"},t.getFieldDecorator("unloadDate",{rules:[{required:!0,message:"请选择卸货时间！"}]})(X.a.createElement(H.a,{style:{width:"100%"},showTime:!0,placeholder:"请选择"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"卸货人"},t.getFieldDecorator("unloadMan",{rules:[{required:!0,message:"请输入卸货人！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"卸货人联系方式"},t.getFieldDecorator("unloadTel",{rules:[{required:!0,validator:le.j}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"证件类型"},t.getFieldDecorator("cardType",{rules:[{required:!0,message:"请选择证件类型！"}]})(X.a.createElement(K.a,{style:{width:"100%"},placeholder:"请选择"},pe.map(function(e,a){return X.a.createElement(ue,{key:a,value:a+1},e)}))))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"卸货人证件号码"},t.getFieldDecorator("unloadManCardNo",{rules:[{required:!0,message:"请输入卸货人证件号码！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"货物处理状态"},t.getFieldDecorator("status",{rules:[{required:!0,message:"请选择货物处理状态！"}]})(X.a.createElement(K.a,{style:{width:"100%"},placeholder:"请选择"},he.map(function(e,a){return X.a.createElement(ue,{key:a,value:a+1},e)}))))))))}),ge=_.a.create()(function(e){var a=e.modalVisible,t=e.form,l=e.handleUpdate,r=e.handleModalVisible,n=e.detail;return X.a.createElement(O.a,{destroyOnClose:!0,title:"编辑货物",width:800,className:ce.a.formModal,visible:a,onOk:function(){t.validateFields(function(e,a){e||(t.resetFields(),l(a))})},onCancel:function(){return r()}},X.a.createElement("div",{className:ce.a.formModalBody},X.a.createElement(A.a,{gutter:40},X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"货物名称"},t.getFieldDecorator("goodsName",{initialValue:n.goodsName,rules:[{required:!0,message:"请输入货物名称！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"货物数量"},t.getFieldDecorator("goodsNum",{initialValue:n.goodsNum,rules:[{required:!0,message:"请输入货物数量！"}]})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"单位"},t.getFieldDecorator("unit",{initialValue:n.unit,rules:[{required:!0,message:"请输入单位！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"卸货车车牌"},t.getFieldDecorator("unloadCar",{initialValue:n.unloadCar,rules:[{required:!0,message:"请输入卸货车车牌！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"卸货时间"},t.getFieldDecorator("unloadDate",{initialValue:ee()(new Date(n.unloadDate),"YYYY-MM-DD HH:mm:ss"),rules:[{required:!0,message:"请选择卸货时间！"}]})(X.a.createElement(H.a,{style:{width:"100%"},showTime:!0,placeholder:"请选择"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"卸货人"},t.getFieldDecorator("unloadMan",{initialValue:n.unloadMan,rules:[{required:!0,message:"请输入卸货人！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"卸货人联系方式"},t.getFieldDecorator("unloadTel",{initialValue:n.unloadTel,rules:[{required:!0,validator:le.j}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"证件类型"},t.getFieldDecorator("cardType",{initialValue:n.cardType,rules:[{required:!0,message:"请选择证件类型！"}]})(X.a.createElement(K.a,{style:{width:"100%"},placeholder:"请选择"},pe.map(function(e,a){return X.a.createElement(ue,{key:a,value:a+1},e)}))))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"卸货人证件号码"},t.getFieldDecorator("unloadManCardNo",{initialValue:n.unloadManCardNo,rules:[{required:!0,message:"请输入卸货人证件号码！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(me,{hasFeedback:!0,label:"货物处理状态"},t.getFieldDecorator("status",{initialValue:n.status,rules:[{required:!0,message:"请选择货物处理状态！"}]})(X.a.createElement(K.a,{style:{width:"100%"},placeholder:"请选择"},he.map(function(e,a){return X.a.createElement(ue,{key:a,value:a+1},e)}))))))))}),be=Object(W.connect)(function(e){return{Site:e.Site,loading:e.loading.models.Site}})(l=_.a.create()((n=r=function(e){function a(){var e,t;D()(this,a);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return(t=M()(this,(e=N()(a)).call.apply(e,[this].concat(r)))).state={createModalVisible:!1,updateModalVisible:!1,detail:{},baseQuery:{},selectedRows:[],formValues:[],pageBean:{page:1,pageSize:10,showTotal:!0}},t.columns=[{title:"货物名称",dataIndex:"goodsName"},{title:"货物数量",dataIndex:"goodsNum"},{title:"单位",dataIndex:"unit"},{title:"货物处理状态",dataIndex:"status",render:function(e){return he[parseInt(e)-1]}},{title:"卸货车车牌",dataIndex:"unloadCar"},{title:"卸货时间",dataIndex:"unloadDate",render:function(e){return ee()(e).format("YYYY-MM-DD HH:mm:ss")}},{title:"卸货人",dataIndex:"unloadMan"},{title:"卸货人联系方式",dataIndex:"unloadTel"},{title:"证件类型",dataIndex:"cardType",render:function(e){return pe[parseInt(e)-1]}},{title:"卸货人证件号码",dataIndex:"unloadManCardNo"},{title:"操作",width:100,render:function(e,a){return X.a.createElement(Z.Fragment,null,X.a.createElement(v.a,{placement:"left",title:"编辑"},X.a.createElement(U.a,{onClick:function(){return t.showUpdateModal(a)},type:"primary",shape:"circle",icon:"edit",size:"small"})),X.a.createElement(y.a,{type:"vertical"}),X.a.createElement(re.a,{title:"是否删除数据?",onConfirm:function(){return t.dataDel(a.id)},okText:"确定",cancelText:"取消"},X.a.createElement(v.a,{placement:"left",title:"删除"},X.a.createElement(U.a,{type:"danger",shape:"circle",icon:"delete",size:"small"}))))}}],t.dataDel=function(e){t.delUtil(e)},t.batchDel=function(){var e=t.state.selectedRows;if(e){var a=se()(t);O.a.confirm({title:"批量删除",content:"您确定要批量删除吗?",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){a.delUtil(e.map(function(e){return e.id}).join())},onCancel:function(){}})}},t.delUtil=function(e){(0,t.props.dispatch)({type:"Site/deleteGoods",payload:{ids:e},callback:function(){t.getList(),t.setState({selectedRow:[]})}})},t.showUpdateModal=function(e){t.setState({detail:e},function(){t.handleUpdateModalVisible(!0)})},t.getList=function(e){(0,t.props.dispatch)({type:"Site/getUnloadGoods",payload:e})},t.handleCreateModalVisible=function(e){t.setState({createModalVisible:!!e})},t.handleUpdateModalVisible=function(e){t.setState({updateModalVisible:!!e}),e||t.setState({detail:{}})},t.handleFormReset=function(){var e=t.props.form,a=t.state,l=a.pageBean,r=a.baseQuery;e.resetFields(),t.setState({formValues:[],selectedRows:[]}),t.getList({pageBean:l,querys:[r]})},t.handleSearch=function(e){e.preventDefault(),t.props.form.validateFields(function(e,a){if(!e){var l=t.state,r=l.pageBean,n=l.baseQuery,i=q()({},a),d=Object.keys(i).map(function(e){return i[e]?{property:e,value:i[e],group:"main",operation:"LIKE",relation:"OR"}:""}).filter(function(e){return e});t.setState({formValues:d}),t.getList({pageBean:r,querys:[n].concat(d)})}})},t.handleAdd=function(e){var a=t.props,l=a.dispatch,r=a.unloadYardID,n=t.state,i=n.baseQuery,d=n.pageBean;e.yardId=r,l({type:"Site/addGoods",payload:e,callback:function(){J.a.success("添加成功"),setTimeout(function(){t.getList({pageBean:d,querys:[i]}),t.handleCreateModalVisible()},500)}})},t.handleUpdate=function(e){var a=t.props.dispatch,l=t.state,r=l.detail,n=l.baseQuery,i=l.pageBean,d=l.formValues,s=JSON.parse(JSON.stringify(r)),o=Object.keys(e);for(var c in o)s[o[c]]=e[o[c]];t.setState({detail:s}),a({type:"Site/updateGoods",payload:s,callback:function(){J.a.success("编辑成功"),setTimeout(function(){t.getList({pageBean:i,querys:[n].concat(d)}),t.handleUpdateModalVisible()},500)}})},t.handleSelectRows=function(e){t.setState({selectedRows:e})},t.handleStandardTableChange=function(e,a,l){var r=t.state,n=r.formValues,i=r.baseQuery,d={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:[i].concat(n)};t.getList(d)},t}return I()(a,e),k()(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.unloadYardID;this.setState({baseQuery:{group:"main",hasInitValue:!1,operation:"EQUAL",property:"yardId",relation:"AND",value:a}},function(){var a=e.state,t=a.baseQuery,l=a.pageBean;e.getList({pageBean:l,querys:[t]})})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return X.a.createElement(_.a,{onSubmit:this.handleSearch,layout:"inline"},X.a.createElement(A.a,{gutter:{md:8,lg:16,xl:32}},X.a.createElement(G.a,{md:5,sm:24},X.a.createElement(me,null,e("goodsName")(X.a.createElement(P.a,{addonBefore:"货物名称"})))),X.a.createElement(G.a,{md:5,sm:24},X.a.createElement(me,null,e("unloadCar")(X.a.createElement(P.a,{addonBefore:"卸货车车牌"})))),X.a.createElement(G.a,{md:5,sm:24},X.a.createElement(me,null,e("unloadMan")(X.a.createElement(P.a,{addonBefore:"卸货人"})))),X.a.createElement(G.a,{md:3,sm:24},X.a.createElement("span",{className:ie.a.submitButtons},X.a.createElement(U.a,{type:"primary",htmlType:"submit"},"查询"),X.a.createElement(U.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this,a=this.props,t=a.Site.unloadGoods,l=a.modalVisible,r=a.handleModalVisible,n=a.loading,i=this.state,d=i.createModalVisible,s=i.updateModalVisible,o=i.detail,c=i.selectedRows,m={handleModalVisible:this.handleCreateModalVisible,handleAdd:this.handleAdd},u={handleModalVisible:this.handleUpdateModalVisible,handleUpdate:this.handleUpdate,detail:o};return X.a.createElement(Z.Fragment,null,X.a.createElement(O.a,{destroyOnClose:!0,title:"货物",visible:l,className:ce.a.myModal+" "+ce.a.modalbody,onCancel:function(){return r()},width:"80%",footer:null},X.a.createElement("div",{className:ce.a.detailMsg},X.a.createElement("div",{style:{padding:20}},X.a.createElement("div",{className:ie.a.tableList},X.a.createElement("div",{className:ie.a.tableListForm},this.renderSimpleForm()),X.a.createElement("div",{className:ie.a.tableListOperator},X.a.createElement(U.a,{icon:"plus",type:"primary",onClick:function(){return e.handleCreateModalVisible(!0)}},"新建"),c.length>0&&X.a.createElement("span",null,X.a.createElement(U.a,{type:"danger",onClick:function(){return e.batchDel()}},"批量删除"))),X.a.createElement(ae.a,{tableAlert:!0,selectedRows:c,loading:n,size:"middle",data:t,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))))),l?X.a.createElement(Ee,x()({},m,{modalVisible:d})):null,s&&"{}"!==JSON.stringify(o)?X.a.createElement(ge,x()({},u,{modalVisible:s})):null)}}]),a}(Z.PureComponent),r.defaultProps={handleModalVisible:function(){}},l=n))||l)||l,fe=_.a.Item,ye=_.a.create()(function(e){var a=e.modalVisible,t=e.form,l=e.handleAdd,r=e.handleModalVisible;return X.a.createElement(O.a,{destroyOnClose:!0,title:"添加卸货场地",className:ce.a.formModal,visible:a,onOk:function(){t.validateFields(function(e,a){e||(t.resetFields(),l(a))})},onCancel:function(){return r()},width:800},X.a.createElement("div",{className:ce.a.formModalBody},X.a.createElement(A.a,{gutter:40},X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(fe,{hasFeedback:!0,label:"场地名称"},t.getFieldDecorator("yardName",{rules:[{required:!0,message:"请输入场地名称！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(fe,{hasFeedback:!0,label:"场地编号"},t.getFieldDecorator("yardCode",{rules:[{required:!0,message:"请输入场地编号！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(fe,{hasFeedback:!0,label:"场地位置"},t.getFieldDecorator("yardAddr",{rules:[{required:!0,message:"请输入位置！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(fe,{hasFeedback:!0,label:"面积/平方米"},t.getFieldDecorator("area",{rules:[{required:!0,message:"请输入面积/平方米！"}]})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(fe,{hasFeedback:!0,label:"经度"},t.getFieldDecorator("longitude",{rules:[{required:!0,message:"请输入经度！"}]})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(fe,{hasFeedback:!0,label:"纬度"},t.getFieldDecorator("latitude",{rules:[{required:!0,message:"请输入纬度！"}]})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(fe,{hasFeedback:!0,label:"状态"},t.getFieldDecorator("status",{initialValue:1,rules:[{required:!0,message:"请选择状态！"}]})(X.a.createElement(j.a.Group,{style:{width:"100%"}},X.a.createElement(j.a,{value:1},"正常"),X.a.createElement(j.a,{value:0},"禁用"))))))))}),Fe=_.a.create()(function(e){var a=e.modalVisible,t=e.form,l=e.handleUpdate,r=e.handleModalVisible,n=e.detail;return X.a.createElement(O.a,{destroyOnClose:!0,title:"编辑卸货场地",className:ce.a.formModal,visible:a,onOk:function(){t.validateFields(function(e,a){e||(t.resetFields(),l(a))})},onCancel:function(){return r()},width:800},X.a.createElement("div",{className:ce.a.formModalBody},X.a.createElement(A.a,{gutter:40},X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(fe,{hasFeedback:!0,label:"场地名称"},t.getFieldDecorator("yardName",{initialValue:n.yardName,rules:[{required:!0,message:"请输入场地名称！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(fe,{hasFeedback:!0,label:"场地编号"},t.getFieldDecorator("yardCode",{initialValue:n.yardCode,rules:[{required:!0,message:"请输入场地编号！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(fe,{hasFeedback:!0,label:"场地位置"},t.getFieldDecorator("yardAddr",{initialValue:n.yardAddr,rules:[{required:!0,message:"请输入位置！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(fe,{hasFeedback:!0,label:"面积/平方米"},t.getFieldDecorator("area",{initialValue:n.area,rules:[{required:!0,message:"请输入面积/平方米！"}]})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(fe,{hasFeedback:!0,label:"经度"},t.getFieldDecorator("longitude",{initialValue:n.longitude,rules:[{required:!0,message:"请输入经度！"}]})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(fe,{hasFeedback:!0,label:"纬度"},t.getFieldDecorator("latitude",{initialValue:n.latitude,rules:[{required:!0,message:"请输入纬度！"}]})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(fe,{hasFeedback:!0,label:"状态"},t.getFieldDecorator("status",{initialValue:n.status,rules:[{required:!0,message:"请选择状态！"}]})(X.a.createElement(j.a.Group,{style:{width:"100%"}},X.a.createElement(j.a,{value:1},"正常"),X.a.createElement(j.a,{value:0},"禁用"))))))))}),ve=Object(W.connect)(function(e){return{Site:e.Site,loading:e.loading.models.Site}})(i=_.a.create()((s=d=function(e){function a(){var e,t;D()(this,a);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return(t=M()(this,(e=N()(a)).call.apply(e,[this].concat(r)))).state={createModalVisible:!1,updateModalVisible:!1,goodsModalVisible:!1,unloadYardID:0,detail:{}},t.columns=[{title:"场地名称",dataIndex:"yardName"},{title:"场地编号",dataIndex:"yardCode"},{title:"面积/平方米",dataIndex:"area"},{title:"经度",dataIndex:"longitude"},{title:"纬度",dataIndex:"latitude"},{title:"场地位置",dataIndex:"yardAddr"},{title:"操作",width:130,render:function(e,a){return X.a.createElement(Z.Fragment,null,X.a.createElement(v.a,{placement:"left",title:"编辑"},X.a.createElement(U.a,{onClick:function(){return t.showUpdateModal(a)},type:"primary",shape:"circle",icon:"edit",size:"small"})),X.a.createElement(y.a,{type:"vertical"}),X.a.createElement(v.a,{placement:"left",title:"货物列表"},X.a.createElement(U.a,{onClick:function(){return t.showGoodsModal(a.id)},type:"primary",shape:"circle",icon:"table",size:"small"})),X.a.createElement(y.a,{type:"vertical"}),X.a.createElement(re.a,{title:"是否删除数据?",onConfirm:function(){return t.dataDel(a.id)},okText:"确定",cancelText:"取消"},X.a.createElement(v.a,{placement:"left",title:"删除"},X.a.createElement(U.a,{type:"danger",shape:"circle",icon:"delete",size:"small"}))))}}],t.dataDel=function(e){(0,t.props.dispatch)({type:"Site/deleteUnloadYard",payload:{id:e},callback:function(){t.getList()}})},t.showGoodsModal=function(e){t.setState({unloadYardID:e}),t.handleGoodsModalVisible(!0)},t.showUpdateModal=function(e){t.setState({detail:e},function(){t.handleUpdateModalVisible(!0)})},t.getList=function(){var e=t.props;(0,e.dispatch)({type:"Site/getUnloadYards",payload:{siteId:e.siteID}})},t.handleCreateModalVisible=function(e){t.setState({createModalVisible:!!e})},t.handleUpdateModalVisible=function(e){t.setState({updateModalVisible:!!e}),e||t.setState({detail:{}})},t.handleGoodsModalVisible=function(e){t.setState({goodsModalVisible:!!e})},t.handleAdd=function(e){var a=t.props,l=a.dispatch,r=a.siteID;e.siteId=r,e.status=1,l({type:"Site/addUnloadYard",payload:e,callback:function(){J.a.success("添加成功"),setTimeout(function(){t.getList(),t.handleCreateModalVisible()},500)}})},t.handleUpdate=function(e){var a=t.props.dispatch,l=t.state.detail,r=JSON.parse(JSON.stringify(l)),n=Object.keys(e);for(var i in n)r[n[i]]=e[n[i]];t.setState({detail:r}),a({type:"Site/updateUnloadYard",payload:r,callback:function(){J.a.success("编辑成功"),setTimeout(function(){t.getList(),t.handleUpdateModalVisible()},500)}})},t}return I()(a,e),k()(a,[{key:"componentDidMount",value:function(){this.getList()}},{key:"render",value:function(){var e=this,a=this.props,t=a.Site.unloadYardsData,l=a.modalVisible,r=a.handleModalVisible,n=a.loading,i=this.state,d=i.createModalVisible,s=i.updateModalVisible,o=i.detail,c=i.goodsModalVisible,m=i.unloadYardID,u={handleModalVisible:this.handleCreateModalVisible,handleAdd:this.handleAdd},p={handleModalVisible:this.handleUpdateModalVisible,handleUpdate:this.handleUpdate,detail:o},h={handleModalVisible:this.handleGoodsModalVisible,modalVisible:c,unloadYardID:m};return X.a.createElement(Z.Fragment,null,X.a.createElement(O.a,{destroyOnClose:!0,title:"卸货场地",visible:l,className:ce.a.myModal+" "+ce.a.modalbody,onCancel:function(){return r()},width:1100,footer:null},X.a.createElement("div",{className:ce.a.detailMsg},X.a.createElement("div",{style:{padding:20}},X.a.createElement("div",{className:ie.a.tableList},X.a.createElement("div",{className:ie.a.tableListOperator},X.a.createElement(U.a,{icon:"plus",type:"primary",onClick:function(){return e.handleCreateModalVisible(!0)}},"新建")),X.a.createElement(ae.a,{selectedRows:0,rowSelection:null,loading:n,size:"middle",data:t,columns:this.columns}))))),l?X.a.createElement(ye,x()({},u,{modalVisible:d})):null,s&&"{}"!==JSON.stringify(o)?X.a.createElement(Fe,x()({},p,{modalVisible:s})):null,c?X.a.createElement(be,x()({},h,{modalVisible:c})):null)}}]),a}(Z.PureComponent),d.defaultProps={handleModalVisible:function(){}},i=s))||i)||i,Ve=_.a.Item,De=_.a.create()(function(e){var a=e.modalVisible,t=e.form,l=e.handleAdd,r=e.handleModalVisible,n=e.fileList,i=e.fileChange,d={name:"files",action:"/result/api/file/v1/fileUpload",accept:".pdf,.doc,.docx",listType:"picture",data:{type:2,xbType:""},headers:{Authorization:"Bearer ".concat(Object(le.z)("token")[0]),"x-requested-with":"XMLHttpRequest"},onChange:i,beforeUpload:le.q};return X.a.createElement(O.a,{destroyOnClose:!0,title:"建设资料上传",className:ce.a.formModal,visible:a,onOk:function(){t.validateFields(function(e,a){e||l(a,function(){return t.resetFields()})})},onCancel:function(){return r()}},X.a.createElement("div",{className:ce.a.formModalBody},X.a.createElement(Ve,{hasFeedback:!0,label:"文件名称"},t.getFieldDecorator("fileName",{rules:[{required:!0,message:"请输入文件名称！"}]})(X.a.createElement(P.a,{placeholder:"请输入"}))),X.a.createElement(Ve,{label:"文件上传"},t.getFieldDecorator("filePath",{rules:[{required:!0,message:"请选择文件！"}]})(X.a.createElement(B.a,d,n.length>=1?null:X.a.createElement(U.a,null,X.a.createElement(Y.a,{type:"upload"})," 选择文件（请上传 ‘pdf’ 及 ‘doc’ 文件）"))))))}),Se=Object(W.connect)(function(e){var a=e.Site,t=e.loading;return{Site:a,File:e.File,loading:t.models.Site}})(o=_.a.create()((m=c=function(e){function a(){var e,t;D()(this,a);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return(t=M()(this,(e=N()(a)).call.apply(e,[this].concat(r)))).state={createModalVisible:!1,downLoaing:!1,uploadLoad:!1,fileId:"",baseQuery:{},selectedRows:[],formValues:[],fileList:[],pageBean:{page:1,pageSize:10,showTotal:!0}},t.columns=[{title:"文件名称",dataIndex:"fileName"},{title:"文件路径",dataIndex:"filePath"},{title:"操作",width:140,render:function(e,a){return X.a.createElement(Z.Fragment,null,X.a.createElement(v.a,{placement:"left",title:"查看"},X.a.createElement(U.a,{onClick:function(){return t.openPDF(a)},type:"primary",shape:"circle",icon:"eye",size:"small"})),X.a.createElement(y.a,{type:"vertical"}),X.a.createElement(v.a,{placement:"left",title:"下载"},X.a.createElement(U.a,{onClick:function(){return t.downLoadFile(a)},type:"primary",shape:"circle",icon:"download",size:"small"})),X.a.createElement(y.a,{type:"vertical"}),X.a.createElement(re.a,{title:"是否删除数据?",onConfirm:function(){return t.dataDel(a.id)},okText:"确定",cancelText:"取消"},X.a.createElement(v.a,{placement:"left",title:"删除"},X.a.createElement(U.a,{type:"danger",shape:"circle",icon:"delete",size:"small"}))))}}],t.downLoadFile=function(e){var a=t.props.dispatch;t.setState({downLoaing:!0}),a({type:"File/downLoad",payload:{id:e.fileId,fileName:e.fileName,extensionName:"."+e.filePath.split(".")[1]},callback:function(){t.setState({downLoaing:!1})}})},t.dataDel=function(e){t.delUtil(e)},t.batchDel=function(){var e=t.state.selectedRows;if(e){var a=se()(t);O.a.confirm({title:"批量删除",content:"您确定要批量删除吗?",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){a.delUtil(e.map(function(e){return e.id}).join())},onCancel:function(){}})}},t.delUtil=function(e){(0,t.props.dispatch)({type:"Site/deleteSysSiteBuildMsg",payload:{ids:e},callback:function(){t.getList(),t.setState({selectedRows:[]})}})},t.openPDF=function(e){t.setState({downLoaing:!0});var a=e.filePath.split(".")[1],l=t.props.dispatch;"pdf"===a?(t.setState({downLoaing:!1}),window.open(le.t+e.filePath,"_blank")):l({type:"File/preview",payload:{fileId:e.fileId},callback:function(e){if(e){var a=e.pdfUrl.split("/"),r=a[a.length-1];l({type:"File/preview_",payload:r,callback:function(e){if(t.setState({downLoaing:!1}),200!==e.code)return J.a.error("文件读取失败！");window.open(le.J+e.data,"_blank")}})}}})},t.getList=function(e){(0,t.props.dispatch)({type:"Site/getSysSiteBuild",payload:e})},t.handleCreateModalVisible=function(e){t.setState({createModalVisible:!!e}),e||t.setState({fileList:[]})},t.handleFormReset=function(){var e=t.props.form,a=t.state,l=a.pageBean,r=a.baseQuery;e.resetFields(),t.setState({formValues:[],selectedRows:[]}),t.getList({pageBean:l,querys:[r]})},t.handleSearch=function(e){e.preventDefault(),t.props.form.validateFields(function(e,a){if(!e){var l=t.state,r=l.pageBean,n=l.baseQuery,i=q()({},a),d=Object.keys(i).map(function(e){return i[e]?{property:e,value:i[e],group:"main",operation:"LIKE",relation:"OR"}:""}).filter(function(e){return e});t.setState({formValues:d}),t.getList({pageBean:r,querys:[n].concat(d)})}})},t.handleAdd=function(e,a){var l=t.props,r=l.dispatch,n=l.siteCode,i=t.state,d=i.baseQuery,s=i.pageBean,o=i.fileId;if(!i.fileList.length)return J.a.error("请选择文件");e.siteCode=n;var c=e.filePath.file.response;e.filePath=c?c.filePath:"",e.fileId=o,r({type:"Site/addSysSiteBuildMsg",payload:e,callback:function(){J.a.success("添加成功"),a&&a(),setTimeout(function(){t.getList({pageBean:s,querys:[d]}),t.handleCreateModalVisible()},500)}})},t.handleSelectRows=function(e){t.setState({selectedRows:e})},t.fileChange=function(e){"uploading"!==e.file.status?"done"===e.file.status?200===e.file.response.code?(J.a.success("上传成功"),t.setState({fileList:e.fileList,uploadLoad:!1,fileId:e.file.response.fileId})):(J.a.error("上传失败"),t.setState({uploadLoad:!1})):"error"===e.file.status?(J.a.error("上传失败"),t.setState({uploadLoad:!1})):"removed"===e.file.status&&t.setState({fileList:e.fileList}):t.setState({uploadLoad:!0})},t.handleStandardTableChange=function(e,a,l){var r=t.state,n=r.formValues,i=r.baseQuery,d={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:[i].concat(n)};t.getList(d)},t}return I()(a,e),k()(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.siteCode;this.setState({baseQuery:{group:"main",hasInitValue:!1,operation:"EQUAL",property:"siteCode",relation:"AND",value:a}},function(){var a=e.state,t=a.baseQuery,l=a.pageBean;e.getList({pageBean:l,querys:[t]})})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return X.a.createElement(_.a,{onSubmit:this.handleSearch,layout:"inline"},X.a.createElement(A.a,{gutter:{md:8,lg:16,xl:16}},X.a.createElement(G.a,{md:10,sm:24},X.a.createElement(Ve,null,e("fileName")(X.a.createElement(P.a,{addonBefore:"站点建设资料名称"})))),X.a.createElement(G.a,{md:3,sm:24},X.a.createElement("span",{className:ie.a.submitButtons},X.a.createElement(U.a,{type:"primary",htmlType:"submit"},"查询"),X.a.createElement(U.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this,a=this.props,t=a.Site.sysSiteBuild,l=a.modalVisible,r=a.handleModalVisible,n=a.loading,i=this.state,d=i.createModalVisible,s=i.selectedRows,o=i.fileList,c=i.uploadLoad,m=i.downLoaing,u={handleModalVisible:this.handleCreateModalVisible,handleAdd:this.handleAdd,fileList:o,fileChange:this.fileChange,uploadLoad:c};return X.a.createElement(Z.Fragment,null,X.a.createElement(O.a,{destroyOnClose:!0,title:"站点建设信息",visible:l,className:ce.a.myModal+" "+ce.a.modalbody,onCancel:function(){return r()},width:800,footer:null},X.a.createElement(b.a,{spinning:m},X.a.createElement("div",{className:ce.a.detailMsg},X.a.createElement("div",{style:{padding:20}},X.a.createElement("div",{className:ie.a.tableList},X.a.createElement("div",{className:ie.a.tableListForm},this.renderSimpleForm()),X.a.createElement("div",{className:ie.a.tableListOperator},X.a.createElement(U.a,{icon:"plus",type:"primary",onClick:function(){return e.handleCreateModalVisible(!0)}},"新建"),s.length>0&&X.a.createElement("span",null,X.a.createElement(U.a,{type:"danger",onClick:function(){return e.batchDel()}},"批量删除"))),X.a.createElement(ae.a,{selectedRows:s,loading:n,size:"middle",data:t,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange})))))),l?X.a.createElement(De,x()({},u,{modalVisible:d})):null)}}]),a}(Z.PureComponent),c.defaultProps={handleModalVisible:function(){}},o=m))||o)||o,ke=(t("BoS7"),t("Sdc0")),we=_.a.Item,Me=_.a.create()(function(e){var a=e.modalVisible,t=e.form,l=e.handleAdd,r=e.handleModalVisible;return X.a.createElement(O.a,{destroyOnClose:!0,title:"添加流媒体通道",className:ce.a.formModal,visible:a,onOk:function(){t.validateFields(function(e,a){e||l(a,function(){return t.resetFields()})})},onCancel:function(){return r()}},X.a.createElement("div",{className:ce.a.formModalBody},X.a.createElement(we,{hasFeedback:!0,label:"名称"},t.getFieldDecorator("mediaName",{rules:[{required:!0,message:"请输入名称！"}]})(X.a.createElement(P.a,{placeholder:"请输入"}))),X.a.createElement(we,{hasFeedback:!0,label:"车道号"},t.getFieldDecorator("lanNo",{rules:[{required:!0,message:"请输入车道号！"}]})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入"}))),X.a.createElement(we,{hasFeedback:!0,label:"流媒体通道号"},t.getFieldDecorator("mediaNo",{rules:[{required:!0,message:"请输入流媒体通道号！"}]})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入"}))),X.a.createElement(we,{hasFeedback:!0,label:"方向"},t.getFieldDecorator("direction",{initialValue:1,rules:[{required:!0,message:"请选择方向！"}]})(X.a.createElement(j.a.Group,{style:{width:"100%"}},X.a.createElement(j.a,{value:1},"进城方向"),X.a.createElement(j.a,{value:0},"出城方向")))),X.a.createElement(we,{label:"是否展示"},t.getFieldDecorator("switch",{initialValue:!0,rules:[{required:!0,message:"请选择！"}]})(X.a.createElement(ke.a,{checkedChildren:"展示",unCheckedChildren:"隐藏",defaultChecked:!0})))))}),Ce=Object(W.connect)(function(e){return{Site:e.Site,loading:e.loading.models.Site}})(u=_.a.create()((h=p=function(e){function a(){var e,t;D()(this,a);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return(t=M()(this,(e=N()(a)).call.apply(e,[this].concat(r)))).state={addModalVisible:!1},t.columns=[{title:"名称",dataIndex:"mediaName"},{title:"通道号",dataIndex:"mediaNo"},{title:"车道号",dataIndex:"lanNo"},{title:"方向",dataIndex:"direction",render:function(e){return e?"进城方向":"出城方向"}},{title:"是否展示",dataIndex:"isShow",render:function(e){return e?"隐藏":"展示"}},{title:"操作",width:70,render:function(e,a){return X.a.createElement(Z.Fragment,null,X.a.createElement(re.a,{title:"是否删除数据?",onConfirm:function(){return t.dataDel(a.id)},okText:"确定",cancelText:"取消"},X.a.createElement(v.a,{placement:"left",title:"删除"},X.a.createElement(U.a,{type:"danger",shape:"circle",icon:"delete",size:"small"}))))}}],t.getList=function(){var e=t.props;(0,e.dispatch)({type:"Site/getMedia",payload:{siteCode:e.siteCode}})},t.dataDel=function(e){(0,t.props.dispatch)({type:"Site/deleteMedia",payload:{id:e},callback:function(){t.getList(),J.a.success("删除成功")}})},t.handAddModalVisible=function(e){t.setState({addModalVisible:!!e})},t.handleAdd=function(e,a){var l=t.props,r=l.dispatch,n=l.siteCode;r({type:"Site/addMedia",payload:q()({},e,{siteCode:n,isShow:e.switch?0:1}),callback:function(){J.a.success("添加成功"),t.getList(),a(),t.handAddModalVisible()}})},t}return I()(a,e),k()(a,[{key:"componentDidMount",value:function(){this.getList()}},{key:"render",value:function(){var e=this,a=this.props,t=a.Site.modiaData,l=a.modalVisible,r=a.handleModalVisible,n=a.siteName,i=a.loading,d=this.state.addModalVisible,s={handleAdd:this.handleAdd,handleModalVisible:this.handAddModalVisible};return X.a.createElement(Z.Fragment,null,X.a.createElement(O.a,{destroyOnClose:!0,title:n+"\t\t\t流媒体通道",visible:l,onCancel:function(){return r()},width:900,className:ce.a.myModal+" "+ce.a.modalbody,footer:null},X.a.createElement("div",{className:ce.a.detailMsg},X.a.createElement("div",{style:{padding:20}},X.a.createElement("div",{className:ie.a.tableList},X.a.createElement("div",{className:ie.a.tableListOperator},X.a.createElement(U.a,{icon:"plus",type:"primary",onClick:function(){return e.handAddModalVisible(!0)}},"新建")),X.a.createElement(ae.a,{selectedRows:0,rowSelection:null,loading:i,size:"middle",pagination:!1,data:t,columns:this.columns}))))),X.a.createElement(Me,x()({},s,{modalVisible:d})))}}]),a}(Z.PureComponent),p.defaultProps={handleModalVisible:function(){}},u=h))||u)||u,Ne=t("ns75"),Le=t.n(Ne),Ie=_.a.Item,Te=K.a.Option,qe=H.a.RangePicker,Oe=["/datemain/site","/datemain/site/addSite","/datemain/site/updateSite","/datemain/site/deleteSite","/system/sysSiteBuild/list","/system/unloadYard/list","/system/mediaConf/list"],Be=["报废","在用","检修"],Re=["red","green","yellow"],xe=_.a.create()(function(e){var a=e.modalVisible,t=e.form,l=e.handleAdd,r=e.handleModalVisible,n=e.siteType,i=e.siteTypeChange,d=e.treeList,s=X.a.createElement(Z.Fragment,null,X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"最小速度(km)"},t.getFieldDecorator("lowSpeed",{})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"最高速度(km)"},t.getFieldDecorator("highSpeed",{})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入",min:0})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"超载预警(%)"},t.getFieldDecorator("warningLoadRate",{})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入",min:0})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"超速预警(%)"},t.getFieldDecorator("warningSpeedRate",{})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入",min:0})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"执法方式"},t.getFieldDecorator("lawEnforceType",{initialValue:1,rules:[{required:!0,message:"请选择执法方式!"}]})(X.a.createElement(K.a,{style:{width:"100%"},placeholder:"请选择"},X.a.createElement(K.a.Option,{value:1},"动态执法"),X.a.createElement(K.a.Option,{value:2},"动静结合执法")))))),o={name:"files",action:"/result/api/file/v1/fileUpload",listType:"picture",accept:".jpg,.jpeg,.png",data:{type:2,xbType:""},headers:{Authorization:"Bearer ".concat(Object(le.z)("token")[0]),"x-requested-with":"XMLHttpRequest"},onChange:function(e){e.file.status,"done"===e.file.status?J.a.success("".concat(e.file.name," 上传成功")):"error"===e.file.status&&J.a.error("".concat(e.file.name," 上传失败"))}};return X.a.createElement(O.a,{destroyOnClose:!0,title:"新建站点",className:ce.a.formModal,visible:a,onOk:function(){t.validateFields(function(e,a){e||l(a,function(){return t.resetFields()})})},onCancel:function(){return r()},width:800},X.a.createElement("div",{className:ce.a.formModalBody},X.a.createElement(A.a,{gutter:40},X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"站点类型"},t.getFieldDecorator("siteType",{initialValue:n,rules:[{required:!0,message:"请选择站点类型！"}]})(X.a.createElement(K.a,{style:{width:"100%"},placeholder:"请选择",onChange:i},X.a.createElement(Te,{value:"1"},"动态检测站点"),X.a.createElement(Te,{value:"2"},"静态检测站"))))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"站点号"},t.getFieldDecorator("siteCode",{rules:[{required:!0,message:"请输入站点号！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"站点名称"},t.getFieldDecorator("siteName",{rules:[{required:!0,message:"请输入站点名称！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"区域"},t.getFieldDecorator("organId",{rules:[{required:!0,message:"请选择区域！"}]})(X.a.createElement(z.a,{treeData:d,style:{width:"100%"},placeholder:"请选择"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"地址"},t.getFieldDecorator("address",{rules:[{required:!0,message:"请输入地址！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"经度"},t.getFieldDecorator("longitude",{rules:[{required:!0,validator:le.i}]})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"纬度"},t.getFieldDecorator("latitude",{rules:[{required:!0,validator:le.f}]})(X.a.createElement(Q.a,{style:{width:"100%"},placeholder:"请输入"})))),"1"===n?s:null,X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"站点负责人"},t.getFieldDecorator("siteReponsible",{rules:[{required:!0,message:"请输入站点负责人！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"电话"},t.getFieldDecorator("reponsibleTel",{rules:[{required:!0,validator:le.j}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"建造公司"},t.getFieldDecorator("builderCompany",{rules:[{required:!0,message:"请输入建造公司！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"建造负责人"},t.getFieldDecorator("builderReponsible",{rules:[{required:!0,message:"请输入建造负责人！"}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"建造负责人电话"},t.getFieldDecorator("builderTel",{rules:[{required:!0,validator:le.j}]})(X.a.createElement(P.a,{placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"建造时间"},t.getFieldDecorator("time",{rules:[{required:!0,message:"请选择建造时间！"}]})(X.a.createElement(qe,{style:{width:"100%"}})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"进城方向名称"},t.getFieldDecorator("forwardDirection",{})(X.a.createElement(P.a,{placeholder:"进城方向"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"出城方向名称"},t.getFieldDecorator("reverseDirection",{})(X.a.createElement(P.a,{placeholder:"出城方向"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"状态"},t.getFieldDecorator("status",{initialValue:"1",rules:[{required:!0,message:"请选择状态"}]})(X.a.createElement(j.a.Group,{style:{width:"100%"}},Be.map(function(e,a){return X.a.createElement(j.a,{key:e,value:"".concat(a)},e)}))))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"视频延时时间"},t.getFieldDecorator("videoTime",{rules:[{required:!0,message:"请输入视频延时时间"}]})(X.a.createElement(Q.a,{placeholder:"时间可为负数",style:{width:"100%"}})))),"2"===n&&X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"流媒体通道号"},t.getFieldDecorator("mediaNo")(X.a.createElement(Q.a,{placeholder:"请输入",style:{width:"100%"},min:0}))))),X.a.createElement(A.a,{gutter:40},X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"站点图片"},t.getFieldDecorator("siteImg",{})(X.a.createElement(B.a,x()({multiple:!0},o),X.a.createElement(U.a,null,X.a.createElement(Y.a,{type:"upload"})," 上传站点图片"))))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"下次检定时间"},t.getFieldDecorator("verificationDate",{rules:[{required:!0,message:"请选择下次检定时间"}]})(X.a.createElement(H.a,{style:{width:"100%"}})))))))}),Ue=_.a.create()(function(e){var a=e.modalVisible,t=e.form,l=e.handleUpdate,r=e.handleModalVisible,n=e.detail,i=e.siteType,d=e.treeList,s=e.siteTypeChange,o=e.loading,c=Object(le.c)(Oe[2]),m=c?{footer:[X.a.createElement(U.a,{key:"back",onClick:function(){return r()}},"取消"),X.a.createElement(U.a,{key:"submit",type:"primary",loading:o,onClick:function(){t.validateFields(function(e,a){e||(t.resetFields(),l(a))})}},"确定")]}:{footer:null},u=c?{}:{border:0,color:"rgba(0,0,0,.7)"},p=X.a.createElement(Z.Fragment,null,X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"最小速度(km)"},t.getFieldDecorator("lowSpeed",{initialValue:n.lowSpeed})(X.a.createElement(Q.a,{disabled:!c,style:q()({width:"100%"},u),placeholder:"请输入",min:0})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"最高速度(km)"},t.getFieldDecorator("highSpeed",{initialValue:n.highSpeed})(X.a.createElement(Q.a,{disabled:!c,style:q()({width:"100%"},u),placeholder:"请输入",min:0})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"超载预警(%)"},t.getFieldDecorator("warningLoadRate",{initialValue:n.warningLoadRate})(X.a.createElement(Q.a,{disabled:!c,style:q()({width:"100%"},u),placeholder:"请输入",min:0})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"超速预警(%)"},t.getFieldDecorator("warningSpeedRate",{initialValue:n.warningSpeedRate})(X.a.createElement(Q.a,{disabled:!c,style:q()({width:"100%"},u),placeholder:"请输入",min:0})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"执法方式"},t.getFieldDecorator("lawEnforceType",{initialValue:n.lawEnforceType,rules:[{required:!0,message:"请选择执法方式!"}]})(X.a.createElement(K.a,{disabled:!c,style:q()({width:"100%"},u),placeholder:"请选择"},X.a.createElement(K.a.Option,{value:1},"动态执法"),X.a.createElement(K.a.Option,{value:2},"动静结合执法")))))),h={name:"files",action:"/result/api/file/v1/fileUpload",listType:"picture",accept:".jpg,.jpeg,.png",defaultFileList:n.siteImg?n.siteImg.split(",").map(function(e,a){return{uid:a,name:e,status:"done",url:le.E+e,thumbUrl:le.E+e,filePath:e}}):[],data:{type:2,xbType:""},headers:{Authorization:"Bearer ".concat(Object(le.z)("token")[0]),"x-requested-with":"XMLHttpRequest"},onChange:function(e){e.file.status,"done"===e.file.status?200===e.file.response.code?J.a.success("".concat(e.file.name," 图片上传成功")):J.a.error("".concat(e.file.name," 上传失败")):"error"===e.file.status&&J.a.error("".concat(e.file.name," 上传失败"))}};return X.a.createElement(O.a,x()({destroyOnClose:!0,title:c?"更新站点":"站点详情",visible:a,className:ce.a.formModal,onCancel:function(){return r()},width:"900px"},m),X.a.createElement("div",{className:ce.a.formModalBody},X.a.createElement(A.a,{gutter:40},X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:c,label:"站点类型"},t.getFieldDecorator("siteType",{initialValue:i,rules:[{required:!0,message:"请选择站点类型！"}]})(X.a.createElement(K.a,{disabled:!c,style:q()({width:"100%"},u),placeholder:"请选择",onChange:s},X.a.createElement(Te,{value:"1"},"动态检测站"),X.a.createElement(Te,{value:"2"},"静态检测站"))))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:c,label:"站点号"},t.getFieldDecorator("siteCode",{initialValue:n.siteCode,rules:[{required:!0,message:"请输入站点号！"}]})(X.a.createElement(P.a,{disabled:!0,style:u})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:c,label:"站点名称"},t.getFieldDecorator("siteName",{initialValue:n.siteName,rules:[{required:!0,message:"请输入站点名称！"}]})(X.a.createElement(P.a,{disabled:!c,style:u,placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:c,label:"区域"},t.getFieldDecorator("organId",{initialValue:n.organId,rules:[{required:!0,message:"请选择区域！"}]})(X.a.createElement(z.a,{disabled:!c,treeData:d,style:q()({width:"100%"},u),placeholder:"请选择"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:c,label:"地址"},t.getFieldDecorator("address",{initialValue:n.address,rules:[{required:!0,message:"请输入地址！"}]})(X.a.createElement(P.a,{disabled:!c,style:u,placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"经度"},t.getFieldDecorator("longitude",{initialValue:n.longitude,rules:[{required:!0,validator:le.i}]})(X.a.createElement(Q.a,{disabled:!c,style:q()({width:"100%"},u),placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"纬度"},t.getFieldDecorator("latitude",{initialValue:n.latitude,rules:[{required:!0,validator:le.f}]})(X.a.createElement(Q.a,{disabled:!c,style:q()({width:"100%"},u),placeholder:"请输入"})))),"1"===i?p:null,X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:c,label:"站点负责人"},t.getFieldDecorator("siteReponsible",{initialValue:n.siteReponsible,rules:[{required:!0,message:"请输入站点负责人！"}]})(X.a.createElement(P.a,{disabled:!c,style:u,placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:c,label:"电话"},t.getFieldDecorator("reponsibleTel",{initialValue:n.reponsibleTel,rules:[{required:!0,validator:le.j}]})(X.a.createElement(P.a,{disabled:!c,style:u,placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:c,label:"建造公司"},t.getFieldDecorator("builderCompany",{initialValue:n.builderCompany,rules:[{required:!0,message:"请输入建造公司！"}]})(X.a.createElement(P.a,{disabled:!c,style:u,placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:c,label:"建造负责人"},t.getFieldDecorator("builderReponsible",{initialValue:n.builderReponsible,rules:[{required:!0,message:"请输入建造负责人！"}]})(X.a.createElement(P.a,{disabled:!c,style:u,placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:c,label:"建造负责人电话"},t.getFieldDecorator("builderTel",{initialValue:n.builderTel,rules:[{required:!0,validator:le.j}]})(X.a.createElement(P.a,{disabled:!c,style:u,placeholder:"请输入"})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:c,label:"建造时间"},t.getFieldDecorator("time",{initialValue:[ee()(new Date(n.builderDate),"YYYY-MM-DD"),ee()(new Date(n.completeDate),"YYYY-MM-DD")],rules:[{required:!0,message:"请选择建造时间！"}]})(X.a.createElement(qe,{disabled:!c,format:"YYYY-MM-DD",style:q()({},u,{width:"100%"})})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"进城方向名称"},t.getFieldDecorator("forwardDirection",{initialValue:n.forwardDirection})(X.a.createElement(P.a,{disabled:!c,style:u})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"出城方向名称"},t.getFieldDecorator("reverseDirection",{initialValue:n.reverseDirection})(X.a.createElement(P.a,{disabled:!c,style:u})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"状态"},t.getFieldDecorator("status",{initialValue:n.status})(X.a.createElement(j.a.Group,{disabled:!c,style:q()({width:"100%"},u)},Be.map(function(e,a){return X.a.createElement(j.a,{key:e,value:"".concat(a)},e)}))))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"视频延时时间"},t.getFieldDecorator("videoTime",{initialValue:n.videoTime,rules:[{required:!0,message:"请输入视频延时时间"}]})(X.a.createElement(Q.a,{disabled:!c,placeholder:"时间可为负数",style:q()({width:"100%"},u)})))),"2"===i&&X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{hasFeedback:!0,label:"流媒体通道号"},t.getFieldDecorator("mediaNo",{initialValue:n.mediaNo})(X.a.createElement(Q.a,{disabled:!c,placeholder:"请输入",style:q()({width:"100%"},u),min:0})))),X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"下次检定时间"},t.getFieldDecorator("verificationDate",{initialValue:ee()(new Date(n.verificationDate),"YYYY-MM-DD HH:mm:ss"),rules:[{required:!0,message:"请选择下次检定时间"}]})(X.a.createElement(H.a,{disabled:!c,style:q()({width:"100%"},u)}))))),X.a.createElement(A.a,{gutter:40},X.a.createElement(G.a,{md:12,sm:24},X.a.createElement(Ie,{label:"站点图片"},t.getFieldDecorator("siteImg",{initialValue:n.siteImg})(X.a.createElement(B.a,x()({multiple:!0},h),c?X.a.createElement(U.a,null,X.a.createElement(Y.a,{type:"upload"})," 上传站点图片"):null)))))))}),Ye=Object(W.connect)(function(e){var a=e.system,t=e.Site,l=e.loading;return{system:a,Site:t,currentUser:e.user.currentUser,loading:l.models.Site,systemLoading:l.models.system}})(E=_.a.create()(E=function(e){function a(){var e,t;D()(this,a);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return(t=M()(this,(e=N()(a)).call.apply(e,[this].concat(r)))).state={modalVisible:!1,modiaVisible:!1,updateModalVisible:!1,unloadYardVisible:!1,sysSiteBuildVisible:!1,siteType:"1",siteID:0,siteCode:"",siteName:"",selectedKeys:[],selectedRows:[],formValues:[],expandCheckKeys:[],treeFormValue:{},detail:{},pageBean:{page:1,pageSize:10,showTotal:!0}},t.columns=[{title:"站点号",dataIndex:"siteCode"},{title:"站点名称",dataIndex:"siteName",render:function(e){return e.length>12?X.a.createElement(v.a,{title:e},e.substring(0,12)+"..."):e}},{title:"站点负责人",dataIndex:"siteReponsible"},{title:"站点类型",dataIndex:"siteType",render:function(e){return"1"===e?"动态检测站点":"静态检测站"}},{title:"地址",dataIndex:"address",render:function(e){return e.length>12?X.a.createElement(v.a,{title:e},e.substring(0,12)+"..."):e}},{title:"状态",dataIndex:"status",render:function(e){return X.a.createElement(F.a,{color:Re[e]},Be[e])}},{title:"操作",width:160,render:function(e,a){return X.a.createElement(Z.Fragment,null,Object(le.c)(Oe[2])?X.a.createElement(v.a,{placement:"left",title:"设置"},X.a.createElement(U.a,{onClick:function(){return t.showUpdateModal(a.siteCode)},type:"primary",shape:"circle",icon:"setting",size:"small"})):X.a.createElement(v.a,{placement:"left",title:"详情"},X.a.createElement(U.a,{onClick:function(){return t.showUpdateModal(a.siteCode)},type:"primary",shape:"circle",icon:"eye",size:"small"})),"2"===a.siteType?Object(le.c)(Oe[5])?X.a.createElement(Z.Fragment,null,X.a.createElement(y.a,{type:"vertical"}),X.a.createElement(v.a,{placement:"left",title:"卸货场景"},X.a.createElement(U.a,{onClick:function(){return t.showUnloadYardModal(a.id)},type:"primary",shape:"circle",icon:"gold",size:"small"}))):null:X.a.createElement(Z.Fragment,null,Object(le.c)(Oe[4])?X.a.createElement(Z.Fragment,null,X.a.createElement(y.a,{type:"vertical"}),X.a.createElement(v.a,{placement:"left",title:"站点建设详情"},X.a.createElement(U.a,{onClick:function(){return t.showSysSiteBuildModal(a.siteCode)},type:"primary",shape:"circle",icon:"file-search",size:"small"}))):null,Object(le.c)(Oe[6])?X.a.createElement(Z.Fragment,null," ",X.a.createElement(y.a,{type:"vertical"}),X.a.createElement(v.a,{placement:"left",title:"流媒体通道"},X.a.createElement(U.a,{onClick:function(){return t.showModiaModal(a)},type:"primary",shape:"circle",icon:"video-camera",size:"small"}))):null))}}],t.showModiaModal=function(e){t.setState({siteCode:e.siteCode,siteName:e.siteName},function(){t.handModiaVisible(!0)})},t.showUnloadYardModal=function(e){t.setState({siteID:e},function(){t.handleUnloadYardVisible(!0)})},t.showSysSiteBuildModal=function(e){t.setState({siteCode:e},function(){t.handleSysSiteBuildVisible(!0)})},t.siteTypeChange=function(e){t.setState({siteType:e})},t.showUpdateModal=function(e){(0,t.props.dispatch)({type:"Site/detail",payload:{siteCode:e},callback:function(e){t.setState({siteType:e.siteType,detail:e}),t.handleUpdateModalVisible(!0)}})},t.getList=function(e){(0,t.props.dispatch)({type:"Site/fetch",payload:e})},t.handleStandardTableChange=function(e,a,l){var r=t.props.currentUser,n=t.state,i=n.formValues,d=n.treeFormValue,s=[];"{}"!==JSON.stringify(d)?s.push(d):s.unshift({property:"organId",value:r.organId,group:"main",operation:"RIGHT_LIKE",relation:"AND"}),t.getList({pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:s.concat(i)})},t.handleFormReset=function(){var e=t.props,a=e.form,l=e.currentUser,r=t.state.pageBean;a.resetFields(),t.setState({formValues:[],treeFormValue:{},selectedKeys:[]}),t.getList({pageBean:r,querys:[{property:"organId",value:l.organId,group:"main",operation:"RIGHT_LIKE",relation:"AND"}]})},t.handleSelectRows=function(e){t.setState({selectedRows:e})},t.handleSearch=function(e){e.preventDefault();var a=t.props,l=a.form,r=a.currentUser,n=t.state,i=n.treeFormValue,d=n.pageBean;l.validateFields(function(e,a){if(!e){var l=q()({},a),n=Object.keys(l).map(function(e){return l[e]?{property:e,value:l[e],group:"main",operation:"static"===e?"EQUAL":"LIKE",relation:"AND"}:""}).filter(function(e){return e});t.setState({formValues:JSON.parse(JSON.stringify(n))}),"{}"!==JSON.stringify(i)?n.push(i):n.push({group:"main",operation:"RIGHT_LIKE",property:"organId",relation:"AND",value:r.organId}),t.getList({pageBean:d,querys:n})}})},t.handleModalVisible=function(e){t.setState({modalVisible:!!e})},t.handModiaVisible=function(e){t.setState({modiaVisible:!!e}),e||t.setState({siteCode:""})},t.handleUpdateModalVisible=function(e){t.setState({updateModalVisible:!!e}),e||t.setState({siteType:"1",detail:{}})},t.handleSysSiteBuildVisible=function(e){t.setState({sysSiteBuildVisible:!!e}),e||t.setState({siteCode:""})},t.handleUnloadYardVisible=function(e){t.setState({unloadYardVisible:!!e}),e||t.setState({siteID:0})},t.handleAdd=function(e,a){var l=t.props,r=l.dispatch,n=l.currentUser,i=t.state,d=i.pageBean,s=i.formValues,o=i.treeFormValue;e.builderDate=e.time[0].format(),e.completeDate=e.time[1].format(),e.verificationDate=e.verificationDate.format("YYYY-MM-DD"),e.forwardDirection=e.forwardDirection||"进城方向",e.reverseDirection=e.reverseDirection||"出城方向",delete e.time,e.siteImg&&(e.siteImg=e.siteImg.fileList.map(function(e){return e.response.filePath}).join()),"2"===e.siteType&&delete e.lawEnforceType,r({type:"Site/add",payload:e,callback:function(){J.a.success("添加成功"),t.handleModalVisible();var e=Object.assign([],s);"{}"!==JSON.stringify(o)?e.push(o):e.push({group:"main",operation:"RIGHT_LIKE",property:"organId",relation:"AND",value:n.organId}),t.getList({pageBean:d,querys:e}),a()}})},t.handleUpdate=function(e){var a=t.props,l=a.dispatch,r=a.currentUser,n=t.state,i=n.pageBean,d=n.detail,s=n.formValues,o=n.treeFormValue;e.builderDate=e.time[0].format(),e.completeDate=e.time[1].format(),e.verificationDate=e.verificationDate.format("YYYY-MM-DD"),e.forwardDirection=e.forwardDirection||"进城方向",e.reverseDirection=e.reverseDirection||"出城方向",delete e.time;for(var c=JSON.parse(JSON.stringify(d)),m=Object.keys(e),u=0;u<m.length;u++)c[m[u]]=e[m[u]];"object"==typeof c.siteImg&&(c.siteImg=c.siteImg.fileList.map(function(e){return e.response?e.response.filePath:e.filePath}).join()),t.setState({detail:c}),l({type:"Site/update",payload:c,callback:function(){J.a.success("更新成功"),t.handleUpdateModalVisible();var e=Object.assign([],s);"{}"!==JSON.stringify(o)?e.push(o):e.push({group:"main",operation:"RIGHT_LIKE",property:"organId",relation:"AND",value:r.organId}),t.getList({pageBean:i,querys:e})}})},t.onSelect=function(e,a){if(e[0]){t.setState({selectedKeys:e});var l=t.state,r=l.formValues,n=l.pageBean,i=[],d={property:"organId",value:e[0],group:"main",operation:"RIGHT_LIKE",relation:"AND"};t.setState({treeFormValue:d}),i.push(d),i=i.concat(r),t.getList({pageBean:n,querys:i})}},t.expandCheck=function(e){t.setState({expandCheckKeys:e})},t.renderTreeNodes=function(e){return e.map(function(e){return e.children?X.a.createElement(f.a.TreeNode,{title:e.title,key:e.key,dataRef:e},t.renderTreeNodes(e.children)):X.a.createElement(f.a.TreeNode,e)})},t}return I()(a,e),k()(a,[{key:"componentDidMount",value:function(){if(Object(le.c)(Oe[0])){var e=this.state.pageBean,a=localStorage.getItem("organId");this.getList({pageBean:e,querys:[{property:"organId",value:a,group:"main",operation:"RIGHT_LIKE",relation:"AND"}]})}}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return X.a.createElement(_.a,{onSubmit:this.handleSearch,layout:"inline"},X.a.createElement(A.a,{gutter:{md:8,lg:16,xl:16}},X.a.createElement(G.a,{md:5,sm:24},X.a.createElement(Ie,null,e("siteCode")(X.a.createElement(P.a,{addonBefore:"站点号",placeholder:"请输入"})))),X.a.createElement(G.a,{md:5,sm:24},X.a.createElement(Ie,null,e("siteName")(X.a.createElement(P.a,{addonBefore:"站点名称",placeholder:"请输入"})))),X.a.createElement(G.a,{md:5,sm:24},X.a.createElement("div",{className:Le.a.inputMain},X.a.createElement("span",{style:{width:"80px",lineHeight:"30px",height:"32px"},className:"ant-input-group-addon"},"站点类型"),X.a.createElement(Ie,{style:{flex:1}},e("siteType")(X.a.createElement(K.a,{placeholder:"请选择",className:Le.a.inputGroupLeftRadius},X.a.createElement(Te,{value:"1"},"非现场站点"),X.a.createElement(Te,{value:"2"},"精简站")))))),X.a.createElement(G.a,{md:5,sm:24},X.a.createElement(Ie,null,e("status")(X.a.createElement(j.a.Group,null,Be.map(function(e,a){return X.a.createElement(j.a,{key:a,value:"".concat(a)},e)}))))),X.a.createElement(G.a,{md:4,sm:24},X.a.createElement("span",{className:ie.a.submitButtons,style:{float:"right"}},X.a.createElement(U.a,{type:"primary",htmlType:"submit"},"查询"),X.a.createElement(U.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this,a=this.props,t=a.system.treeList,l=a.Site.data,r=a.loading,n=a.systemLoading,i=this.state,d=(i.modalStaticVisible,i.detail),s=(i.selectedRows,i.modalVisible),o=i.updateModalVisible,c=i.modiaVisible,m=i.siteType,u=i.expandCheckKeys,p=i.selectedKeys,h=i.unloadYardVisible,E=i.siteID,y=i.siteCode,F=i.siteName,v=i.sysSiteBuildVisible,V={handleAdd:this.handleAdd,handleModalVisible:this.handleModalVisible,siteType:m,treeList:t,siteTypeChange:this.siteTypeChange},D={handleUpdate:this.handleUpdate,handleModalVisible:this.handleUpdateModalVisible,siteTypeChange:this.siteTypeChange,detail:d,siteType:m,treeList:t,loading:r},S={siteID:E,handleModalVisible:this.handleUnloadYardVisible},k={siteCode:y,siteName:F,handleModalVisible:this.handModiaVisible},w={siteCode:y,handleModalVisible:this.handleSysSiteBuildVisible},M={loading:r,size:"middle",data:l,tableAlert:!1,columns:this.columns,onChange:this.handleStandardTableChange};return X.a.createElement(Z.Fragment,null,Object(le.c)(Oe[0])?null:X.a.createElement(te.a,{to:"/exception/403"}),X.a.createElement("div",{className:ie.a.tableMain},X.a.createElement(b.a,{spinning:n},X.a.createElement("div",{className:ie.a.treeLeft},X.a.createElement(f.a,{selectedKeys:p,showLine:!0,onSelect:this.onSelect,expandedKeys:u[0]?u:[t[0]?t[0].key:""],onExpand:this.expandCheck},this.renderTreeNodes(t)))),X.a.createElement("div",{className:ie.a.rightTable},X.a.createElement(g.a,{bordered:!1,style:{height:"100%"}},X.a.createElement("div",{className:ie.a.tableList},X.a.createElement("div",{className:ie.a.tableListForm},this.renderSimpleForm()),X.a.createElement("div",{className:ie.a.tableListOperator},Object(le.c)(Oe[1])?X.a.createElement(U.a,{icon:"plus",type:"primary",onClick:function(){return e.handleModalVisible(!0)}},"新建"):null),X.a.createElement(ae.a,x()({selectedRows:0,rowSelection:null},M)))))),X.a.createElement(xe,x()({},V,{modalVisible:s})),o&&"{}"!==JSON.stringify(d)?X.a.createElement(Ue,x()({},D,{modalVisible:o})):null,h&&E?X.a.createElement(ve,x()({},S,{modalVisible:h})):null,v&&y?X.a.createElement(Se,x()({},w,{modalVisible:v})):null,c&&y?X.a.createElement(Ce,x()({},k,{modalVisible:c})):null)}}]),a}(Z.PureComponent))||E)||E;a.default=Ye}}]);