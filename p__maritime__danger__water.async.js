(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{q0yP:function(e,a,t){"use strict";t.r(a);var l=t("pVnL"),n=t.n(l),r=(t("IzEo"),t("bx4M")),i=(t("14J3"),t("BMrR")),o=(t("jCWc"),t("kPKH")),c=(t("5NDa"),t("5rEg")),s=t("MVZn"),m=t.n(s),d=(t("miYZ"),t("tsqr")),u=(t("2qtc"),t("kLXV")),p=(t("P2fV"),t("NJEC")),b=(t("/zsF"),t("PArb")),E=(t("5Dmo"),t("3S7+")),g=(t("+L6B"),t("2/Rp")),h=t("lwsE"),f=t.n(h),y=t("W8MJ"),v=t.n(y),w=t("a1gu"),I=t.n(w),M=t("Nsbk"),S=t.n(M),k=t("PJYZ"),V=t.n(k),D=t("7W2i"),R=t.n(D),z=(t("OaEy"),t("2fM7")),B=(t("y8nQ"),t("Vl3Y")),C=t("q1tI"),L=t.n(C),P=t("MuoO"),F=(t("wd/R"),t("CkN6")),N=(t("bP8k"),t("gFTJ")),O=t("Py4S"),T=t.n(O),W=t("+n12"),x=t("ZP6J"),J=t.n(x),q=function(e){function a(){var e,t;f()(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(t=I()(this,(e=S()(a)).call.apply(e,[this].concat(n)))).renderImg=function(e){return L.a.createElement(T.a,{backdrop:"rgba(255,255,255,.3)",src:"".concat(W.E).concat(e),alt:"图片",style:{width:"200px",height:"200px"}})},t}return R()(a,e),v()(a,[{key:"render",value:function(){var e=this.props,a=e.modalVisible,t=e.handleModalVisible,l=e.detail,n={marginTop:5};return L.a.createElement(u.a,{destroyOnClose:!0,title:"详情",className:J.a.formModal,visible:a,onCancel:function(){return t()},footer:null,width:1e3},L.a.createElement(r.a,{bordered:!1},L.a.createElement(N.a,{title:"环境",column:1,size:"small",layout:"vertical",bordered:!0},L.a.createElement(N.a.Item,{label:"是否存在漂浮物"},l.floatingObject),L.a.createElement(N.a.Item,{label:"是否有沉船、采砂等碍航情况"},l.obstructNavigation),L.a.createElement(N.a.Item,{label:"是否存在未按规定进行水上水下活动情形"},l.waterActivity),L.a.createElement(N.a.Item,{label:"航路、锚地、停泊区、安全作业水域情况"},l.operatingWaters))),L.a.createElement(r.a,{bordered:!1,style:n},L.a.createElement(N.a,{title:"秩序",column:1,size:"small",layout:"vertical",bordered:!0},L.a.createElement(N.a.Item,{label:"违反定线制、避碰规则、交通管理的航行行为"},l.irregularities),L.a.createElement(N.a.Item,{label:"船名标识不齐"},l.unidentified),L.a.createElement(N.a.Item,{label:"船体明显破损"},l.hullDamage),L.a.createElement(N.a.Item,{label:"有超速、超越航线行驶"},l.speedingBeyond),L.a.createElement(N.a.Item,{label:"船舶明显超载"},l.overload),L.a.createElement(N.a.Item,{label:"未按规定停泊"},l.notMooring))),L.a.createElement(r.a,{bordered:!1,style:n},L.a.createElement(N.a,{title:"助导航标志",column:1,size:"small",layout:"vertical",bordered:!0},L.a.createElement(N.a.Item,{label:"助导航标志设置情况"},l.navigationMark),L.a.createElement(N.a.Item,{label:"航标附件未设置有碍航行安全或影响航标正常效能的灯光或音响装置"},l.lightSound),L.a.createElement(N.a.Item,{label:"有没擅自设置或撤除的航标、改变航标的其他状况"},l.brokenBeacon))),L.a.createElement(r.a,{bordered:!1,style:n},L.a.createElement(N.a,{title:"交通安全标示",column:1,size:"small",layout:"vertical",bordered:!0},L.a.createElement(N.a.Item,{label:"形状、尺寸、图案、反光和照明以及制作、设置和安装等符合标准要求"},l.safatySigns),L.a.createElement(N.a.Item,{label:"文字应书写规范、正确、工整，颜色符合《安全色》相关要求"},l.textRequirements),L.a.createElement(N.a.Item,{label:"设置位置、内容满足航道畅通和交通安全的目的，并符合标准相关要求"},l.standardsCompliant),L.a.createElement(N.a.Item,{label:"外观完好，结构无损坏，位置无明显移位，附近未设置有碍正常效能的建筑物、构筑物或种植植物或其他障碍物"},l.intactAppearance),L.a.createElement(N.a.Item,{label:"没有危害、破坏安全标志或影响其工作效能的行为"},l.noHarm))),L.a.createElement(r.a,{bordered:!1,style:n},L.a.createElement(N.a,{title:"安全措施与防污染措施",column:1,size:"small",layout:"vertical",bordered:!0},L.a.createElement(N.a.Item,{label:"库区码头有无生活固体垃圾和液体生活废水回收装置"},l.wastewaterRecovery),L.a.createElement(N.a.Item,{label:"是否有船舶非法排污行为"},l.illegalSewage))),L.a.createElement(r.a,{bordered:!1,style:n},L.a.createElement(N.a,{column:2,size:"small",layout:"vertical",bordered:!0},L.a.createElement(N.a.Item,{label:"检查人员签字"},this.renderImg(l.inspectors)),L.a.createElement(N.a.Item,{label:"被检查人员签字"},this.renderImg(l.inspectedPerson)))))}}]),a}(C.PureComponent);q.defaultProps={detail:{},modalVisible:!1,handleModalVisible:function(){}};var A,j=t("9zHi"),Z=t.n(j),H=B.a.Item,U=z.a.Option,Y=Object(P.connect)(function(e){return{MaritimeDangerWater:e.MaritimeDangerWater,loading:e.loading.models.MaritimeDangerWater}})(A=B.a.create()(A=function(e){function a(){var e,t;f()(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(t=I()(this,(e=S()(a)).call.apply(e,[this].concat(n)))).state={modalVisible:!1,selectedRows:[],formValues:[],detail:{},pageBean:{page:1,pageSize:10,showTotal:!0}},t.columns=[{title:"水上巡航检查记录表",render:function(){return"水上巡航检查记录表"}},{title:"创建时间",dataIndex:"createTime"},{title:"操作",width:90,render:function(e,a){return L.a.createElement(C.Fragment,null,L.a.createElement(E.a,{placement:"left",title:"详情"},L.a.createElement(g.a,{onClick:function(){return t.showDetailModal(a)},type:"primary",shape:"circle",icon:"file-search",size:"small"})),L.a.createElement(b.a,{type:"vertical"}),L.a.createElement(p.a,{title:"是否删除数据?",onConfirm:function(){return t.dataDel(a.id)},okText:"确定",cancelText:"取消"},L.a.createElement(E.a,{placement:"left",title:"删除"},L.a.createElement(g.a,{type:"danger",shape:"circle",icon:"delete",size:"small"}))))}}],t.getList=function(e){(0,t.props.dispatch)({type:"MaritimeDangerWater/fetch",payload:e})},t.showDetailModal=function(e){t.setState({detail:e},function(){return V()(t)},t.handleModalVisible(!0))},t.dataDel=function(e){t.delUtil(e)},t.batchDel=function(){var e=t.state.selectedRows;e.length&&u.a.confirm({title:"提示",content:"是否删除数据？",onOk:function(){var a=e.map(function(e){return e.id});t.delUtil(a.join(),function(){t.setState({selectedRows:[]})})}})},t.delUtil=function(e,a){(0,t.props.dispatch)({type:"MaritimeDangerWater/remove",payload:{ids:e},callback:function(){d.a.success("删除成功");var e=t.state.pageBean;t.getList({pageBean:e}),a&&a()}})},t.handleStandardTableChange=function(e){var a=t.state.formValues,l={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:a};t.getList(l)},t.handleFormReset=function(){var e=t.props.form,a=t.state.pageBean;e.resetFields(),t.setState({formValues:[],selectedRows:[]}),t.getList({pageBean:a})},t.handleSelectRows=function(e){t.setState({selectedRows:e})},t.handleSearch=function(e){e.preventDefault(),t.props.form.validateFields(function(e,a){if(!e){var l=t.state.pageBean,n=m()({},a),r=Object.keys(n).map(function(e){return n[e]?{property:e,value:n[e],group:"main",operation:"LIKE",relation:"AND"}:""}).filter(function(e){return e});t.setState({formValues:r}),t.getList({pageBean:l,querys:r})}})},t.handleModalVisible=function(e){t.setState({modalVisible:!!e}),e||t.setState({detail:{}})},t}return R()(a,e),v()(a,[{key:"componentDidMount",value:function(){var e=this.state.pageBean;this.getList({pageBean:e})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return L.a.createElement(B.a,{onSubmit:this.handleSearch,layout:"inline"},L.a.createElement(i.a,{gutter:{md:8,lg:16,xl:16}},L.a.createElement(o.a,{md:6,sm:24},L.a.createElement(H,{label:"规则名称"},e("name")(L.a.createElement(c.a,{placeholder:"请输入"})))),L.a.createElement(o.a,{md:6,sm:24},L.a.createElement(H,{label:"使用状态"},e("status")(L.a.createElement(z.a,{placeholder:"请选择",style:{width:"100%"}},L.a.createElement(U,{value:"0"},"关闭"),L.a.createElement(U,{value:"1"},"运行中"))))),L.a.createElement(o.a,{md:6,sm:24},L.a.createElement("span",{className:Z.a.submitButtons},L.a.createElement(g.a,{type:"primary",htmlType:"submit"},"查询"),L.a.createElement(g.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this.props,a=e.MaritimeDangerWater.data,t=e.loading,l=this.state,i=l.selectedRows,o=l.modalVisible,c=l.detail,s={detail:c,handleModalVisible:this.handleModalVisible};return L.a.createElement(C.Fragment,null,L.a.createElement(r.a,{bordered:!1},L.a.createElement("div",{className:Z.a.tableList},L.a.createElement("div",{className:Z.a.tableListOperator},i.length>0&&L.a.createElement(g.a,{type:"danger",onClick:this.batchDel},"批量删除")),L.a.createElement(F.a,{size:"middle",tableAlert:!1,selectedRows:i,loading:t,data:a,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))),o&&Object.keys(c).length?L.a.createElement(q,n()({},s,{modalVisible:o})):null)}}]),a}(C.PureComponent))||A)||A;a.default=Y}}]);