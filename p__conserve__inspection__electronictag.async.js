(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{j2fg:function(e,t,a){"use strict";a.r(t);var n,l,i=a("pVnL"),r=a.n(i),o=(a("IzEo"),a("bx4M")),c=(a("14J3"),a("BMrR")),s=(a("jCWc"),a("kPKH")),d=(a("iQDF"),a("+eQT")),m=a("MVZn"),u=a.n(m),p=(a("5Dmo"),a("3S7+")),g=(a("+L6B"),a("2/Rp")),h=a("lwsE"),f=a.n(h),E=a("W8MJ"),y=a.n(E),b=a("a1gu"),v=a.n(b),w=a("Nsbk"),S=a.n(w),V=a("7W2i"),C=a.n(V),L=(a("y8nQ"),a("Vl3Y")),x=a("q1tI"),M=a.n(x),N=a("MuoO"),k=a("wd/R"),I=a.n(k),D=(a("2qtc"),a("kLXV")),B=a("ZP6J"),F=a.n(B),T=a("9zHi"),z=a.n(T),R=a("CkN6"),j=Object(N.connect)(function(e){return{Electronictag:e.Electronictag,loading:e.loading.models.Electronictag}})(n=L.a.create()(n=function(e){function t(){var e,a;f()(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=v()(this,(e=S()(t)).call.apply(e,[this].concat(l)))).columns=[{title:"编号",dataIndex:"productionCode"},{title:"名称",dataIndex:"productionName"},{title:"所属分类",dataIndex:"categoryName"},{title:"所属路段",dataIndex:"roadName"},{title:"地址",dataIndex:"addr",render:function(e){return e.length>10?M.a.createElement(p.a,{title:e},e.substring(0,10)+"..."):e}},{title:"领导",dataIndex:"leadingCadre"},{title:"联系电话",dataIndex:"leadingTel"}],a.getList=function(e){(0,a.props.dispatch)({type:"Electronictag/detail",payload:{codes:e}})},a}return C()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=this.props.codes;try{this.getList(JSON.parse(e).join())}catch(t){this.getList(e.replace("[","").replace("]",""))}}},{key:"render",value:function(){var e=this.props,t=e.Electronictag.detailList,a=e.modalVisible,n=e.handleModalVisible,l=e.loading;return M.a.createElement(D.a,{destroyOnClose:!0,title:"缺失标签",className:F.a.myModal,visible:a,width:1200,onCancel:function(){return n()},footer:null},M.a.createElement("div",{className:z.a.tableList},M.a.createElement(R.a,{rowKey:"id",size:"middle",tableAlert:!1,selectedRows:0,rowSelection:null,loading:l,data:t,columns:this.columns,pagination:!1})))}}]),t}(x.PureComponent))||n)||n,A=a("ns75"),J=a.n(A),O=L.a.Item,Y=Object(N.connect)(function(e){return{Electronictag:e.Electronictag,loading:e.loading.models.Electronictag}})(l=L.a.create()(l=function(e){function t(){var e,a;f()(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=v()(this,(e=S()(t)).call.apply(e,[this].concat(l)))).state={modalVisible:!1,formValues:[],codes:"",pageBean:{page:1,pageSize:10,showTotal:!0}},a.columns=[{title:"上传时间",dataIndex:"createdTime"},{title:"路产编号",dataIndex:"productionCodes"},{title:"异常编号",dataIndex:"defecrCodes"},{title:"操作",width:80,render:function(e,t){return M.a.createElement(x.Fragment,null,t.defecrCodes?M.a.createElement(p.a,{placement:"left",title:"缺失标签"},M.a.createElement(g.a,{onClick:function(){return a.getDetail(t.defecrCodes)},type:"primary",shape:"circle",icon:"profile",size:"small"})):null)}}],a.getDetail=function(e){a.setState({codes:e},function(){return a.handleModalVisible(!0)})},a.getList=function(e){(0,a.props.dispatch)({type:"Electronictag/fetch",payload:e})},a.handleStandardTableChange=function(e,t,n){var l=a.state.formValues,i={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:l};a.getList(i)},a.handleFormReset=function(){a.props.form.resetFields(),a.setState({formValues:[]}),a.getList({pageBean:a.state.pageBean})},a.handleSearch=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var n=a.state.pageBean,l=u()({},t);l.createdTime=I()(t.createdTime).format("YYYY-MM-DD");var i=Object.keys(l).map(function(e){return l[e]?{property:e,value:l[e],group:"main",operation:"EQUAL",relation:"AND"}:""}).filter(function(e){return e});a.setState({formValues:i}),a.getList({pageBean:n,querys:i})}})},a.handleModalVisible=function(e){a.setState({modalVisible:!!e})},a}return C()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.getList({pageBean:this.state.pageBean})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return M.a.createElement(L.a,{onSubmit:this.handleSearch,layout:"inline"},M.a.createElement(c.a,{gutter:{md:8,lg:16,xl:32}},M.a.createElement(s.a,{md:6,sm:24},M.a.createElement("div",{className:J.a.inputMain},M.a.createElement("span",{style:{width:"80px",lineHeight:"30px",height:"32px"},className:"ant-input-group-addon"},"上传时间"),M.a.createElement("div",{className:J.a.myDate},M.a.createElement(O,{style:{flex:1}},e("createdTime")(M.a.createElement(d.a,{style:{width:"100%"}})))))),M.a.createElement(s.a,{md:6,sm:24},M.a.createElement("span",{className:z.a.submitButtons},M.a.createElement(g.a,{type:"primary",htmlType:"submit"},"查询"),M.a.createElement(g.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this.props,t=e.Electronictag.data,a=e.loading,n=this.state,l=n.modalVisible,i=n.codes,c={codes:i,handleModalVisible:this.handleModalVisible};return M.a.createElement(x.Fragment,null,M.a.createElement(o.a,{bordered:!1},M.a.createElement("div",{className:z.a.tableList},M.a.createElement("div",{className:z.a.tableListForm},this.renderSimpleForm()),M.a.createElement(R.a,{rowKey:"id_",size:"middle",tableAlert:!1,selectedRows:0,rowSelection:null,loading:a,data:t,columns:this.columns,onChange:this.handleStandardTableChange}))),l&&i?M.a.createElement(j,r()({modalVisible:l},c)):null)}}]),t}(x.PureComponent))||l)||l;t.default=Y}}]);