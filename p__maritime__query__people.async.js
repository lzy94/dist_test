(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{QvV7:function(e,a,t){"use strict";t.r(a);var n,l=t("pVnL"),r=t.n(l),i=(t("14J3"),t("BMrR")),o=(t("jCWc"),t("kPKH")),s=(t("5NDa"),t("5rEg")),m=(t("5Dmo"),t("3S7+")),c=(t("+L6B"),t("2/Rp")),d=t("lwsE"),u=t.n(d),p=t("W8MJ"),h=t.n(p),f=t("a1gu"),E=t.n(f),g=t("Nsbk"),b=t.n(g),y=t("7W2i"),v=t.n(y),w=(t("2qtc"),t("kLXV")),x=(t("IzEo"),t("bx4M")),M=(t("bP8k"),t("gFTJ")),V=(t("OaEy"),t("2fM7")),S=(t("y8nQ"),t("Vl3Y")),I=t("q1tI"),N=t.n(I),k=t("MuoO"),z=t("CkN6"),B=t("9zHi"),L=t.n(B),F=t("ZP6J"),C=t.n(F),P=t("ns75"),D=t.n(P),O=S.a.Item,J=V.a.Option,T=S.a.create()(function(e){var a=e.modalVisible,t=e.handleModalVisible,n=e.detail;return N.a.createElement(w.a,{destroyOnClose:!0,title:"详情",className:C.a.formModal,visible:a,onCancel:function(){return t()},footer:null},N.a.createElement(x.a,{bordered:!1},N.a.createElement(M.a,{column:1,size:"small",bordered:!0},N.a.createElement(M.a.Item,{label:"姓名"},n.name),N.a.createElement(M.a.Item,{label:"性别"},1===n.sex?"男":"女"),N.a.createElement(M.a.Item,{label:"身份证号码"},n.idcard),N.a.createElement(M.a.Item,{label:"职位"},n.post),N.a.createElement(M.a.Item,{label:"所属单位"},n.companyName),N.a.createElement(M.a.Item,{label:"资格证编号"},n.certificateNo))))}),R=Object(k.connect)(function(e){return{MaritimePeople:e.MaritimePeople,loading:e.loading.models.MaritimePeople}})(n=S.a.create()(n=function(e){function a(){var e,t;u()(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=E()(this,(e=b()(a)).call.apply(e,[this].concat(l)))).state={modalVisible:!1,formValues:[],detail:{},pageBean:{page:1,pageSize:10,showTotal:!0}},t.columns=[{title:"姓名",dataIndex:"name"},{title:"身份证号码",dataIndex:"idcard",width:180},{title:"性别",dataIndex:"sex",width:80,render:function(e){return 1===e?"男":"女"}},{title:"职位",dataIndex:"post"},{title:"资格证编号",dataIndex:"certificateNo"},{title:"所属单位",dataIndex:"companyName"},{title:"操作",width:80,render:function(e,a){return N.a.createElement(I.Fragment,null,N.a.createElement(m.a,{placement:"left",title:"编辑"},N.a.createElement(c.a,{onClick:function(){return t.getDetail(a)},type:"primary",shape:"circle",icon:"eye",size:"small"})))}}],t.getList=function(e){(0,t.props.dispatch)({type:"MaritimePeople/fetch",payload:e})},t.getDetail=function(e){t.setState({detail:e},function(){return t.handleModalVisible(!0)})},t.handleStandardTableChange=function(e){var a=t.state.formValues,n={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:a};t.getList(n)},t.handleFormReset=function(){t.props.form.resetFields(),t.setState({formValues:[]}),t.getList({pageBean:t.state.pageBean})},t.handleSearch=function(e){e.preventDefault(),t.props.form.validateFields(function(e,a){if(!e){var n=t.state.pageBean,l={post:a.zw,certificateNo:a.zgzh,companyName:a.ssdw,sex:a.xb},r=Object.keys(l).map(function(e){return l[e]?{property:e,value:l[e],group:"main",operation:"sex"===e?"EQUAL":"LIKE",relation:"AND"}:""}).filter(function(e){return e});t.setState({formValues:r}),t.getList({pageBean:n,querys:r})}})},t.handleModalVisible=function(e){t.setState({modalVisible:!!e}),e||t.setState({detail:{}})},t}return v()(a,e),h()(a,[{key:"componentDidMount",value:function(){var e=this.state.pageBean;this.getList({pageBean:e})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return N.a.createElement(S.a,{onSubmit:this.handleSearch,layout:"inline"},N.a.createElement(i.a,{gutter:{md:8,lg:16,xl:32}},N.a.createElement(o.a,{md:5,sm:24},N.a.createElement(O,null,e("zw")(N.a.createElement(s.a,{addonBefore:"职位",placeholder:"请输入"})))),N.a.createElement(o.a,{md:5,sm:24},N.a.createElement(O,null,e("zgzh")(N.a.createElement(s.a,{addonBefore:"资格证号",placeholder:"请输入"})))),N.a.createElement(o.a,{md:5,sm:24},N.a.createElement(O,null,e("ssdw")(N.a.createElement(s.a,{addonBefore:"所属单位",placeholder:"请输入"})))),N.a.createElement(o.a,{md:5,sm:24},N.a.createElement("div",{className:D.a.inputMain},N.a.createElement("span",{style:{width:"80px",lineHeight:"30px",height:"32px"},className:"ant-input-group-addon"},"性别"),N.a.createElement(O,{style:{flex:1}},e("xb")(N.a.createElement(V.a,{placeholder:"请选择",style:{width:"100%"}},N.a.createElement(J,{value:1},"男"),N.a.createElement(J,{value:2},"女")))))),N.a.createElement(o.a,{md:4,sm:24},N.a.createElement("span",{className:L.a.submitButtons},N.a.createElement(c.a,{type:"primary",htmlType:"submit"},"查询"),N.a.createElement(c.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this.props,a=e.MaritimePeople.data,t=e.loading,n=this.state,l=n.modalVisible,i=n.detail,o={detail:i,handleModalVisible:this.handleModalVisible};return N.a.createElement(I.Fragment,null,N.a.createElement(x.a,{bordered:!1},N.a.createElement("div",{className:L.a.tableList},N.a.createElement("div",{className:L.a.tableListForm},this.renderSimpleForm()),N.a.createElement(z.a,{rowKey:"id_",size:"middle",tableAlert:!1,selectedRows:0,rowSelection:null,loading:t,data:a,columns:this.columns,onChange:this.handleStandardTableChange}))),l&&Object.keys(i).length?N.a.createElement(T,r()({},o,{modalVisible:l})):null)}}]),a}(I.PureComponent))||n)||n;a.default=R}}]);