(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{lhgI:function(e,a,t){"use strict";t.r(a);t("IzEo");var l,r=t("bx4M"),n=(t("miYZ"),t("tsqr")),i=(t("P2fV"),t("NJEC")),c=(t("/zsF"),t("PArb")),o=(t("5Dmo"),t("3S7+")),m=t("lwsE"),s=t.n(m),d=t("W8MJ"),u=t.n(d),p=t("a1gu"),E=t.n(p),h=t("Nsbk"),y=t.n(h),g=t("7W2i"),b=t.n(g),C=t("pVnL"),f=t.n(C),v=t("MVZn"),V=t.n(v),F=(t("2qtc"),t("kLXV")),D=(t("14J3"),t("BMrR")),w=(t("iQDF"),t("+eQT")),M=(t("giR+"),t("fyUT")),S=(t("nRaC"),t("5RzL")),k=(t("jCWc"),t("kPKH")),N=(t("5NDa"),t("5rEg")),T=(t("+L6B"),t("2/Rp")),x=(t("7Kak"),t("9yH6")),L=(t("OaEy"),t("2fM7")),R=(t("y8nQ"),t("Vl3Y")),O=t("q1tI"),q=t.n(O),Y=t("MuoO"),B=t("wd/R"),I=t.n(B),j=t("mf+E"),A=t("CkN6"),z=t("+n12"),U=t("98Vy"),G=t("CgWT"),J=t("9zHi"),W=t.n(J),H=t("ns75"),P=t.n(H),K=t("ZP6J"),Q=t.n(K),Z=R.a.Item,X=L.a.Option,_=x.a.Group,$=["身份证","执法证","军官证","护照","其他"],ee=["/datemain/vehicle","/datemain/vehicle/add","/datemain/vehicle/update","/datemain/vehicle/delete","/transport/datemain/vehicle"],ae=R.a.create()(function(e){var a=e.treeList,t=e.modalVisible,l=e.form,r=e.handleAdd,n=e.handleModalVisible,i=e.loading,c=e.transportCompanyChange,o=e.sourceCompanyChange,m=e.isTransportCompany,s=e.isSourceCompany,d=e.transportCompanyName,u=e.transportSourceName,p=e.showCompanyModal,E=e.showSourceCompanyModal,h=function(){l.validateFields(function(e,a){e||r(a,function(){return l.resetFields()})})};return q.a.createElement(F.a,{destroyOnClose:!0,title:"添加货运车辆",visible:t,className:Q.a.formModal,onOk:h,onCancel:function(){return n()},width:800,footer:[q.a.createElement(T.a,{key:"back",onClick:function(){return n()}},"取消"),q.a.createElement(T.a,{key:"submit",type:"primary",loading:i,onClick:h},"确定")]},q.a.createElement("div",{className:Q.a.formModalBody},q.a.createElement(D.a,{gutter:40},q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:!0,label:"车牌号"},l.getFieldDecorator("carCode",{rules:[{required:!0,validator:z.f}]})(q.a.createElement(N.a,{placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"车品牌型号"},l.getFieldDecorator("carBrand",{})(q.a.createElement(N.a,{placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:!0,label:"货车类型"},l.getFieldDecorator("carType",{rules:[{required:!0,message:"请选择货车类型！"}]})(q.a.createElement(L.a,{style:{width:"100%"},placeholder:"请选择"},q.a.createElement(X,{value:"1"},"小型载货汽车"),q.a.createElement(X,{value:"2"},"拖拉机"),q.a.createElement(X,{value:"3"},"畜力车"),q.a.createElement(X,{value:"4"},"中型载货汽车"),q.a.createElement(X,{value:"5"},"大型载货汽车"),q.a.createElement(X,{value:"6"},"特大型载货汽车"),q.a.createElement(X,{value:"7"},"拖挂车"),q.a.createElement(X,{value:"8"},"集装箱车"),q.a.createElement(X,{value:"9"},"小型客车"),q.a.createElement(X,{value:"10"},"大型客车"),q.a.createElement(X,{value:"11"},"摩托车"))))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"发动机号"},l.getFieldDecorator("engineCode",{})(q.a.createElement(N.a,{placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:!0,label:"车主"},l.getFieldDecorator("vehicleOwner",{rules:[{required:!0,message:"请输入车主"}]})(q.a.createElement(N.a,{placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:!0,label:"证件类型"},l.getFieldDecorator("legalRepresent",{initialValue:1,rules:[{required:!0,message:"请选择证件类型"}]})(q.a.createElement(L.a,{style:{width:"100%"},placeholder:"请选择"},$.map(function(e,a){return q.a.createElement(X,{key:a,value:a+1},e)}))))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:!0,label:"道路运输证号"},l.getFieldDecorator("transportLicence",{rules:[{required:!0,message:"请输入道路运输证号"}]})(q.a.createElement(N.a,{placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:!0,label:"证件号码"},l.getFieldDecorator("idCardNo",{rules:[{required:!0,message:"请输入证件号码"}]})(q.a.createElement(N.a,{placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:!0,label:"车辆状态"},l.getFieldDecorator("carrierNo",{initialValue:"1",rules:[{required:!0,message:"请选择车辆状态"}]})(q.a.createElement(_,{style:{width:"100%"}},q.a.createElement(x.a,{value:"1"},"运营"),q.a.createElement(x.a,{value:"0"},"停运"))))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"机构"},l.getFieldDecorator("organCode",{rules:[{required:!0,message:"请选择机构"}]})(q.a.createElement(S.a,{className:P.a.inputGroupLeftRadius,treeData:a,style:{width:"100%"},placeholder:"请选择"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"总重量(kg)"},l.getFieldDecorator("weight",{})(q.a.createElement(M.a,{style:{width:"100%"},placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:!0,label:"核定载重量(kg)"},l.getFieldDecorator("limitedWeight",{rules:[{required:!0,message:"请输入核定载重量"}]})(q.a.createElement(M.a,{style:{width:"100%"},placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"车货长宽高(m)"},l.getFieldDecorator("limited",{})(q.a.createElement(N.a,{placeholder:"车货长宽高用,隔开"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:!0,label:"轴数"},l.getFieldDecorator("axisNum",{rules:[{required:!0,message:"请输入轴数"}]})(q.a.createElement(L.a,{style:{width:"100%"},placeholder:"请选择"},q.a.createElement(X,{value:"2"},"2"),q.a.createElement(X,{value:"3"},"3"),q.a.createElement(X,{value:"4"},"4"),q.a.createElement(X,{value:"5"},"5"),q.a.createElement(X,{value:"6"},"6"),q.a.createElement(X,{value:"other"},"其它"))))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"经营范围"},l.getFieldDecorator("manageRang",{})(q.a.createElement(N.a,{placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"有效截止日期"},l.getFieldDecorator("effectiveDate",{})(q.a.createElement(w.a,{placeholder:"请选择",style:{width:"100%"}})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"技术等级"},l.getFieldDecorator("technicalGrade",{})(q.a.createElement(N.a,{placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"下次技术评定日期"},l.getFieldDecorator("nextCheckTechnical",{})(q.a.createElement(w.a,{placeholder:"请选择",style:{width:"100%"}})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"下次年审日期"},l.getFieldDecorator("nextAnnualReview",{})(q.a.createElement(w.a,{placeholder:"请选择",style:{width:"100%"}}))))),q.a.createElement(D.a,{gutter:40},q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"是否所属货运企业"},l.getFieldDecorator("isTransportCompany",{initialValue:"0"})(q.a.createElement(_,{onChange:c},q.a.createElement(x.a,{value:"1"},"是"),q.a.createElement(x.a,{value:"0"},"否"))))),q.a.createElement(k.a,{md:12,sm:24},m?q.a.createElement(Z,{label:"货运企业"},l.getFieldDecorator("transportCompanyName",{initialValue:d})(q.a.createElement(N.a,{onClick:function(){return p()},readOnly:!0,placeholder:"请选择"}))):null)),q.a.createElement(D.a,{gutter:40},q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"是否所属源头企业"},l.getFieldDecorator("isSourceCompany",{initialValue:"0"})(q.a.createElement(_,{onChange:o},q.a.createElement(x.a,{value:"1"},"是"),q.a.createElement(x.a,{value:"0"},"否"))))),q.a.createElement(k.a,{md:12,sm:24},s?q.a.createElement(Z,{label:"源头企业"},l.getFieldDecorator("transportSourceName",{initialValue:u})(q.a.createElement(N.a,{onClick:function(){return E()},readOnly:!0,placeholder:"请选择"}))):null))))}),te=R.a.create()(function(e){var a=e.treeList,t=e.modalVisible,l=e.form,r=e.handleUpdate,n=e.handleUpdateModalVisible,i=e.loading,c=e.detail,o=e.transportCompanyChange,m=e.sourceCompanyChange,s=e.isTransportCompany,d=e.isSourceCompany,u=e.transportCompanyName,p=e.transportSourceName,E=e.showCompanyModal,h=e.showSourceCompanyModal,y=function(){l.validateFields(function(e,a){e||(l.resetFields(),r(a))})},g=Object(z.b)(ee[2]),b=g?{footer:[q.a.createElement(T.a,{key:"back",onClick:function(){return n()}},"取消"),q.a.createElement(T.a,{key:"submit",type:"primary",loading:i,onClick:y},"确定")]}:{footer:null},C=g?{}:{color:"rgba(0,0,0,.7)",border:0};return q.a.createElement(F.a,f()({destroyOnClose:!0,title:g?"编辑货运车辆":"货运车辆详情",visible:t,className:Q.a.formModal,onOk:y,onCancel:function(){return n()},width:800},b),q.a.createElement("div",{className:Q.a.formModalBody},q.a.createElement(D.a,{gutter:40},q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:g,label:"车牌号"},l.getFieldDecorator("carCode",{initialValue:c.carCode,rules:[{required:!0,message:"请输入车牌号"}]})(q.a.createElement(N.a,{disabled:!g,style:C,placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"车品牌型号"},l.getFieldDecorator("carBrand",{initialValue:c.carBrand})(q.a.createElement(N.a,{disabled:!g,style:C,placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:g,label:"货车类型"},l.getFieldDecorator("carType",{initialValue:c.carType,rules:[{required:!0,message:"请选择货车类型！"}]})(q.a.createElement(L.a,{disabled:!g,style:V()({width:"100%"},C),placeholder:"请选择"},q.a.createElement(X,{value:"1"},"小型载货汽车"),q.a.createElement(X,{value:"2"},"拖拉机"),q.a.createElement(X,{value:"3"},"畜力车"),q.a.createElement(X,{value:"4"},"中型载货汽车"),q.a.createElement(X,{value:"5"},"大型载货汽车"),q.a.createElement(X,{value:"6"},"特大型载货汽车"),q.a.createElement(X,{value:"7"},"拖挂车"),q.a.createElement(X,{value:"8"},"集装箱车"),q.a.createElement(X,{value:"9"},"小型客车"),q.a.createElement(X,{value:"10"},"大型客车"),q.a.createElement(X,{value:"11"},"摩托车"))))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"发动机号"},l.getFieldDecorator("engineCode",{initialValue:c.engineCode})(q.a.createElement(N.a,{disabled:!g,style:C,placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:g,label:"车主"},l.getFieldDecorator("vehicleOwner",{initialValue:c.vehicleOwner,rules:[{required:!0,message:"请输入车主"}]})(q.a.createElement(N.a,{disabled:!g,style:C,placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},g?q.a.createElement(Z,{hasFeedback:g,label:"证件类型"},l.getFieldDecorator("legalRepresent",{initialValue:parseInt(c.legalRepresent),rules:[{required:!0,message:"请选择证件类型"}]})(q.a.createElement(L.a,{style:{width:"100%"},placeholder:"请选择"},$.map(function(e,a){return q.a.createElement(X,{key:a,value:a+1},e)})))):q.a.createElement(Z,{hasFeedback:g,label:"证件类型"},l.getFieldDecorator("legalRepresent",{initialValue:$[parseInt(c.legalRepresent)-1],rules:[{required:!0,message:"请选择证件类型"}]})(q.a.createElement(N.a,{disabled:!g,style:C})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:g,label:"道路运输证号"},l.getFieldDecorator("transportLicence",{initialValue:c.transportLicence,rules:[{required:!0,message:"请输入道路运输证号"}]})(q.a.createElement(N.a,{disabled:!g,style:C,placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:g,label:"证件号码"},l.getFieldDecorator("idCardNo",{initialValue:c.idCardNo,rules:[{required:!0,message:"请输入证件号码"}]})(q.a.createElement(N.a,{disabled:!g,style:C,placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:g,label:"车辆状态"},l.getFieldDecorator("carrierNo",{initialValue:c.carrierNo,rules:[{required:!0,message:"请选择车辆状态"}]})(q.a.createElement(_,{disabled:!g,style:V()({width:"100%"},C)},q.a.createElement(x.a,{value:"1"},"运营"),q.a.createElement(x.a,{value:"0"},"停运"))))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"机构"},l.getFieldDecorator("organCode",{initialValue:c.organCode,rules:[{required:!0,message:"请选择机构"}]})(q.a.createElement(S.a,{className:P.a.inputGroupLeftRadius,treeData:a,disabled:!g,style:V()({width:"100%"},C),placeholder:"请选择"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"总重量(kg)"},l.getFieldDecorator("weight",{initialValue:c.weight})(q.a.createElement(M.a,{disabled:!g,style:V()({width:"100%"},C),placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:g,label:"核定载重量(kg)"},l.getFieldDecorator("limitedWeight",{initialValue:c.limitedWeight,rules:[{required:!0,message:"请输入核定载重量"}]})(q.a.createElement(M.a,{disabled:!g,style:V()({width:"100%"},C),placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"车货长宽高(m)"},l.getFieldDecorator("limited",{initialValue:c.limited})(q.a.createElement(N.a,{disabled:!g,style:C,placeholder:"车货长宽高用,隔开"})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{hasFeedback:g,label:"轴数"},l.getFieldDecorator("axisNum",{initialValue:c.axisNum,rules:[{required:!0,message:"请输入轴数"}]})(q.a.createElement(L.a,{disabled:!g,style:V()({width:"100%"},C),placeholder:"请选择"},q.a.createElement(X,{value:"2"},"2"),q.a.createElement(X,{value:"3"},"3"),q.a.createElement(X,{value:"4"},"4"),q.a.createElement(X,{value:"5"},"5"),q.a.createElement(X,{value:"6"},"6"),q.a.createElement(X,{value:"other"},"其它"))))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"经营范围"},l.getFieldDecorator("manageRang",{initialValue:c.manageRang})(q.a.createElement(N.a,{disabled:!g,style:C,placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},g?q.a.createElement(Z,{label:"有效截止日期"},l.getFieldDecorator("effectiveDate",{initialValue:I()(c.effectiveDate,"YYYY-MM-DD")})(q.a.createElement(w.a,{placeholder:"请选择",style:{width:"100%"}}))):q.a.createElement(Z,{label:"有效截止日期"},l.getFieldDecorator("effectiveDate",{initialValue:I()(c.effectiveDate).format("YYYY-MM-DD")})(q.a.createElement(N.a,{disabled:!g,style:C})))),q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"技术等级"},l.getFieldDecorator("technicalGrade",{initialValue:c.technicalGrade})(q.a.createElement(N.a,{disabled:!g,style:C,placeholder:"请输入"})))),q.a.createElement(k.a,{md:12,sm:24},g?q.a.createElement(Z,{label:"下次技术评定日期"},l.getFieldDecorator("nextCheckTechnical",{initialValue:I()(c.nextCheckTechnical,"YYYY-MM-DD")})(q.a.createElement(w.a,{placeholder:"请选择",style:{width:"100%"}}))):q.a.createElement(Z,{label:"下次技术评定日期"},l.getFieldDecorator("nextCheckTechnical",{initialValue:I()(c.nextCheckTechnical).format("YYYY-MM-DD")})(q.a.createElement(N.a,{disabled:!g,style:C})))),q.a.createElement(k.a,{md:12,sm:24},g?q.a.createElement(Z,{label:"下次年审日期"},l.getFieldDecorator("nextAnnualReview",{initialValue:I()(c.nextAnnualReview,"YYYY-MM-DD")})(q.a.createElement(w.a,{placeholder:"请选择",style:{width:"100%"}}))):q.a.createElement(Z,{label:"下次年审日期"},l.getFieldDecorator("nextAnnualReview",{initialValue:I()(c.nextAnnualReview).format("YYYY-MM-DD")})(q.a.createElement(N.a,{disabled:!g,style:C}))))),q.a.createElement(D.a,{gutter:40},q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"是否所属货运企业"},l.getFieldDecorator("isTransportCompany",{initialValue:c.isTransportCompany})(q.a.createElement(_,{disabled:!g,style:C,onChange:o},q.a.createElement(x.a,{value:"1"},"是"),q.a.createElement(x.a,{value:"0"},"否"))))),q.a.createElement(k.a,{md:12,sm:24},s?q.a.createElement(Z,{label:"货运企业"},l.getFieldDecorator("transportCompanyName",{initialValue:u||c.transportCompanyName})(q.a.createElement(N.a,{disabled:!g,style:C,onClick:function(){return E()},readOnly:!0,placeholder:"请选择"}))):null)),q.a.createElement(D.a,{gutter:40},q.a.createElement(k.a,{md:12,sm:24},q.a.createElement(Z,{label:"是否所属源头企业"},l.getFieldDecorator("isSourceCompany",{initialValue:c.isSourceCompany})(q.a.createElement(_,{disabled:!g,style:C,onChange:m},q.a.createElement(x.a,{value:"1"},"是"),q.a.createElement(x.a,{value:"0"},"否"))))),q.a.createElement(k.a,{md:12,sm:24},d?q.a.createElement(Z,{label:"源头企业"},l.getFieldDecorator("transportSourceName",{initialValue:p||c.transportSourceName})(q.a.createElement(N.a,{disabled:!g,style:C,onClick:function(){return h()},readOnly:!0,placeholder:"请选择"}))):null))))}),le=Object(Y.connect)(function(e){var a=e.system,t=e.Vehicle,l=e.loading;return{treeList:a.treeList,Vehicle:t,loading:l.models.Vehicle}})(l=R.a.create()(l=function(e){function a(){var e,t;s()(this,a);for(var l=arguments.length,r=new Array(l),m=0;m<l;m++)r[m]=arguments[m];return(t=E()(this,(e=y()(a)).call.apply(e,[this].concat(r)))).state={modalVisible:!1,updateModalVisible:!1,companyModalVisible:!1,sourceCompanyModalVisible:!1,formValues:[],detail:{},isTransportCompany:0,isSourceCompany:0,transportCompanyName:"",transportSourceName:"",pageBean:{page:1,pageSize:10,showTotal:!0}},t.columns=[{title:"车牌号码",dataIndex:"carCode"},{title:"车主",dataIndex:"vehicleOwner"},{title:"经营范围",dataIndex:"manageRang"},{title:"核定载重量",dataIndex:"limitedWeight"},{title:"道路运输证号",dataIndex:"transportLicence"},{title:"车货长宽高",dataIndex:"limited"},{title:"轴数",dataIndex:"axisNum",render:function(e){return"other"===e?"其它":e}},{title:"操作",width:Object(z.b)(ee[3])?100:70,render:function(e,a){return q.a.createElement(O.Fragment,null,Object(z.b)(ee[2])?q.a.createElement(o.a,{placement:"left",title:"编辑"},q.a.createElement(T.a,{onClick:function(){return t.showModal(a.id)},type:"primary",shape:"circle",icon:"edit",size:"small"})):q.a.createElement(o.a,{placement:"left",title:"详情"},q.a.createElement(T.a,{onClick:function(){return t.showModal(a.id)},type:"primary",shape:"circle",icon:"eye",size:"small"})),Object(z.b)(ee[3])?q.a.createElement(O.Fragment,null,q.a.createElement(c.a,{type:"vertical"}),q.a.createElement(i.a,{title:"是否删除数据?",onConfirm:function(){return t.dataDel(a.id)},okText:"确定",cancelText:"取消"},q.a.createElement(o.a,{placement:"left",title:"删除"},q.a.createElement(T.a,{type:"danger",shape:"circle",icon:"delete",size:"small"})))):null)}}],t.showCompanyModal=function(){t.handleCompanyModalVisible(!0)},t.showSourceCompanyModal=function(){t.handleSourceCompanyModalVisible(!0)},t.showModal=function(e){(0,t.props.dispatch)({type:"Vehicle/detail",payload:e,callback:function(e){t.setState({detail:e,isTransportCompany:parseInt(e.isTransportCompany),isSourceCompany:parseInt(e.isSourceCompany)}),t.handleUpdateModalVisible(!0)}})},t.dataDel=function(e){var a=t.state.pageBean;(0,t.props.dispatch)({type:"Vehicle/remove",payload:{id:e},callback:function(){n.a.success("删除成功"),t.getList({pageBean:a})}})},t.getList=function(e){(0,t.props.dispatch)({type:"Vehicle/fetch",payload:e})},t.handleStandardTableChange=function(e,a,l){var r=t.state.formValues,n={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:r};t.getList(n)},t.handleFormReset=function(){var e=t.props.form,a=t.state.pageBean;e.resetFields(),t.setState({formValues:[]}),t.getList({pageBean:a})},t.handleSearch=function(e){e.preventDefault();var a=t.props,l=a.dispatch;a.form.validateFields(function(e,a){if(!e){var r=t.state.pageBean,n=V()({},a),i=Object.keys(n).map(function(e){return n[e]?{property:e,value:n[e],group:"main",operation:"organCode"===e?"RIGHT_LIKE":"LIKE",relation:"AND"}:""}).filter(function(e){return e});t.setState({formValues:i}),l({type:"Vehicle/fetch",payload:{pageBean:r,querys:i}})}})},t.handleModalVisible=function(e){t.setState({modalVisible:!!e}),e||t.setState({isTransportCompany:0,isSourceCompany:0,transportCompanyName:"",transportSourceName:""})},t.handleUpdateModalVisible=function(e,a){t.setState({updateModalVisible:!!e}),e||t.setState({isTransportCompany:0,isSourceCompany:0,transportCompanyName:"",transportSourceName:""})},t.handleCompanyModalVisible=function(e){t.setState({companyModalVisible:!!e})},t.handleSourceCompanyModalVisible=function(e){t.setState({sourceCompanyModalVisible:!!e})},t.selectCompanyTableRow=function(e){t.setState({transportCompanyName:e.companyName}),t.handleCompanyModalVisible()},t.selectSourceCompanyTableRow=function(e){t.setState({transportSourceName:e.companyName}),t.handleSourceCompanyModalVisible()},t.handleAdd=function(e,a){var l=t.props.dispatch,r=t.state.pageBean;l({type:"Vehicle/add",payload:e,callback:function(){n.a.success("添加成功"),t.handleModalVisible(),t.getList({pageBean:r}),a&&a()}})},t.handleUpdate=function(e){for(var a=t.props.dispatch,l=t.state,r=l.pageBean,i=l.detail,c=l.isTransportCompany,o=(l.isSourceCompany,Object.keys(e)),m=JSON.parse(JSON.stringify(i)),s=0;s<o.length;s++)m[o[s]]=e[o[s]];m.transportCompanyName=c?m.transportCompanyName:"",m.transportSourceName=c?m.transportSourceName:"",t.setState({detail:m}),a({type:"Vehicle/update",payload:m,callback:function(){n.a.success("编辑成功"),t.handleUpdateModalVisible(),t.getList({pageBean:r})}})},t.transportCompanyChange=function(e){t.setState({isTransportCompany:parseInt(e.target.value)})},t.sourceCompanyChange=function(e){t.setState({isSourceCompany:parseInt(e.target.value)})},t}return b()(a,e),u()(a,[{key:"componentDidMount",value:function(){if(Object(z.b)(ee[0])){var e=this.state.pageBean;this.getList({pageBean:e})}}},{key:"renderSimpleForm",value:function(){var e=this.props,a=e.treeList,t=e.form.getFieldDecorator;return q.a.createElement(R.a,{onSubmit:this.handleSearch,layout:"inline"},q.a.createElement(D.a,{gutter:{md:8,lg:16,xl:32}},q.a.createElement(k.a,{md:5,sm:24},q.a.createElement("div",{className:P.a.inputMain},q.a.createElement("span",{style:{width:"80px",lineHeight:"30px",height:"32px"},className:"ant-input-group-addon"},"所属机构"),q.a.createElement(Z,{style:{flex:1}},t("organCode")(q.a.createElement(S.a,{className:P.a.inputGroupLeftRadius,treeData:a,style:{width:"100%"},placeholder:"请选择"}))))),q.a.createElement(k.a,{md:5,sm:24},q.a.createElement(Z,null,t("carCode")(q.a.createElement(N.a,{addonBefore:"车牌号",placeholder:"请输入"})))),q.a.createElement(k.a,{md:5,sm:24},q.a.createElement(Z,null,t("vehicleOwner")(q.a.createElement(N.a,{addonBefore:"车主",placeholder:"请输入"})))),q.a.createElement(k.a,{md:5,sm:24},q.a.createElement(Z,null,t("transportLicence")(q.a.createElement(N.a,{addonBefore:"道路运输证号",placeholder:"请输入"})))),q.a.createElement(k.a,{md:4,sm:24},q.a.createElement("div",{className:P.a.inputMain},q.a.createElement("span",{style:{width:"50px",lineHeight:"30px",height:"32px"},className:"ant-input-group-addon"},"轴数"),q.a.createElement(Z,{style:{flex:1}},t("axisNum")(q.a.createElement(L.a,{className:P.a.inputGroupLeftRadius,placeholder:"请选择",style:{width:"100%"}},q.a.createElement(X,{value:""},"全部轴数"),q.a.createElement(X,{value:"2"},"2"),q.a.createElement(X,{value:"3"},"3 "),q.a.createElement(X,{value:"4"},"4"),q.a.createElement(X,{value:"5"},"5"),q.a.createElement(X,{value:"6"},"6"),q.a.createElement(X,{value:"other"},"其它"))))))),q.a.createElement("div",{style:{overflow:"hidden"}},q.a.createElement("div",{style:{float:"right",marginBottom:5}},q.a.createElement(T.a,{type:"primary",htmlType:"submit"},"查询"),q.a.createElement(T.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置"))))}},{key:"render",value:function(){var e=this,a=this.props,t=a.treeList,l=a.Vehicle.data,n=a.loading,i=this.state,c=i.modalVisible,o=i.updateModalVisible,m=i.detail,s=i.isTransportCompany,d=i.isSourceCompany,u=i.companyModalVisible,p=i.sourceCompanyModalVisible,E=i.transportCompanyName,h=i.transportSourceName,y={treeList:t,handleAdd:this.handleAdd,handleModalVisible:this.handleModalVisible,loading:n,transportCompanyChange:this.transportCompanyChange,sourceCompanyChange:this.sourceCompanyChange,isTransportCompany:s,isSourceCompany:d,transportCompanyName:E,transportSourceName:h,showCompanyModal:this.showCompanyModal,showSourceCompanyModal:this.showSourceCompanyModal},g={treeList:t,handleUpdateModalVisible:this.handleUpdateModalVisible,handleUpdate:this.handleUpdate,loading:n,detail:m,transportCompanyChange:this.transportCompanyChange,sourceCompanyChange:this.sourceCompanyChange,isTransportCompany:s,isSourceCompany:d,transportCompanyName:E,transportSourceName:h,showCompanyModal:this.showCompanyModal,showSourceCompanyModal:this.showSourceCompanyModal};return q.a.createElement(O.Fragment,null,Object(z.b)(ee[0])||Object(z.b)(ee[4])?null:q.a.createElement(j.a,{to:"/exception/403"}),q.a.createElement(r.a,{bordered:!1},q.a.createElement("div",{className:W.a.tableList},q.a.createElement("div",{className:W.a.tableListForm},this.renderSimpleForm()),q.a.createElement("div",{className:W.a.tableListOperator},Object(z.b)(ee[1])?q.a.createElement(T.a,{icon:"plus",type:"primary",onClick:function(){return e.handleModalVisible(!0)}},"新建"):null),q.a.createElement(A.a,{size:"middle",selectedRows:0,rowSelection:null,loading:n,data:l,columns:this.columns,onChange:this.handleStandardTableChange}))),q.a.createElement(ae,f()({},y,{modalVisible:c})),o&&"{}"!==JSON.stringify(m)?q.a.createElement(te,f()({},g,{modalVisible:o})):null,u?q.a.createElement(U.a,{handleCompanyModalVisible:this.handleCompanyModalVisible,selectTableRow:this.selectCompanyTableRow,modalVisible:u}):null,p?q.a.createElement(G.a,{handleCompanyModalVisible:this.handleSourceCompanyModalVisible,selectTableRow:this.selectSourceCompanyTableRow,modalVisible:p}):null)}}]),a}(O.PureComponent))||l)||l;a.default=le}}]);