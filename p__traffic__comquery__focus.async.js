(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{bYbQ:function(e,t,a){"use strict";a.r(t);a("IzEo");var n,r=a("bx4M"),l=(a("14J3"),a("BMrR")),i=(a("+L6B"),a("2/Rp")),o=(a("jCWc"),a("kPKH")),s=(a("5NDa"),a("5rEg")),c=(a("miYZ"),a("tsqr")),d=(a("2qtc"),a("kLXV")),u=a("MVZn"),m=a.n(u),p=(a("5Dmo"),a("3S7+")),g=a("lwsE"),h=a.n(g),f=a("W8MJ"),y=a.n(f),w=a("a1gu"),b=a.n(w),E=a("Nsbk"),v=a.n(E),L=a("PJYZ"),B=a.n(L),S=a("7W2i"),k=a.n(S),R=(a("y8nQ"),a("Vl3Y")),x=a("q1tI"),D=a.n(x),I=a("MuoO"),F=a("mf+E"),T=a("CkN6"),C=a("+n12"),N=a("9zHi"),O=a.n(N),V=R.a.Item,q=["/comquery/focus"],z=Object(I.connect)(function(e){return{DynamicLaw:e.DynamicLaw,loading:e.loading.models.DynamicLaw}})(n=R.a.create()(n=function(e){function t(){var e,a;h()(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=b()(this,(e=v()(t)).call.apply(e,[this].concat(r)))).state={formValues:[],selectedRows:[],pageBean:{page:1,pageSize:10,showTotal:!0}},a.columns=[{title:"车牌号",width:100,dataIndex:"carNo"},{title:"操作员",dataIndex:"createBy"},{title:"来源",dataIndex:"source"},{title:"车主电话",width:170,dataIndex:"mobile"},{title:"车主地址",dataIndex:"address"},{title:"更新时间",width:170,dataIndex:"createTime"},{title:"理由",dataIndex:"reson"},{title:"描述",dataIndex:"bewrite",render:function(e){return e?e.length>16?D.a.createElement(p.a,{title:e},D.a.createElement("a",null,e.substring(0,16)+"...")):e:""}}],a.getList=function(e){(0,a.props.dispatch)({type:"DynamicLaw/getBusDynamicFocus",payload:e})},a.handleStandardTableChange=function(e,t,n){var r=a.state.formValues,l={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:r};a.getList(l)},a.handleFormReset=function(){var e=a.props.form,t=a.state.pageBean;e.resetFields(),a.setState({formValues:[]}),a.getList({pageBean:t})},a.handleSearch=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var n=a.state.pageBean,r=m()({},t),l=Object.keys(r).map(function(e){return r[e]?{property:e,value:r[e],group:"main",operation:"LIKE",relation:"OR"}:""}).filter(function(e){return e});a.setState({formValues:l}),a.getList({pageBean:n,querys:l})}})},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.delBatch=function(){var e=a.state.selectedRows;if(e){var t=B()(a);d.a.confirm({title:"批量删除",content:"您确定要批量删除吗?",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){var a=t.state.pageBean;(0,t.props.dispatch)({type:"DynamicLaw/deleteFocus",payload:{ids:e.map(function(e){return e.id})},callback:function(){c.a.success("删除成功"),setTimeout(function(){return t.getList({pageBean:a})},100),t.setState({selectedRows:[]})}})},onCancel:function(){}})}},a}return k()(t,e),y()(t,[{key:"componentDidMount",value:function(){if(Object(C.b)(q[0])){var e=this.state.pageBean;this.getList({pageBean:e})}}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return D.a.createElement(R.a,{onSubmit:this.handleSearch,layout:"inline"},D.a.createElement(l.a,{gutter:{md:8,lg:16,xl:32}},D.a.createElement(o.a,{md:5,sm:24},D.a.createElement(V,null,e("carNo")(D.a.createElement(s.a,{addonBefore:"车牌号",placeholder:"请输入"})))),D.a.createElement(o.a,{md:5,sm:24},D.a.createElement("span",{className:O.a.submitButtons},D.a.createElement(i.a,{type:"primary",htmlType:"submit"},"查询"),D.a.createElement(i.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.DynamicLaw.data,n=t.loading,l=this.state.selectedRows;return D.a.createElement(x.Fragment,null,Object(C.b)(q[0])?null:D.a.createElement(F.a,{to:"/exception/403"}),D.a.createElement(r.a,{bordered:!1},D.a.createElement("div",{className:O.a.tableList},D.a.createElement("div",{className:O.a.tableListForm},this.renderSimpleForm()),D.a.createElement("div",{className:O.a.tableListOperator},l.length>0&&D.a.createElement(i.a,{type:"danger",onClick:function(){return e.delBatch()}},"批量删除")),D.a.createElement(T.a,{size:"middle",tableAlert:!0,selectedRows:l,loading:n,data:a,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))))}}]),t}(x.PureComponent))||n)||n;t.default=z}}]);