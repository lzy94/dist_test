(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{H7eC:function(e,t,a){"use strict";a.r(t);a("IzEo");var n,r=a("bx4M"),l=(a("14J3"),a("BMrR")),i=(a("+L6B"),a("2/Rp")),s=(a("jCWc"),a("kPKH")),o=(a("5Dmo"),a("3S7+")),m=a("lwsE"),u=a.n(m),c=a("W8MJ"),p=a.n(c),d=a("a1gu"),g=a.n(d),h=a("Nsbk"),f=a.n(h),E=a("7W2i"),y=a.n(E),v=(a("OaEy"),a("2fM7")),b=(a("y8nQ"),a("Vl3Y")),w=a("q1tI"),x=a.n(w),S=a("MuoO"),B=a("wd/R"),k=a.n(B),I=a("mf+E"),L=a("CkN6"),N=a("+n12"),q=a("9zHi"),C=a.n(q),F=a("ns75"),M=a.n(F),D=b.a.Item,z=v.a.Option,H=["/system/equipmentErr"],R=["仪表","相机","传感器及线圈","其它"],T=Object(S.connect)(function(e){return{EquipmentErr:e.EquipmentErr,loading:e.loading.models.EquipmentErr}})(n=b.a.create()(n=function(e){function t(){var e,a;u()(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=g()(this,(e=f()(t)).call.apply(e,[this].concat(r)))).state={formValues:[],pageBean:{page:1,pageSize:10,showTotal:!0}},a.columns=[{title:"站点名称",dataIndex:"siteName"},{title:"设备名称",dataIndex:"equimentName"},{title:"类型",dataIndex:"type",render:function(e){return R[e-1]}},{title:"异常码",dataIndex:"errCode"},{title:"异常值",dataIndex:"errValue",render:function(e){return e.length>15?x.a.createElement(o.a,{title:e},e.substring(0,15),"..."):e}},{title:"异常描述",dataIndex:"errDesc",render:function(e){return e.length>15?x.a.createElement(o.a,{title:e},e.substring(0,15),"..."):e}},{title:"创建时间",dataIndex:"createTime",width:170,render:function(e){return k()(e).format("YYYY-MM-DD HH:mm:ss")}}],a.getList=function(e){(0,a.props.dispatch)({type:"EquipmentErr/fetch",payload:e})},a.handleStandardTableChange=function(e){var t=a.state.formValues,n={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},type:t};a.getList(n)},a.handleFormReset=function(){var e=a.props.form,t=a.state.pageBean;e.resetFields(),a.setState({formValues:[]}),a.getList({pageBean:t})},a.handleSearch=function(e){e.preventDefault();var t=a.props.form,n=a.state.pageBean;t.validateFields(function(e,t){if(!e){var r=[{property:"type",value:t.type,group:"main",operation:"EQUAL",relation:"AND"}].filter(function(e){return e});a.getList({pageBean:n,querys:r})}})},a}return y()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.pageBean,a=e.formValues;this.getList({pageBean:t,type:a})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return x.a.createElement(b.a,{onSubmit:this.handleSearch,layout:"inline"},x.a.createElement(l.a,{gutter:{md:8,lg:16,xl:32}},x.a.createElement(s.a,{md:5,sm:24},x.a.createElement("div",{className:M.a.inputMain},x.a.createElement("span",{style:{width:"80px",lineHeight:"30px",height:"32px"},className:"ant-input-group-addon"},"类型"),x.a.createElement(D,{style:{flex:1}},e("type",{})(x.a.createElement(v.a,{style:{width:"100%"},placeholder:"请选择"},R.map(function(e,t){return x.a.createElement(z,{value:t+1,key:t},e)})))))),x.a.createElement(s.a,{md:5,sm:24},x.a.createElement("span",{className:C.a.submitButtons},x.a.createElement(i.a,{type:"primary",htmlType:"submit"},"查询"),x.a.createElement(i.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this.props,t=e.EquipmentErr.data,a=e.loading;return x.a.createElement(w.Fragment,null,Object(N.b)(H[0])?null:x.a.createElement(I.a,{to:"/exception/403"}),x.a.createElement(r.a,{bordered:!1},x.a.createElement("div",{className:C.a.tableList},x.a.createElement("div",{className:C.a.tableListForm},this.renderSimpleForm()),x.a.createElement(L.a,{tableAlert:!1,selectedRows:0,rowSelection:null,loading:a,data:t,size:"middle",columns:this.columns,onChange:this.handleStandardTableChange}))))}}]),t}(w.PureComponent))||n)||n;t.default=T}}]);