(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{WskG:function(e,a,t){"use strict";t.r(a);var l=t("pVnL"),n=t.n(l),r=(t("IzEo"),t("bx4M")),i=(t("14J3"),t("BMrR")),c=(t("jCWc"),t("kPKH")),s=(t("5NDa"),t("5rEg")),o=t("MVZn"),m=t.n(o),d=(t("miYZ"),t("tsqr")),u=(t("2qtc"),t("kLXV")),p=(t("P2fV"),t("NJEC")),h=(t("/zsF"),t("PArb")),E=(t("5Dmo"),t("3S7+")),b=(t("+L6B"),t("2/Rp")),f=t("lwsE"),g=t.n(f),y=t("W8MJ"),v=t.n(y),I=t("a1gu"),w=t.n(I),S=t("Nsbk"),k=t.n(S),M=t("7W2i"),P=t.n(M),V=(t("y8nQ"),t("Vl3Y")),D=t("q1tI"),R=t.n(D),B=t("MuoO"),N=t("CkN6"),z=(t("bP8k"),t("gFTJ")),C=t("Py4S"),L=t.n(C),T=t("+n12"),F=t("lTPH"),O=t("ZP6J"),x=t.n(O),j=t("U1Es"),J=t.n(j),q=function(e){function a(){var e,t;g()(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(t=w()(this,(e=k()(a)).call.apply(e,[this].concat(n)))).renderImg=function(e){return R.a.createElement(L.a,{backdrop:"rgba(255,255,255,.3)",src:"".concat(T.E).concat(e),alt:"图片",style:{width:"200px",height:"200px"}})},t.renderShipRules=function(e){return Object(F.m)(e,F.v).map(function(e,a){return R.a.createElement("li",{key:a,className:e.isError?J.a.error:null},e.name)})},t}return P()(a,e),v()(a,[{key:"render",value:function(){var e=this.props,a=e.modalVisible,t=e.handleModalVisible,l=e.detail,n={marginTop:5};return R.a.createElement(u.a,{destroyOnClose:!0,title:"详情",className:x.a.formModal,visible:a,onCancel:function(){return t()},footer:null,width:1e3},R.a.createElement(r.a,{bordered:!1},R.a.createElement(z.a,{size:"small",layout:"vertical",bordered:!0},R.a.createElement(z.a.Item,{label:"趸船名称"},l.pumpShipName),R.a.createElement(z.a.Item,{label:"所有人"},l.shipOwner),R.a.createElement(z.a.Item,{label:"联系方式"},l.phone),R.a.createElement(z.a.Item,{label:"停泊地点"},l.parkingPlace),R.a.createElement(z.a.Item,{label:"用途"},l.use),R.a.createElement(z.a.Item,{label:"趸船材质"},l.pumpShipMaterial)),R.a.createElement(z.a,{size:"small",layout:"vertical",bordered:!0},R.a.createElement(z.a.Item,{label:"趸船参数",span:3},"长(m)：",l.length,"  *  宽(m)：",l.width,"  *  高(m)：",l.height,"  *  型深：",l.deep))),R.a.createElement(r.a,{bordered:!1,style:n},R.a.createElement(z.a,{title:"趸船系缆情况",column:2,size:"small",layout:"vertical",bordered:!0},R.a.createElement(z.a.Item,{label:"首"},l.pumpShipHead),R.a.createElement(z.a.Item,{label:"尾"},l.pumpShipTail))),R.a.createElement(r.a,{bordered:!1,style:n},R.a.createElement(z.a,{title:"锚口数",column:1,size:"small",layout:"vertical",bordered:!0},R.a.createElement(z.a.Item,{label:"首"},l.anchorHead),R.a.createElement(z.a.Item,{label:"链米及规格"},l.chainRice),R.a.createElement(z.a.Item,{label:"尾"},l.anchorTail))),R.a.createElement(r.a,{bordered:!1,style:n},R.a.createElement(z.a,{title:"船舶运营详情",column:1,size:"small",layout:"vertical",bordered:!0},R.a.createElement(z.a.Item,{label:"主要经营项目"},l.shipOperationProject),R.a.createElement(z.a.Item,{label:"船舶检验证书薄情况"},l.shipInspectionCertificate),R.a.createElement(z.a.Item,{label:"船舶防污设备齐全有效"},l.antifoulingInstruments),R.a.createElement(z.a.Item,{label:"船舶配员情况"},l.shipManning))),R.a.createElement(r.a,{bordered:!1,style:n},R.a.createElement("h3",{className:J.a.title},"船舶规范详情"),R.a.createElement("ul",{className:J.a.list},this.renderShipRules(l.shipRules))),R.a.createElement(r.a,{bordered:!1,style:n},R.a.createElement(z.a,{column:2,size:"small",layout:"vertical",bordered:!0},R.a.createElement(z.a.Item,{label:"检查单位签字"},this.renderImg(l.inspectors)),R.a.createElement(z.a.Item,{label:"检查人员签字"},this.renderImg(l.inspectedPerson)))))}}]),a}(D.PureComponent);q.defaultProps={detail:{},modalVisible:!1,handleModalVisible:function(){}};var A,H=t("9zHi"),U=t.n(H),W=V.a.Item,Z=Object(B.connect)(function(e){return{MaritimeDangerPump:e.MaritimeDangerPump,loading:e.loading.models.MaritimeDangerPump}})(A=V.a.create()(A=function(e){function a(){var e,t;g()(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(t=w()(this,(e=k()(a)).call.apply(e,[this].concat(n)))).state={modalVisible:!1,selectedRows:[],formValues:[],detail:{},pageBean:{page:1,pageSize:10,showTotal:!0}},t.columns=[{title:"趸船名称",dataIndex:"pumpShipName"},{title:"船舶所有人",dataIndex:"shipOwner"},{title:"联系方式",dataIndex:"phone"},{title:"停泊地点",dataIndex:"parkingPlace"},{title:"用途",dataIndex:"use"},{title:"创建时间",dataIndex:"createTime"},{title:"操作",width:90,render:function(e,a){return R.a.createElement(D.Fragment,null,R.a.createElement(E.a,{placement:"left",title:"详情"},R.a.createElement(b.a,{onClick:function(){return t.showDetailModal(a)},type:"primary",shape:"circle",icon:"file-search",size:"small"})),R.a.createElement(h.a,{type:"vertical"}),R.a.createElement(p.a,{title:"是否删除数据?",onConfirm:function(){return t.dataDel(a.id)},okText:"确定",cancelText:"取消"},R.a.createElement(E.a,{placement:"left",title:"删除"},R.a.createElement(b.a,{type:"danger",shape:"circle",icon:"delete",size:"small"}))))}}],t.getList=function(e){(0,t.props.dispatch)({type:"MaritimeDangerPump/fetch",payload:e})},t.showDetailModal=function(e){t.setState({detail:e},function(){return t.handleModalVisible(!0)})},t.dataDel=function(e){t.delUtil(e)},t.batchDel=function(){var e=t.state.selectedRows;e.length&&u.a.confirm({title:"提示",content:"是否删除数据？",onOk:function(){var a=e.map(function(e){return e.id});t.delUtil(a.join(),function(){t.setState({selectedRows:[]})})}})},t.delUtil=function(e,a){(0,t.props.dispatch)({type:"MaritimeDangerPump/remove",payload:{ids:e},callback:function(){d.a.success("删除成功");var e=t.state.pageBean;t.getList({pageBean:e}),a&&a()}})},t.handleStandardTableChange=function(e){var a=t.state.formValues,l={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:a};t.getList(l)},t.handleFormReset=function(){var e=t.props.form,a=t.state.pageBean;e.resetFields(),t.setState({formValues:[],selectedRows:[]}),t.getList({pageBean:a})},t.handleSelectRows=function(e){t.setState({selectedRows:e})},t.handleSearch=function(e){e.preventDefault(),t.props.form.validateFields(function(e,a){if(!e){var l=t.state.pageBean,n=m()({},a),r=Object.keys(n).map(function(e){return n[e]?{property:e,value:n[e],group:"main",operation:"LIKE",relation:"AND"}:""}).filter(function(e){return e});t.setState({formValues:r}),t.getList({pageBean:l,querys:r})}})},t.handleModalVisible=function(e){t.setState({modalVisible:!!e}),e||t.setState({detail:{}})},t}return P()(a,e),v()(a,[{key:"componentDidMount",value:function(){var e=this.state.pageBean;this.getList({pageBean:e})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return R.a.createElement(V.a,{onSubmit:this.handleSearch,layout:"inline"},R.a.createElement(i.a,{gutter:16},R.a.createElement(c.a,{md:6,sm:24},R.a.createElement(W,null,e("pumpShipName")(R.a.createElement(s.a,{addonBefore:"趸船名称",placeholder:"请输入"})))),R.a.createElement(c.a,{md:6,sm:24},R.a.createElement(W,null,e("shipOwner")(R.a.createElement(s.a,{addonBefore:"船舶所有人",placeholder:"请输入"})))),R.a.createElement(c.a,{md:6,sm:24},R.a.createElement(W,null,e("parkingPlace")(R.a.createElement(s.a,{addonBefore:"停泊地点",placeholder:"请输入"})))),R.a.createElement(c.a,{md:6,sm:24},R.a.createElement("span",{className:U.a.submitButtons},R.a.createElement(b.a,{type:"primary",htmlType:"submit"},"查询"),R.a.createElement(b.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this.props,a=e.MaritimeDangerPump.data,t=e.loading,l=this.state,i=l.selectedRows,c=l.modalVisible,s=l.detail,o={detail:s,handleModalVisible:this.handleModalVisible};return R.a.createElement(D.Fragment,null,R.a.createElement(r.a,{bordered:!1},R.a.createElement("div",{className:U.a.tableList},R.a.createElement("div",{className:U.a.tableListForm},this.renderSimpleForm()),R.a.createElement("div",{className:U.a.tableListOperator},i.length>0&&R.a.createElement(b.a,{type:"danger",onClick:this.batchDel},"批量删除")),R.a.createElement(N.a,{size:"middle",tableAlert:!1,selectedRows:i,loading:t,data:a,columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))),c&&Object.keys(s).length?R.a.createElement(q,n()({},o,{modalVisible:c})):null)}}]),a}(D.PureComponent))||A)||A;a.default=Z}}]);