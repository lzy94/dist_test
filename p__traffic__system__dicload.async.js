(window.webpackJsonp=window.webpackJsonp||[]).push([[168],{aJp1:function(e,a,t){"use strict";t.r(a);t("IzEo");var l,i=t("bx4M"),n=(t("miYZ"),t("tsqr")),r=(t("P2fV"),t("NJEC")),d=(t("/zsF"),t("PArb")),c=(t("5Dmo"),t("3S7+")),o=t("lwsE"),s=t.n(o),m=t("W8MJ"),u=t.n(m),p=t("a1gu"),h=t.n(p),b=t("Nsbk"),y=t.n(b),E=t("7W2i"),f=t.n(E),g=t("pVnL"),k=t.n(g),V=t("MVZn"),F=t.n(V),D=(t("2qtc"),t("kLXV")),w=(t("giR+"),t("fyUT")),M=(t("5NDa"),t("5rEg")),v=(t("+L6B"),t("2/Rp")),C=(t("y8nQ"),t("Vl3Y")),N=t("q1tI"),O=t.n(N),T=t("MuoO"),x=t("mf+E"),U=t("CkN6"),q=t("+n12"),L=t("9zHi"),j=t.n(L),J=t("ZP6J"),S=t.n(J),z=C.a.Item,A=["/system/dicload","/system/dicload/add","/system/dicload/update","/system/dicload/delete"],I=C.a.create()(function(e){var a=e.modalVisible,t=e.form,l=e.handleAdd,i=e.handleModalVisible,n=e.loading,r=function(){t.validateFields(function(e,a){e||l(a,function(){return t.resetFields()})})};return O.a.createElement(D.a,{destroyOnClose:!0,title:"添加限重设置",className:S.a.formModal,visible:a,onOk:r,onCancel:function(){return i()},footer:[O.a.createElement(v.a,{key:"back",onClick:function(){return i()}},"取消"),O.a.createElement(v.a,{key:"submit",type:"primary",loading:n,onClick:r},"确定")]},O.a.createElement("div",{className:S.a.formModalBody},O.a.createElement(z,{hasFeedback:!0,label:"车型"},t.getFieldDecorator("carType",{rules:[{required:!0,message:"请输入车型！"}]})(O.a.createElement(M.a,{placeholder:"请输入"}))),O.a.createElement(z,{hasFeedback:!0,label:"车型代码"},t.getFieldDecorator("carTypeCode",{rules:[{required:!0,message:"请输入车型代码！"}]})(O.a.createElement(w.a,{min:1,style:{width:"100%"},placeholder:"请输入"}))),O.a.createElement(z,{hasFeedback:!0,label:"车货总重(kg)"},t.getFieldDecorator("weightLimit",{rules:[{required:!0,message:"请输入车货总重！"}]})(O.a.createElement(w.a,{style:{width:"100%"},min:1,placeholder:"请输入"}))),O.a.createElement(z,{hasFeedback:!0,label:"轴数"},t.getFieldDecorator("axisNum",{rules:[{required:!0,message:"请输入轴数！"}]})(O.a.createElement(w.a,{style:{width:"100%"},min:2,placeholder:"请输入"})))))}),P=C.a.create()(function(e){var a=e.modalVisible,t=e.form,l=e.handleUpdate,i=e.handleUpdateModalVisible,n=e.loading,r=e.detail,d=function(){t.validateFields(function(e,a){e||(t.resetFields(),l(a))})},c=Object(q.c)(A[2]),o=c?{footer:[O.a.createElement(v.a,{key:"back",onClick:function(){return i()}},"取消"),O.a.createElement(v.a,{key:"submit",type:"primary",loading:n,onClick:d},"确定")]}:{footer:null},s={border:0,color:"rgba(0,0,0,.7)"};return O.a.createElement(D.a,k()({destroyOnClose:!0,title:c?"编辑限重设置":"限重设置详情",visible:a,className:S.a.formModal,onOk:d,onCancel:function(){return i()}},o),O.a.createElement("div",{className:S.a.formModalBody},c?O.a.createElement(N.Fragment,null,O.a.createElement(z,{hasFeedback:!0,label:"车型"},t.getFieldDecorator("carType",{initialValue:r.carType,rules:[{required:!0,message:"请输入车型！"}]})(O.a.createElement(M.a,{placeholder:"请输入"}))),O.a.createElement(z,{hasFeedback:!0,label:"车型代码"},t.getFieldDecorator("carTypeCode",{initialValue:r.carTypeCode,rules:[{required:!0,message:"请输入车型代码！"}]})(O.a.createElement(w.a,{min:1,style:{width:"100%"},placeholder:"请输入"}))),O.a.createElement(z,{hasFeedback:!0,label:"车货总重(kg)"},t.getFieldDecorator("weightLimit",{initialValue:r.weightLimit,rules:[{required:!0,message:"请输入车货总重！"}]})(O.a.createElement(w.a,{style:{width:"100%"},min:1,placeholder:"请输入"}))),O.a.createElement(z,{hasFeedback:!0,label:"轴数"},t.getFieldDecorator("axisNum",{initialValue:r.axisNum,rules:[{required:!0,message:"请输入轴数！"}]})(O.a.createElement(w.a,{disabled:r.id<0,style:{width:"100%"},min:2,placeholder:"请输入"})))):O.a.createElement(N.Fragment,null,O.a.createElement(z,{label:"车型"},t.getFieldDecorator("carType",{initialValue:r.carType,rules:[{required:!0,message:"请输入车型！"}]})(O.a.createElement(M.a,{disabled:!0,style:s,placeholder:"请输入"}))),O.a.createElement(z,{label:"车型代码"},t.getFieldDecorator("carTypeCode",{initialValue:r.carTypeCode,rules:[{required:!0,message:"请输入车型代码！"}]})(O.a.createElement(w.a,{disabled:!0,style:F()({width:"100%"},s),placeholder:"请输入"}))),O.a.createElement(z,{label:"车货总重(kg)"},t.getFieldDecorator("weightLimit",{initialValue:r.weightLimit})(O.a.createElement(M.a,{disabled:!0,style:s}))),O.a.createElement(z,{label:"轴数"},t.getFieldDecorator("axisNum",{initialValue:r.axisNum})(O.a.createElement(M.a,{disabled:!0,style:s}))))))}),B=Object(T.connect)(function(e){return{Dicload:e.Dicload,loading:e.loading.models.Dicload}})(l=C.a.create()(l=function(e){function a(){var e,t;s()(this,a);for(var l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return(t=h()(this,(e=y()(a)).call.apply(e,[this].concat(i)))).state={modalVisible:!1,updateModalVisible:!1,detail:{}},t.columns=[{title:"车型",dataIndex:"carType"},{title:"车型代码",dataIndex:"carTypeCode"},{title:"车货总重(kg)",dataIndex:"weightLimit"},{title:"轴数",dataIndex:"axisNum"},{title:"操作",width:Object(q.c)(A[3])?100:70,render:function(e,a){return O.a.createElement(N.Fragment,null,Object(q.c)(A[2])?O.a.createElement(c.a,{placement:"left",title:"编辑"},O.a.createElement(v.a,{onClick:function(){return t.showUpdateModal(a)},type:"primary",shape:"circle",icon:"edit",size:"small"})):O.a.createElement(c.a,{placement:"left",title:"详情"},O.a.createElement(v.a,{onClick:function(){return t.showUpdateModal(a)},type:"primary",shape:"circle",icon:"eye",size:"small"})),Object(q.c)(A[3])?O.a.createElement(N.Fragment,null,O.a.createElement(d.a,{type:"vertical"}),O.a.createElement(r.a,{title:"是否删除数据?",onConfirm:function(){return t.dataDel(a.id)},okText:"确定",cancelText:"取消"},O.a.createElement(c.a,{placement:"left",title:"删除"},O.a.createElement(v.a,{type:"danger",shape:"circle",icon:"delete",size:"small"})))):null)}}],t.dataDel=function(e){var a=t.props.dispatch;a({type:"Dicload/remove",payload:{id:e},callback:function(){a({type:"Dicload/fetch"}),n.a.success("删除成功")}})},t.showUpdateModal=function(e){t.setState({detail:e},function(){t.handleUpdateModalVisible(!0)})},t.handleModalVisible=function(e){t.setState({modalVisible:!!e})},t.handleUpdateModalVisible=function(e){t.setState({updateModalVisible:!!e})},t.handleAdd=function(e,a){var l=t.props.dispatch;l({type:"Dicload/add",payload:e,callback:function(){n.a.success("添加成功"),t.handleModalVisible(),a&&a(),l({type:"Dicload/fetch"})}})},t.handleUpdate=function(e){for(var a=t.props.dispatch,l=t.state.detail,i=Object.keys(e),r=JSON.parse(JSON.stringify(l)),d=0;d<i.length;d++)r[i[d]]=e[i[d]];t.setState({detail:r}),a({type:"Dicload/update",payload:r,callback:function(){n.a.success("编辑成功"),t.handleUpdateModalVisible(),a({type:"Dicload/fetch"})}})},t}return f()(a,e),u()(a,[{key:"componentDidMount",value:function(){Object(q.c)(A[0])&&(0,this.props.dispatch)({type:"Dicload/fetch"})}},{key:"render",value:function(){var e=this,a=this.props,t=a.Dicload.data,l=a.loading,n=this.state,r=n.modalVisible,d=n.updateModalVisible,c=n.detail,o={handleAdd:this.handleAdd,handleModalVisible:this.handleModalVisible,loading:l},s={handleUpdateModalVisible:this.handleUpdateModalVisible,handleUpdate:this.handleUpdate,loading:l,detail:c};return O.a.createElement(N.Fragment,null,O.a.createElement(i.a,{bordered:!1},Object(q.c)(A[0])?"":O.a.createElement(x.a,{to:"/exception/403"}),O.a.createElement("div",{className:j.a.tableList},O.a.createElement("div",{className:j.a.tableListOperator},Object(q.c)(A[1])?O.a.createElement(v.a,{icon:"plus",type:"primary",onClick:function(){return e.handleModalVisible(!0)}},"新建"):null),O.a.createElement(U.a,{size:"middle",selectedRows:0,rowSelection:null,loading:l,data:t,tableAlert:!1,columns:this.columns}))),O.a.createElement(I,k()({},o,{modalVisible:r})),d&&"{}"!==JSON.stringify(c)?O.a.createElement(P,k()({},s,{modalVisible:d})):null)}}]),a}(N.PureComponent))||l)||l;a.default=B}}]);