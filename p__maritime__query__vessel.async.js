(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{k8pf:function(e,a,t){"use strict";t.r(a);var l,n=t("pVnL"),r=t.n(n),i=(t("14J3"),t("BMrR")),o=(t("jCWc"),t("kPKH")),s=(t("5NDa"),t("5rEg")),d=(t("5Dmo"),t("3S7+")),m=(t("+L6B"),t("2/Rp")),c=t("lwsE"),p=t.n(c),u=t("W8MJ"),h=t.n(u),f=t("a1gu"),E=t.n(f),g=t("Nsbk"),b=t.n(g),y=t("7W2i"),v=t.n(y),V=(t("2qtc"),t("kLXV")),S=(t("IzEo"),t("bx4M")),w=(t("bP8k"),t("gFTJ")),I=(t("y8nQ"),t("Vl3Y")),L=t("q1tI"),M=t.n(L),k=t("MuoO"),B=t("CkN6"),C=t("9zHi"),x=t.n(C),D=t("ZP6J"),F=t.n(D),N=t("+n12"),z=t("Py4S"),T=t.n(z),A=I.a.Item,P=I.a.create()(function(e){var a=e.modalVisible,t=e.handleModalVisible,l=e.detail,n=(l.shipPhotos?l.shipPhotos.split(","):[]).map(function(e,a){return M.a.createElement("div",{key:a,style:{overflow:"hidden",width:125,height:125,float:"left",marginRight:10}},M.a.createElement(T.a,{backdrop:"rgba(255,255,255,.3)",src:N.E+e,alt:"图片",style:{width:"100%",height:"125px"}}))});return M.a.createElement(V.a,{destroyOnClose:!0,title:"详情",className:F.a.formModal,visible:a,width:800,onCancel:function(){return t()},footer:null},M.a.createElement(S.a,{bordered:!1},M.a.createElement(w.a,{column:2,size:"small",bordered:!0},M.a.createElement(w.a.Item,{label:"船舶号"},l.shipCode),M.a.createElement(w.a.Item,{label:"船只型号"},l.shipType),M.a.createElement(w.a.Item,{label:"排水量"},l.displacement),M.a.createElement(w.a.Item,{label:"吨位"},l.tonnage),M.a.createElement(w.a.Item,{label:"船长名称"},l.shipLeader),M.a.createElement(w.a.Item,{label:"船长联系方式"},l.shipLeaderTel),M.a.createElement(w.a.Item,{label:"运输证号"},l.transportCode),M.a.createElement(w.a.Item,{label:"经营范围"},l.businessScope),M.a.createElement(w.a.Item,{label:"船只图片"},n))))}),J=Object(k.connect)(function(e){return{MaritimeVessel:e.MaritimeVessel,loading:e.loading.models.MaritimeVessel}})(l=I.a.create()(l=function(e){function a(){var e,t;p()(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(t=E()(this,(e=b()(a)).call.apply(e,[this].concat(n)))).state={modalVisible:!1,formValues:[],detail:{}},t.columns=[{title:"船舶号",dataIndex:"shipCode"},{title:"船长",dataIndex:"shipLeader"},{title:"船只型号",dataIndex:"shipType"},{title:"经营范围",dataIndex:"businessScope"},{title:"运输证号",dataIndex:"transportCode"},{title:"吨位",dataIndex:"tonnage"},{title:"排水量",dataIndex:"displacement"},{title:"操作",width:80,render:function(e,a){return M.a.createElement(L.Fragment,null,M.a.createElement(d.a,{placement:"left",title:"详情"},M.a.createElement(m.a,{onClick:function(){return t.getDetail(a)},type:"primary",shape:"circle",icon:"eye",size:"small"})))}}],t.getList=function(e){(0,t.props.dispatch)({type:"MaritimeVessel/fetch",payload:e})},t.getDetail=function(e){t.setState({detail:e},function(){return t.handleModalVisible(!0)})},t.handleStandardTableChange=function(e){var a=t.state.formValues,l={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:a};t.getList(l)},t.handleFormReset=function(){t.props.form.resetFields(),t.setState({formValues:[]}),t.getList({pageBean:t.state.pageBean})},t.handleSearch=function(e){e.preventDefault(),t.props.form.validateFields(function(e,a){if(!e){var l=[{property:"shipType",value:a.czxh,group:"main",operation:"LIKE",relation:"AND"},{property:"businessScope",value:a.jyfw,group:"main",operation:"LIKE",relation:"AND"},{property:"tonnage",value:a.dw,group:"main",operation:"EQUAL",relation:"AND"},{property:"displacement",value:a.psl,group:"main",operation:"EQUAL",relation:"AND"}].filter(function(e){return e.value});t.setState({formValues:l}),t.getList({pageBean:t.state.pageBean,querys:l})}})},t.handleModalVisible=function(e){t.setState({modalVisible:!!e}),e||t.setState({detail:{}})},t.handleUpdateModalVisible=function(e){t.setState({updateModalVisible:!!e}),e||t.setState({detail:{}})},t}return v()(a,e),h()(a,[{key:"componentDidMount",value:function(){var e=this.state.pageBean;this.getList({pageBean:e})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return M.a.createElement(I.a,{onSubmit:this.handleSearch,layout:"inline"},M.a.createElement(i.a,{gutter:{md:8,lg:16,xl:32}},M.a.createElement(o.a,{md:5,sm:24},M.a.createElement(A,null,e("czxh")(M.a.createElement(s.a,{addonBefore:"船只型号",placeholder:"请输入"})))),M.a.createElement(o.a,{md:5,sm:24},M.a.createElement(A,null,e("jyfw")(M.a.createElement(s.a,{addonBefore:"经营范围",placeholder:"请输入"})))),M.a.createElement(o.a,{md:5,sm:24},M.a.createElement(A,null,e("dw")(M.a.createElement(s.a,{addonBefore:"吨位",placeholder:"请输入"})))),M.a.createElement(o.a,{md:5,sm:24},M.a.createElement(A,null,e("psl")(M.a.createElement(s.a,{addonBefore:"排水量",placeholder:"请输入"})))),M.a.createElement(o.a,{md:4,sm:24},M.a.createElement("span",{className:x.a.submitButtons},M.a.createElement(m.a,{type:"primary",htmlType:"submit"},"查询"),M.a.createElement(m.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this.props,a=e.MaritimeVessel.data,t=e.loading,l=this.state,n=l.modalVisible,i=l.detail,o={detail:i,handleModalVisible:this.handleModalVisible};return M.a.createElement(L.Fragment,null,M.a.createElement(S.a,{bordered:!1},M.a.createElement("div",{className:x.a.tableList},M.a.createElement("div",{className:x.a.tableListForm},this.renderSimpleForm()),M.a.createElement(B.a,{rowKey:"id_",size:"middle",tableAlert:!1,selectedRows:0,rowSelection:null,loading:t,data:a,columns:this.columns,onChange:this.handleStandardTableChange}))),n&&Object.keys(i).length?M.a.createElement(P,r()({},o,{modalVisible:n})):null)}}]),a}(L.PureComponent))||l)||l;a.default=J}}]);