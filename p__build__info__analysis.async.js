(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{yhaf:function(e,t,a){"use strict";a.r(t);a("IzEo");var n,l=a("bx4M"),r=(a("T2oS"),a("W9HT")),i=(a("14J3"),a("BMrR")),s=(a("+L6B"),a("2/Rp")),o=(a("jCWc"),a("kPKH")),c=(a("iQDF"),a("+eQT")),m=a("lwsE"),d=a.n(m),u=a("W8MJ"),p=a.n(u),h=a("a1gu"),f=a.n(h),y=a("Nsbk"),E=a.n(y),g=a("7W2i"),Y=a.n(g),v=(a("y8nQ"),a("Vl3Y")),k=a("q1tI"),b=a.n(k),S=a("MuoO"),w=a("wd/R"),C=a.n(w),N=a("ns75"),F=a.n(N),I=a("9zHi"),B=a.n(I),L=a("NWc4"),x=a.n(L),A=v.a.Item,D=["高速公路","国省干线","农村公路"],M=Object(S.connect)(function(e){return{BuildInfoAnalysis:e.BuildInfoAnalysis,loading:e.loading.models.BuildInfoAnalysis}})(n=v.a.create()(n=function(e){function t(){var e,a;d()(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=f()(this,(e=E()(t)).call.apply(e,[this].concat(l)))).state={isopen:!1,year:""},a.getList=function(e){(0,a.props.dispatch)({type:"BuildInfoAnalysis/fetch",payload:e})},a.handleFormReset=function(){a.props.form.resetFields(),a.setState({year:""}),a.getList({year:C()().format("YYYY")})},a.handleSearch=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var n=C()(t.time).format("YYYY"),l={year:n};a.setState({year:n}),a.getList(l)}})},a.renderTd=function(e){for(var t=[b.a.createElement("td",{key:"td_0"},"0"),b.a.createElement("td",{key:"td_1"},"0"),b.a.createElement("td",{key:"td_2"},"0")],a=0;a<e.length;a+=1){var n=D.indexOf(e[a].projectCategory);t[n]=b.a.createElement("td",{key:"td_".concat(n)},e[a].mileage)}return t},a.renderData=function(e){if(!e.length){var t=a.state.year;return b.a.createElement("tr",{key:"tr"},b.a.createElement("td",null,t||C()().format("YYYY")),b.a.createElement("td",null,"0"),b.a.createElement("td",null,"0"),b.a.createElement("td",null,"0"),b.a.createElement("td",null,"0"))}for(var n=e[0].year,l=0,r=0;r<e.length;r+=1)l+=parseInt(e[r].yearCompletedInvestment,10);return b.a.createElement("tr",{key:"tr"},b.a.createElement("td",null,n),a.renderTd(e),b.a.createElement("td",null,l))},a.handleOpenChange=function(e){e?a.setState({isopen:!0}):a.setState({isopen:!1})},a.handlePanelChange=function(e){a.setState({isopen:!1}),a.props.form.setFieldsValue({time:e})},a}return Y()(t,e),p()(t,[{key:"componentDidMount",value:function(){this.getList({year:C()().format("YYYY")})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.isopen;return b.a.createElement(v.a,{onSubmit:this.handleSearch,layout:"inline"},b.a.createElement(i.a,{gutter:16},b.a.createElement(o.a,{md:6,sm:24},b.a.createElement("div",{className:F.a.inputMain},b.a.createElement("span",{style:{width:"80px",lineHeight:"30px",height:"32px"},className:"ant-input-group-addon"},"年份选择"),b.a.createElement(A,{style:{flex:1,marginBottom:0}},e("time")(b.a.createElement(c.a,{open:t,mode:"year",placeholder:"请选择年份",format:"YYYY",onOpenChange:this.handleOpenChange,onPanelChange:this.handlePanelChange}))))),b.a.createElement(o.a,{md:6,sm:24},b.a.createElement("span",{className:B.a.submitButtons},b.a.createElement(s.a,{type:"primary",htmlType:"submit"},"查询"),b.a.createElement(s.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this.props,t=e.BuildInfoAnalysis.data,a=e.loading;return b.a.createElement(l.a,{bordered:!1,style:{height:"100%"}},b.a.createElement("div",{className:B.a.tableList},b.a.createElement("div",{className:B.a.tableListForm},this.renderSimpleForm()),b.a.createElement(r.a,{spinning:a},b.a.createElement("table",{className:"".concat(x.a.table," ").concat(x.a.table_pad)},b.a.createElement("tbody",null,b.a.createElement("tr",null,b.a.createElement("td",{rowSpan:2,className:x.a.title},"统计年份"),b.a.createElement("td",{colSpan:3,className:x.a.title},"建设总里程（km）"),b.a.createElement("td",{rowSpan:2,className:x.a.title},"当年完成投资（万元）")),b.a.createElement("tr",null,b.a.createElement("td",null,"高速公路（km）"),b.a.createElement("td",null,"国省干线（km）"),b.a.createElement("td",null,"农村公路（km）")),this.renderData(t))))))}}]),t}(k.PureComponent))||n)||n;t.default=M}}]);