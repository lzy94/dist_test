(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{AFnz:function(e,t,a){"use strict";a.r(t);a("IzEo");var n,r=a("bx4M"),i=(a("14J3"),a("BMrR")),l=(a("+L6B"),a("2/Rp")),o=(a("jCWc"),a("kPKH")),s=(a("iQDF"),a("+eQT")),m=a("lwsE"),c=a.n(m),d=a("W8MJ"),u=a.n(d),p=a("a1gu"),f=a.n(p),y=a("Nsbk"),Y=a.n(y),h=a("7W2i"),g=a.n(h),M=(a("y8nQ"),a("Vl3Y")),D=a("q1tI"),E=a.n(D),b=a("wd/R"),v=a.n(b),w=a("MuoO"),x=a("cVA7"),S=a.n(x),L=a("CkN6"),T=a("YP4+"),k=a("ns75"),F=a.n(k),N=a("9zHi"),B=a.n(N),C=a("GOYV"),R=a.n(C),A=M.a.Item,P=T.a.slice(1),U=Object(w.connect)(function(e){return{BuildSafetyUnit:e.BuildSafetyUnit,loading:e.loading.models.BuildSafetyUnit}})(n=M.a.create()(n=function(e){function t(){var e,a;c()(this,t);for(var n=arguments.length,r=new Array(n),m=0;m<n;m++)r[m]=arguments[m];return(a=f()(this,(e=Y()(t)).call.apply(e,[this].concat(r)))).state={},a.getList=function(e){(0,a.props.dispatch)({type:"BuildSafetyUnit/unitproject",payload:e})},a.handleFormReset=function(){a.props.form.resetFields(),a.getList({startTime:v()().format("YYYY-MM-DD"),endTime:v()().add(1,"days").format("YYYY-MM-DD")})},a.handleSearch=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){var n=t.time?{startTime:v()(t.time[0]).format("YYYY-MM-DD"),endTime:v()(t.time[1]).format("YYYY-MM-DD")}:{startTime:v()().format("YYYY-MM-DD"),endTime:v()().add(1,"days").format("YYYY-MM-DD")};a.getList(n)})},a.renderChart=function(e){var t=Object.keys(e[2]||{}),n={color:["#2498E4"],grid:{top:"8%",left:"0",right:"3%",bottom:"9%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{bottom:10,left:"center",data:["合格率"],itemWidth:14},xAxis:{type:"category",data:P},yAxis:{type:"value",axisLabel:{formatter:"{value} %"},splitLine:{show:!1,lineStyle:{color:"#48A2B3"}}},series:[{name:"合格率",data:t.map(function(t){return e[2][t]}).slice(2),type:"bar",barMaxWidth:50,label:{show:!0,position:"top",color:"#333"}}]};return E.a.createElement(S.a,{style:{height:"100%"},ref:a.myChart,option:n})},a.renderForm=function(){var e=a.props.form.getFieldDecorator;return E.a.createElement(M.a,{onSubmit:a.handleSearch,layout:"inline"},E.a.createElement(i.a,{gutter:16},E.a.createElement(o.a,{md:8,sm:24},E.a.createElement("div",{className:F.a.inputMain},E.a.createElement("span",{style:{width:"80px",lineHeight:"30px",height:"32px"},className:"ant-input-group-addon"},"检测时间"),E.a.createElement(A,{style:{flex:1,marginBottom:0}},e("time")(E.a.createElement(s.a.RangePicker,{className:F.a.inputGroupLeftRadius,style:{width:"100%"},format:"YYYY-MM-DD"}))))),E.a.createElement("div",{style:{overflow:"hidden"}},E.a.createElement("div",{style:{float:"right"}},E.a.createElement(l.a,{type:"primary",htmlType:"submit"},"查询"),E.a.createElement(l.a,{style:{marginLeft:8},onClick:a.handleFormReset},"重置")))))},a}return g()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.getList({startTime:v()().format("YYYY-MM-DD"),endTime:v()().add(1,"days").format("YYYY-MM-DD")})}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.BuildSafetyUnit.data;return E.a.createElement("div",{className:R.a.main},E.a.createElement(r.a,{bordered:!1},E.a.createElement("div",{className:B.a.tableListForm},this.renderForm())),E.a.createElement(r.a,{bordered:!1,className:R.a.content,bodyStyle:{height:"100%",display:"flex",flexDirection:"column"}},E.a.createElement("div",{className:R.a.myChart},this.renderChart(a.list)),E.a.createElement("div",{className:R.a.myTable},E.a.createElement(L.a,{tableAlert:!1,selectedRows:0,rowSelection:null,loading:t,data:{list:a.list},size:"middle",columns:a.columns,pagination:!1}))))}}]),t}(D.PureComponent))||n)||n;t.default=U}}]);