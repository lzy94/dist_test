(window.webpackJsonp=window.webpackJsonp||[]).push([[179],{"4GTO":function(e,a,t){"use strict";t.r(a);var l,n=t("pVnL"),r=t.n(n),i=(t("IzEo"),t("bx4M")),s=(t("14J3"),t("BMrR")),o=(t("jCWc"),t("kPKH")),c=(t("miYZ"),t("tsqr")),d=(t("5Dmo"),t("3S7+")),m=(t("+L6B"),t("2/Rp")),u=(t("Awhp"),t("KrTs")),p=(t("+BJd"),t("mr32")),g=t("lwsE"),h=t.n(g),E=t("W8MJ"),b=t.n(E),f=t("a1gu"),y=t.n(f),v=t("Nsbk"),V=t.n(v),k=t("7W2i"),M=t.n(k),F=(t("2qtc"),t("kLXV")),L=(t("7Kak"),t("9yH6")),S=(t("5NDa"),t("5rEg")),w=(t("y8nQ"),t("Vl3Y")),B=t("q1tI"),D=t.n(B),O=t("MuoO"),T=t("mf+E"),C=t("CkN6"),N=t("9zHi"),U=t.n(N),x=t("+n12"),A=t("ZP6J"),J=t.n(A),q=w.a.Item,j=["/system/logsetting","/system/logsetting/add"],z=["禁用","启用"],I=["warning","success"],R=w.a.create()(function(e){var a=e.modalVisible,t=e.form,l=e.handleAdd,n=e.handleModalVisible;return D.a.createElement(F.a,{destroyOnClose:!0,title:"添加",className:J.a.formModal,visible:a,onOk:function(){t.validateFields(function(e,a){e||(t.resetFields(),l(a))})},onCancel:function(){return n()}},D.a.createElement("div",{className:J.a.formModalBody},D.a.createElement(q,{hasFeedback:!0,label:"缓存模块"},t.getFieldDecorator("moduleType",{rules:[{required:!0,message:"请输入缓存模块！"}]})(D.a.createElement(S.a,{placeholder:"请输入"}))),D.a.createElement(q,{hasFeedback:!0,label:"缓存保留天数"},t.getFieldDecorator("saveDays",{rules:[{required:!0,message:"请输入缓存保留天数！"}]})(D.a.createElement(L.a.Group,null,D.a.createElement(L.a,{value:"7"},"一周(7天)"),D.a.createElement(L.a,{value:"30"},"一个月(30天)"),D.a.createElement(L.a,{value:"90"},"三个月(90天)"),D.a.createElement(L.a,{value:"180"},"半年(180天)"),D.a.createElement(L.a,{value:"365"},"一年(365天)")))),D.a.createElement(q,{label:"描述"},t.getFieldDecorator("remark",{rules:[{message:"请输入描述！"}]})(D.a.createElement(S.a.TextArea,{placeholder:"请输入"}))),D.a.createElement(q,{label:"状态"},t.getFieldDecorator("status",{initialValue:"1",rules:[{message:"请选择状态！"}]})(D.a.createElement(L.a.Group,null,D.a.createElement(L.a,{value:"0"},"禁用"),D.a.createElement(L.a,{value:"1"},"启用"))))))}),G=w.a.create()(function(e){var a=e.modalVisible,t=e.form,l=e.handleUpdate,n=e.handleUpdateModalVisible,r=e.detail;return D.a.createElement(F.a,{destroyOnClose:!0,title:"编辑",className:J.a.formModal,visible:a,onOk:function(){t.validateFields(function(e,a){e||(t.resetFields(),l(a))})},onCancel:function(){return n()}},D.a.createElement("div",{className:J.a.formModalBody},D.a.createElement(q,{hasFeedback:!0,label:"缓存模块"},t.getFieldDecorator("moduleType",{initialValue:r.moduleType,rules:[{required:!0,message:"请输入缓存模块！"}]})(D.a.createElement(S.a,{placeholder:"请输入"}))),D.a.createElement(q,{hasFeedback:!0,label:"缓存保留天数"},t.getFieldDecorator("saveDays",{initialValue:r.saveDays,rules:[{required:!0,message:"请输入缓存保留天数！"}]})(D.a.createElement(L.a.Group,null,D.a.createElement(L.a,{value:7},"一周(7天)"),D.a.createElement(L.a,{value:30},"一个月(30天)"),D.a.createElement(L.a,{value:90},"三个月(90天)"),D.a.createElement(L.a,{value:180},"半年(180天)"),D.a.createElement(L.a,{value:365},"一年(365天)")))),D.a.createElement(q,{label:"描述"},t.getFieldDecorator("remark",{initialValue:r.remark,rules:[{message:"请输入描述！"}]})(D.a.createElement(S.a.TextArea,{placeholder:"请输入"}))),D.a.createElement(q,{label:"状态"},t.getFieldDecorator("status",{initialValue:r.status,rules:[{message:"请选择状态！"}]})(D.a.createElement(L.a.Group,null,D.a.createElement(L.a,{value:"0"},"禁用"),D.a.createElement(L.a,{value:"1"},"启用"))))))}),H=Object(O.connect)(function(e){return{Logsetting:e.Logsetting,loading:e.loading.models.Logsetting}})(l=w.a.create()(l=function(e){function a(){var e,t;h()(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(t=y()(this,(e=V()(a)).call.apply(e,[this].concat(n)))).state={modalVisible:!1,updateModalVisible:!1,formValues:[],detail:{},pageBean:{page:1,pageSize:10,showTotal:!0}},t.columns=[{title:"缓存模块",dataIndex:"moduleType"},{title:"缓存保留天数",dataIndex:"saveDays",render:function(e){var a="";switch(e){case 7:a=D.a.createElement(p.a,{color:"#87d068"},"一周");break;case 30:a=D.a.createElement(p.a,{color:"#87d068"},"一个月");break;case 90:a=D.a.createElement(p.a,{color:"#87d068"},"三个月");break;case 180:a=D.a.createElement(p.a,{color:"#87d068"},"半年");break;case 365:a=D.a.createElement(p.a,{color:"#87d068"},"一年");break;default:a=e}return a}},{title:"描述",dataIndex:"remark"},{title:"状态",dataIndex:"status",render:function(e){return D.a.createElement(u.a,{status:I[e],text:z[e]})}},Object(x.c)(j[1])?{title:"操作",width:70,render:function(e,a){return D.a.createElement(B.Fragment,null,D.a.createElement(d.a,{placement:"left",title:"编辑"},D.a.createElement(m.a,{onClick:function(){return t.showModal(a)},type:"primary",shape:"circle",icon:"edit",size:"small"})))}}:""].filter(function(e){return e}),t.dataDel=function(e){t.delUtil(e)},t.delUtil=function(e){var a=t.props.dispatch,l=t.state.pageBean;a({type:"Logsetting/remove",payload:{ids:e},callback:function(){t.setState({selectedRows:[]}),t.getList({pageBean:l})}})},t.showModal=function(e){t.setState({detail:e},function(){t.handleUpdateModalVisible(!0)})},t.getList=function(e){(0,t.props.dispatch)({type:"Logsetting/fetch",payload:e})},t.handleStandardTableChange=function(e,a,l){var n=t.props.dispatch,r=t.state.formValues;n({type:"Logsetting/fetch",payload:{pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:r}})},t.handleFormReset=function(){var e=t.props,a=e.form,l=e.dispatch,n=t.state.pageBean;a.resetFields(),t.setState({formValues:[]}),l({type:"Logsetting/fetch",payload:{pageBean:n}})},t.handleModalVisible=function(e){t.setState({modalVisible:!!e})},t.handleUpdateModalVisible=function(e){t.setState({updateModalVisible:!!e})},t.handleAdd=function(e){var a=t.state.pageBean;(0,t.props.dispatch)({type:"Logsetting/saveData",payload:e,callback:function(){t.getList({pageBean:a}),c.a.success("添加成功"),t.handleModalVisible()}})},t.handleUpdate=function(e){for(var a=t.props.dispatch,l=t.state,n=l.detail,r=l.pageBean,i=JSON.parse(JSON.stringify(n)),s=Object.keys(e),o=0;o<s.length;o++)i[s[o]]=e[s[o]];t.setState({detail:i}),a({type:"Logsetting/saveData",payload:i,callback:function(){c.a.success("编辑成功"),t.handleUpdateModalVisible(),t.setState({detail:{}}),t.getList({pageBean:r})}})},t}return M()(a,e),b()(a,[{key:"componentDidMount",value:function(){if(Object(x.c)(j[0])){var e=this.state.pageBean;this.getList({pageBean:e})}}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return D.a.createElement(w.a,{onSubmit:this.handleSearch,layout:"inline"},D.a.createElement(s.a,{gutter:{md:8,lg:16,xl:32}},D.a.createElement(o.a,{md:5,sm:24},D.a.createElement(q,null,e("moduleType")(D.a.createElement(S.a,{addonBefore:"模块",placeholder:"请输入"})))),D.a.createElement(o.a,{md:6,sm:24},D.a.createElement("span",{className:U.a.submitButtons},D.a.createElement(m.a,{type:"primary",htmlType:"submit"},"查询"),D.a.createElement(m.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this,a=this.props,t=a.Logsetting.data,l=a.loading,n=this.state,s=n.modalVisible,o=n.updateModalVisible,c=n.detail,d={handleAdd:this.handleAdd,handleModalVisible:this.handleModalVisible},u={handleUpdateModalVisible:this.handleUpdateModalVisible,handleUpdate:this.handleUpdate,detail:c};return D.a.createElement(B.Fragment,null,Object(x.c)(j[0])?null:D.a.createElement(T.a,{to:"/exception/403"}),D.a.createElement(i.a,{bordered:!1},D.a.createElement("div",{className:U.a.tableList},D.a.createElement("div",{className:U.a.tableListOperator},Object(x.c)(j[1])?D.a.createElement(m.a,{icon:"plus",type:"primary",onClick:function(){return e.handleModalVisible(!0)}},"新建"):null),D.a.createElement(C.a,{tableAlert:!1,size:"middle",selectedRows:0,rowSelection:null,loading:l,data:t,columns:this.columns,onChange:this.handleStandardTableChange}))),D.a.createElement(R,r()({},d,{modalVisible:s})),o&&"{}"!==JSON.stringify(c)?D.a.createElement(G,r()({},u,{modalVisible:o})):null)}}]),a}(B.PureComponent))||l)||l;a.default=H}}]);