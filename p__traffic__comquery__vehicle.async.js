(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{hDg8:function(e,a,t){"use strict";t.r(a);var n,l=t("pVnL"),r=t.n(l),i=(t("IzEo"),t("bx4M")),m=(t("14J3"),t("BMrR")),c=(t("5NDa"),t("5rEg")),o=(t("jCWc"),t("kPKH")),s=(t("nRaC"),t("5RzL")),d=t("MVZn"),p=t.n(d),u=(t("5Dmo"),t("3S7+")),h=(t("+L6B"),t("2/Rp")),E=t("lwsE"),g=t.n(E),f=t("W8MJ"),b=t.n(f),y=t("a1gu"),v=t.n(y),I=t("Nsbk"),C=t.n(I),w=t("7W2i"),M=t.n(w),V=(t("2qtc"),t("kLXV")),x=(t("bP8k"),t("gFTJ")),N=(t("OaEy"),t("2fM7")),L=(t("y8nQ"),t("Vl3Y")),S=t("q1tI"),k=t.n(S),B=t("MuoO"),D=t("wd/R"),R=t.n(D),Y=t("mf+E"),O=t("CkN6"),T=t("+n12"),F=t("9zHi"),z=t.n(F),J=t("ns75"),U=t.n(J),j=t("ZP6J"),q=t.n(j),H=L.a.Item,W=N.a.Option,A=["身份证","执法证","军官证","护照","其他"],G=["","小型载货汽车","拖拉机","畜力车","中型载货汽车","大型载货汽车","特大型载货汽车","拖挂车","集装箱车","小型客车","大型客车","摩托车"],P=["/comquery/vehicle"],K=L.a.create()(function(e){var a=e.modalVisible,t=e.handleUpdateModalVisible,n=e.detail;return k.a.createElement(V.a,{destroyOnClose:!0,title:"货运车辆详情",className:q.a.myModal+" "+q.a.modalbody,visible:a,onCancel:function(){return t()},width:800,footer:null},k.a.createElement("div",{className:q.a.detailMsg},k.a.createElement("div",{style:{padding:20}},k.a.createElement(x.a,{bordered:!0,size:"small",column:2},k.a.createElement(x.a.Item,{label:"车牌号"},n.carCode),k.a.createElement(x.a.Item,{label:"车品牌型号"},n.carBrand),k.a.createElement(x.a.Item,{label:"货车类型"},G[n.carType]),k.a.createElement(x.a.Item,{label:"发动机号"},n.engineCode),k.a.createElement(x.a.Item,{label:"车主"},n.vehicleOwner),k.a.createElement(x.a.Item,{label:"证件类型"},A[parseInt(n.legalRepresent)-1]),k.a.createElement(x.a.Item,{label:"证件号码"},n.idCardNo),k.a.createElement(x.a.Item,{label:"道路运输证号"},n.transportLicence),k.a.createElement(x.a.Item,{label:"车辆状态"},parseInt(n.carrierNo)?"运营":"停运"),k.a.createElement(x.a.Item,{label:"总重量(kg)"},n.weight),k.a.createElement(x.a.Item,{label:"核定载重量(kg)"},n.limitedWeight),k.a.createElement(x.a.Item,{label:"车货长宽高(m)"},n.limited),k.a.createElement(x.a.Item,{label:"轴数"},"other"===n.axisNum?"其它":n.axisNum),k.a.createElement(x.a.Item,{label:"经营范围"},n.manageRang),k.a.createElement(x.a.Item,{label:"有效截止日期"},R()(n.effectiveDate).format("YYYY-MM-DD")),k.a.createElement(x.a.Item,{label:"技术等级"},n.technicalGrade),k.a.createElement(x.a.Item,{label:"下次技术评定日期"},R()(n.nextCheckTechnical).format("YYYY-MM-DD")),k.a.createElement(x.a.Item,{label:"下次年审日期"},R()(n.nextAnnualReview).format("YYYY-MM-DD")),k.a.createElement(x.a.Item,{label:"是否所属货运企业"},parseInt(n.isTransportCompany)?"是":"否"),k.a.createElement(x.a.Item,{label:"货运企业"},n.transportCompanyName),k.a.createElement(x.a.Item,{label:"是否所属源头企业"},parseInt(n.isSourceCompany)?"是":"否"),k.a.createElement(x.a.Item,{label:"源头企业"},n.transportSourceName)))))}),Z=Object(B.connect)(function(e){var a=e.system,t=e.Vehicle,n=e.loading;return{treeList:a.treeList,Vehicle:t,loading:n.models.Vehicle}})(n=L.a.create()(n=function(e){function a(){var e,t;g()(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=v()(this,(e=C()(a)).call.apply(e,[this].concat(l)))).state={updateModalVisible:!1,formValues:[],detail:{},pageBean:{page:1,pageSize:10,showTotal:!0}},t.columns=[{title:"车牌号码",dataIndex:"carCode"},{title:"车主",dataIndex:"vehicleOwner"},{title:"经营范围",dataIndex:"manageRang"},{title:"核定载重量",dataIndex:"limitedWeight"},{title:"道路运输证号",dataIndex:"transportLicence"},{title:"车货长宽高",dataIndex:"limited"},{title:"轴数",dataIndex:"axisNum",render:function(e){return"other"===e?"其它":e}},{title:"操作",width:70,render:function(e,a){return k.a.createElement(S.Fragment,null,k.a.createElement(u.a,{placement:"left",title:"详情"},k.a.createElement(h.a,{onClick:function(){return t.showModal(a.id)},type:"primary",shape:"circle",icon:"eye",size:"small"})))}}],t.showModal=function(e){(0,t.props.dispatch)({type:"Vehicle/detail",payload:e,callback:function(e){t.setState({detail:e}),t.handleUpdateModalVisible(!0)}})},t.getList=function(e){(0,t.props.dispatch)({type:"Vehicle/fetch",payload:e})},t.handleStandardTableChange=function(e){var a=t.state.formValues,n={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:a};t.getList(n)},t.handleFormReset=function(){var e=t.props.form,a=t.state.pageBean;e.resetFields(),t.setState({formValues:[]}),t.getList({pageBean:a})},t.handleSearch=function(e){e.preventDefault();var a=t.props,n=a.dispatch;a.form.validateFields(function(e,a){if(!e){var l=t.state.pageBean,r=p()({},a),i=Object.keys(r).map(function(e){return r[e]?{property:e,value:r[e],group:"main",operation:"organCode"===e?"RIGHT_LIKE":"LIKE",relation:"AND"}:""}).filter(function(e){return e});t.setState({formValues:i}),n({type:"Vehicle/fetch",payload:{pageBean:l,querys:i}})}})},t.handleUpdateModalVisible=function(e,a){t.setState({updateModalVisible:!!e})},t}return M()(a,e),b()(a,[{key:"componentDidMount",value:function(){if(Object(T.c)(P[0])){var e=this.state.pageBean;this.getList({pageBean:e})}}},{key:"renderSimpleForm",value:function(){var e=this.props,a=e.treeList,t=e.form.getFieldDecorator;return k.a.createElement(L.a,{onSubmit:this.handleSearch,layout:"inline"},k.a.createElement(m.a,{gutter:{md:8,lg:16,xl:16}},k.a.createElement(o.a,{md:5,sm:24},k.a.createElement("div",{className:U.a.inputMain},k.a.createElement("span",{style:{width:"80px",lineHeight:"30px",height:"32px"},className:"ant-input-group-addon"},"所属机构"),k.a.createElement(H,{style:{flex:1}},t("organCode")(k.a.createElement(s.a,{className:U.a.inputGroupLeftRadius,treeData:a,style:{width:"100%"},placeholder:"请选择"}))))),k.a.createElement(o.a,{md:5,sm:24},k.a.createElement(H,null,t("carCode")(k.a.createElement(c.a,{addonBefore:"车牌号"})))),k.a.createElement(o.a,{md:5,sm:24},k.a.createElement(H,null,t("vehicleOwner")(k.a.createElement(c.a,{addonBefore:"车主"})))),k.a.createElement(o.a,{md:5,sm:24},k.a.createElement(H,null,t("transportLicence")(k.a.createElement(c.a,{addonBefore:"道路运输证号"})))),k.a.createElement(o.a,{md:4,sm:24},k.a.createElement("div",{className:U.a.inputMain},k.a.createElement("span",{style:{width:"50px",lineHeight:"30px",height:"32px"},className:"ant-input-group-addon"},"轴数"),k.a.createElement(H,{style:{flex:1}},t("axisNum")(k.a.createElement(N.a,{className:U.a.inputGroupLeftRadius,style:{width:"100%"}},k.a.createElement(W,{value:""},"全部轴数"),k.a.createElement(W,{value:"2"},"2"),k.a.createElement(W,{value:"3"},"3 "),k.a.createElement(W,{value:"4"},"4"),k.a.createElement(W,{value:"5"},"5"),k.a.createElement(W,{value:"6"},"6"),k.a.createElement(W,{value:"other"},"其它"))))))),k.a.createElement("div",{style:{overflow:"hidden"}},k.a.createElement("div",{style:{float:"right",marginBottom:24}},k.a.createElement(h.a,{type:"primary",htmlType:"submit"},"查询"),k.a.createElement(h.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置"))))}},{key:"render",value:function(){var e=this.props,a=e.Vehicle.data,t=e.loading,n=this.state,l=n.updateModalVisible,m=n.detail,c=n.isTransportCompany,o=n.isSourceCompany,s={handleUpdateModalVisible:this.handleUpdateModalVisible,handleUpdate:this.handleUpdate,loading:t,detail:m,transportCompanyChange:this.transportCompanyChange,sourceCompanyChange:this.sourceCompanyChange,isTransportCompany:c,isSourceCompany:o};return k.a.createElement(S.Fragment,null,Object(T.c)(P[0])?null:k.a.createElement(Y.a,{to:"/exception/403"}),k.a.createElement(i.a,{bordered:!1},k.a.createElement("div",{className:z.a.tableList},k.a.createElement("div",{className:z.a.tableListForm},this.renderSimpleForm()),k.a.createElement(O.a,{size:"middle",selectedRows:0,rowSelection:null,loading:t,data:a,tableAlert:!1,columns:this.columns,onChange:this.handleStandardTableChange}))),l&&"{}"!==JSON.stringify(m)?k.a.createElement(K,r()({},s,{modalVisible:l})):null)}}]),a}(S.PureComponent))||n)||n;a.default=Z}}]);