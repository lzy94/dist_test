(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{lAHg:function(e,t,a){"use strict";a.r(t);var l=a("pVnL"),n=a.n(l),r=(a("IzEo"),a("bx4M")),i=(a("14J3"),a("BMrR")),c=(a("jCWc"),a("kPKH")),o=(a("5NDa"),a("5rEg")),d=(a("miYZ"),a("tsqr")),s=(a("2qtc"),a("kLXV")),m=(a("P2fV"),a("NJEC")),u=(a("/zsF"),a("PArb")),p=(a("5Dmo"),a("3S7+")),E=(a("+L6B"),a("2/Rp")),f=a("lwsE"),h=a.n(f),g=a("W8MJ"),y=a.n(g),b=a("a1gu"),v=a.n(b),k=a("Nsbk"),C=a.n(k),w=a("7W2i"),S=a.n(w),F=(a("y8nQ"),a("Vl3Y")),V=a("q1tI"),B=a.n(V),M=a("MuoO"),I=a("CkN6"),D=a("MVZn"),q=a.n(D),N=(a("wd/R"),a("giR+"),a("fyUT")),W=a("NWc4"),A=a.n(W),P=F.a.Item;var R=F.a.create({mapPropsToFields:function(e){return function(e){for(var t=Object.keys(e),a={},l=0;l<t.length;l+=1)a[t[l]]=F.a.createFormField({value:e[t[l]]});return a}(e.field)},onValuesChange:function(e,t){e.onChange(t)}})(function(e){var t=e.form;return B.a.createElement("table",{className:A.a.table,style:{tableLayout:"auto"}},B.a.createElement("colgroup",null,B.a.createElement("col",{width:120}),B.a.createElement("col",{width:100})),B.a.createElement("tbody",null,B.a.createElement("tr",null,B.a.createElement("td",null,"项目及合同段"),B.a.createElement("td",{colSpan:2},B.a.createElement(P,null,t.getFieldDecorator("contractSegment",{rules:[{required:!0,message:"请输入项目及合同段"}]})(B.a.createElement(o.a,{placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",null,"企业名称"),B.a.createElement("td",{colSpan:2},B.a.createElement(P,null,t.getFieldDecorator("companyName",{rules:[{required:!0,message:"请输入企业名称"}]})(B.a.createElement(o.a,{placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",null,"所属区域（按市、州填写）"),B.a.createElement("td",{colSpan:2},B.a.createElement(P,null,t.getFieldDecorator("areaCity",{rules:[{required:!0,message:"请输入所属区域"}]})(B.a.createElement(o.a.TextArea,{placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",{rowSpan:2,className:A.a.title},"项目概算投资及到位资金情况（万元）"),B.a.createElement("td",null,"概算总投资"),B.a.createElement("td",null,B.a.createElement(P,null,t.getFieldDecorator("totalInvestment",{rules:[{required:!0,message:"请输入概算总投资"}]})(B.a.createElement(N.a,{style:{width:"100%"},min:0,placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",null,"累计到位资金"),B.a.createElement("td",null,B.a.createElement(P,null,t.getFieldDecorator("fundsPlace",{rules:[{required:!0,message:"请输入累计到位资金"}]})(B.a.createElement(N.a,{style:{width:"100%"},min:0,placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",{rowSpan:3,className:A.a.title},"合同额及支付情况(万元)"),B.a.createElement("td",null,"变更后的合同金额"),B.a.createElement("td",null,B.a.createElement(P,null,t.getFieldDecorator("changeAmount",{rules:[{required:!0,message:"请输入变更后的合同金额"}]})(B.a.createElement(N.a,{style:{width:"100%"},min:0,placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",null,"累计计量金额"),B.a.createElement("td",null,B.a.createElement(P,null,t.getFieldDecorator("measurementAmount",{rules:[{required:!0,message:"请输入累计计量金额"}]})(B.a.createElement(N.a,{style:{width:"100%"},min:0,placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",null,"累计支付金额"),B.a.createElement("td",null,B.a.createElement(P,null,t.getFieldDecorator("paymentAmount",{rules:[{required:!0,message:"请输入累计支付金额"}]})(B.a.createElement(N.a,{style:{width:"100%"},min:0,placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",{rowSpan:4,className:A.a.title},"农民工工资支付情况（万元）"),B.a.createElement("td",null,"总额"),B.a.createElement("td",null,B.a.createElement(P,null,t.getFieldDecorator("totalAmount",{rules:[{required:!0,message:"请输入总额"}]})(B.a.createElement(N.a,{style:{width:"100%"},min:0,placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",null,"预计尚需支付金额"),B.a.createElement("td",null,B.a.createElement(P,null,t.getFieldDecorator("stillPaidAmount",{rules:[{required:!0,message:"请输入预计尚需支付金额"}]})(B.a.createElement(N.a,{style:{width:"100%"},min:0,placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",null,"累计支付金额 "),B.a.createElement("td",null,B.a.createElement(P,null,t.getFieldDecorator("accumulatedSalaryPayment",{rules:[{required:!0,message:"请输入累计支付金额"}]})(B.a.createElement(N.a,{style:{width:"100%"},min:0,placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",null,"累计拖欠金额 "),B.a.createElement("td",null,B.a.createElement(P,null,t.getFieldDecorator("accumulatedArrears",{rules:[{required:!0,message:"请输入累计拖欠金额"}]})(B.a.createElement(N.a,{style:{width:"100%"},min:0,placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",{rowSpan:2,className:A.a.title},"农民工工资拖欠情况（万元）"),B.a.createElement("td",null,"本期拖欠金额"),B.a.createElement("td",null,B.a.createElement(P,null,t.getFieldDecorator("arrearscurrentPeriod",{rules:[{required:!0,message:"请输入本期拖欠金额"}]})(B.a.createElement(N.a,{style:{width:"100%"},min:0,placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",null,"截至上期 拖欠金额"),B.a.createElement("td",null,B.a.createElement(P,null,t.getFieldDecorator("amountArrears",{rules:[{required:!0,message:"请输入截至上期 拖欠金额"}]})(B.a.createElement(N.a,{style:{width:"100%"},min:0,placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",{rowSpan:2,className:A.a.title},"农民工工资保证金 (万元)"),B.a.createElement("td",null,"工资保证金"),B.a.createElement("td",null,B.a.createElement(P,null,t.getFieldDecorator("wageDeposit",{rules:[{required:!0,message:"请输入工资保证金"}]})(B.a.createElement(N.a,{style:{width:"100%"},min:0,placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",null,"应急周转金"),B.a.createElement("td",null,B.a.createElement(P,null,t.getFieldDecorator("emergencyWorkingCapital",{rules:[{required:!0,message:"请输入应急周转金"}]})(B.a.createElement(N.a,{style:{width:"100%"},min:0,placeholder:"请输入"}))))),B.a.createElement("tr",null,B.a.createElement("td",null,"备注"),B.a.createElement("td",{colSpan:2},B.a.createElement(P,null,t.getFieldDecorator("remarks",{rules:[{required:!0,message:"请输入备注"}]})(B.a.createElement(o.a.TextArea,{placeholder:"请输入"})))))))});R.defaultProps={field:{},onChange:function(){}};var L,x,j,O,T,U,z,J=R,H=a("ZP6J"),Z=a.n(H),K=Object(M.connect)(function(e){return{BuildWageInfo:e.BuildWageInfo,loading:e.loading.models.BuildWageInfo}})((j=x=function(e){function t(e){var a;return h()(this,t),(a=v()(this,C()(t).call(this,e))).state={field:{}},a.fieldChange=function(e){a.setState(function(t){var a=t.field;return{field:q()({},a,e)}})},a.save=function(){a.MyForm.current.validateFields(function(e,t){if(!e){var l=a.props,n=l.dispatch,r=l.modalCallback;n({type:"BuildWageInfo/add",payload:q()({},t),callback:function(){d.a.success("添加成功"),r(),a.cancelClick()}})}})},a.cancelClick=function(){(0,a.props.handleModalVisible)()},a.MyForm=B.a.createRef(),a}return S()(t,e),y()(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.modalVisible,l=this.state.field;return B.a.createElement(s.a,{destroyOnClose:!0,title:"新建工资详情",className:Z.a.formModal,visible:a,onCancel:this.cancelClick,width:1e3,footer:[B.a.createElement(E.a,{key:"back",onClick:this.cancelClick},"取消"),B.a.createElement(E.a,{key:"submit",type:"primary",loading:t,onClick:this.save},"确定")]},B.a.createElement(r.a,{bordered:!1},B.a.createElement(J,{onChange:this.fieldChange,field:l,ref:this.MyForm})))}}]),t}(V.PureComponent),x.defaultProps={modalVisible:!1,handleModalVisible:function(){},modalCallback:function(){}},L=j))||L,Y=Object(M.connect)(function(e){return{BuildWageInfo:e.BuildWageInfo,loading:e.loading.models.BuildWageInfo}})((U=T=function(e){function t(e){var a;return h()(this,t),(a=v()(this,C()(t).call(this,e))).state={field:{},isSet:!1},a.fieldChange=function(e){a.setState(function(t){var a=t.field;return{field:q()({},a,e)}})},a.save=function(){a.MyForm.current.validateFields(function(e,t){if(!e){for(var l=a.props,n=l.dispatch,r=l.modalCallback,i=a.state.field,c=q()({},i),o=Object.keys(t),s=0;s<o.length;s+=1)c[o[s]]=t[o[s]];if("object"==typeof t.improveUrl){var m=t.improveUrl.file.response;c.improveUrl=m?m.filePath:""}a.setState({field:c}),n({type:"BuildWageInfo/add",payload:c,callback:function(){d.a.success("编辑成功"),r(),a.cancelClick()}})}})},a.cancelClick=function(){(0,a.props.handleModalVisible)()},a.MyForm=B.a.createRef(),a}return S()(t,e),y()(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.modalVisible,l=this.state.field;return B.a.createElement(s.a,{destroyOnClose:!0,title:"编辑工资详情",className:Z.a.formModal,visible:a,onCancel:this.cancelClick,width:1e3,footer:[B.a.createElement(E.a,{key:"back",onClick:this.cancelClick},"取消"),B.a.createElement(E.a,{key:"submit",type:"primary",loading:t,onClick:this.save},"确定")]},B.a.createElement(r.a,{bordered:!1},B.a.createElement(J,{onChange:this.fieldChange,field:l,ref:this.MyForm})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.detail,l=t.isSet;return l?null:{isSet:!l,field:a}}}]),t}(V.PureComponent),T.defaultProps={detail:{},modalVisible:!1,handleModalVisible:function(){},modalCallback:function(){}},O=U))||O,Q=a("9zHi"),X=a.n(Q),G=F.a.Item,$=Object(M.connect)(function(e){return{BuildWageInfo:e.BuildWageInfo,loading:e.loading.models.BuildWageInfo}})(z=F.a.create()(z=function(e){function t(){var e,a;h()(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(a=v()(this,(e=C()(t)).call.apply(e,[this].concat(n)))).state={modalVisible:!1,updateModalVisible:!1,selectedRows:[],formValues:[],detail:{},pageBean:{page:1,pageSize:10,showTotal:!0}},a.columns=[{title:"企业名称",dataIndex:"companyName"},{title:"区域",dataIndex:"areaCity"},{title:"概算总投资",dataIndex:"totalInvestment"},{title:"累计到位资金",dataIndex:"fundsPlace"},{title:"变更后的合同金额",dataIndex:"changeAmount"},{title:"累计计量金额",dataIndex:"measurementAmount"},{title:"累计支付金额",dataIndex:"paymentAmount"},{title:"总额",dataIndex:"totalAmount"},{title:"操作",width:100,render:function(e,t){return B.a.createElement(V.Fragment,null,B.a.createElement(p.a,{placement:"left",title:"编辑"},B.a.createElement(E.a,{onClick:function(){return a.showDetailModal(t.id)},type:"primary",shape:"circle",icon:"file-search",size:"small"})),B.a.createElement(u.a,{type:"vertical"}),B.a.createElement(m.a,{title:"是否删除数据?",onConfirm:function(){return a.delUtil(t.id)},okText:"确定",cancelText:"取消"},B.a.createElement(p.a,{placement:"left",title:"删除"},B.a.createElement(E.a,{type:"danger",shape:"circle",icon:"delete",size:"small"}))))}}],a.batchDel=function(){s.a.confirm({title:"提示",content:"确定要删除数据吗？",okType:"danger",onOk:function(){var e=a.state.selectedRows;a.delUtil(e.map(function(e){return e.id}).join())}})},a.delUtil=function(e){(0,a.props.dispatch)({type:"BuildWageInfo/remove",payload:{ids:e},callback:function(){d.a.success("删除成功");var e=a.state.pageBean;a.getList({pageBean:e}),a.setState({selectedRows:[]})}})},a.getList=function(e){(0,a.props.dispatch)({type:"BuildWageInfo/fetch",payload:e})},a.showDetailModal=function(e){(0,a.props.dispatch)({type:"BuildWageInfo/detail",payload:e,callback:function(e){a.setState({detail:e},function(){return a.handleUpdateModalVisible(!0)})}})},a.handleStandardTableChange=function(e){var t=a.state.formValues,l={pageBean:{page:e.current,pageSize:e.pageSize,showTotal:!0},querys:t};a.getList(l)},a.handleFormReset=function(){var e=a.props.form,t=a.state.pageBean;e.resetFields(),a.setState({formValues:[],selectedRows:[]}),a.getList({pageBean:t})},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.handleSearch=function(e){e.preventDefault();var t=a.props.form,l=a.state.pageBean;t.validateFields(function(e,t){if(!e){var n={companyName:t.name,areaCity:t.area,contractSegment:t.project},r=Object.keys(n).map(function(e){return n[e]?{property:e,value:n[e],group:"main",operation:"LIKE",relation:"AND"}:""}).filter(function(e){return e});a.setState({formValues:r}),a.getList({pageBean:l,querys:r})}})},a.handleModalVisible=function(e){a.setState({modalVisible:!!e})},a.handleUpdateModalVisible=function(e){a.setState({updateModalVisible:!!e}),e||a.setState({detail:{}})},a.modalCallback=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add",t=a.state,l=t.pageBean,n=t.formValues;return"add"===e?a.getList({pageBean:l}):a.getList({pageBean:l,querys:n})},a}return S()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=this.state.pageBean;this.getList({pageBean:e})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return B.a.createElement(F.a,{onSubmit:this.handleSearch,layout:"inline"},B.a.createElement(i.a,{gutter:16},B.a.createElement(c.a,{md:5,sm:24},B.a.createElement(G,null,e("name")(B.a.createElement(o.a,{addonBefore:"企业名称名称",placeholder:"请输入"})))),B.a.createElement(c.a,{md:5,sm:24},B.a.createElement(G,null,e("area")(B.a.createElement(o.a,{addonBefore:"区域",placeholder:"请输入"})))),B.a.createElement(c.a,{md:5,sm:24},B.a.createElement(G,null,e("project")(B.a.createElement(o.a,{addonBefore:"项目及合同段",placeholder:"请输入"})))),B.a.createElement(c.a,{md:4,sm:24},B.a.createElement("span",{className:X.a.submitButtons},B.a.createElement(E.a,{type:"primary",htmlType:"submit"},"查询"),B.a.createElement(E.a,{style:{marginLeft:8},onClick:this.handleFormReset},"重置")))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.BuildWageInfo.data,l=t.loading,i=this.state,c=i.selectedRows,o=i.modalVisible,d=i.updateModalVisible,s=i.detail,m={modalCallback:this.modalCallback},u={handleModalVisible:this.handleModalVisible},p={detail:s,handleModalVisible:this.handleUpdateModalVisible};return B.a.createElement(V.Fragment,null,B.a.createElement(r.a,{bordered:!1},B.a.createElement("div",{className:X.a.tableList},B.a.createElement("div",{className:X.a.tableListForm},this.renderSimpleForm()),B.a.createElement("div",{className:X.a.tableListOperator},B.a.createElement(E.a,{icon:"plus",type:"primary",onClick:function(){return e.handleModalVisible(!0)}},"新建"),c.length>0&&B.a.createElement(E.a,{type:"danger",onClick:this.batchDel},"批量删除")),B.a.createElement(I.a,{tableAlert:!0,selectedRows:c,loading:l,data:a,size:"middle",columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange}))),o&&B.a.createElement(K,n()({},m,u,{modalVisible:o})),d&&Object.keys(s).length&&B.a.createElement(Y,n()({},m,p,{modalVisible:d})))}}]),t}(V.PureComponent))||z)||z;t.default=$}}]);